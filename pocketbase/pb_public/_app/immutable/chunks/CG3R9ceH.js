var aM=Object.defineProperty;var g_=t=>{throw TypeError(t)};var oM=(t,e,r)=>e in t?aM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var lt=(t,e,r)=>oM(t,typeof e!="symbol"?e+"":e,r),sM=(t,e,r)=>e.has(t)||g_("Cannot "+r);var _n=(t,e,r)=>(sM(t,e,"read from private field"),r?r.call(t):e.get(t)),io=(t,e,r)=>e.has(t)?g_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);import"./CWj6FrbW.js";import{i as uM,l as K4,a as lM,b as cM,c as fM,d as Vo,e as hM,n as dM,f as vM,s as Pe,g as pM,j as gM,k as _r,o as ly,p as m_,q as mM}from"./CMB193EP.js";import{ak as cy,aK as Z4,aL as yM,v as Xt,w as Vc,aM as X4,x as _f,aN as y_,H as J4,z as vg,A as Eu,B as $a,U as __,aO as _c,a3 as Dd,P as _o,D as ua,N as Q4,K as Na,a9 as b_,ai as w_,aP as x_,c as _M,I as ku,J as bc,ad as bM,ap as e6,C as fy,aQ as t6,g as E,_ as wM,y as xM,al as SM,as as TM,G as MM,aR as Sv,aS as Tv,F as bu,aw as r6,aT as DM,aU as Xp,aV as ju,aW as CM,an as AM,aX as IM,av as EM,aY as kM,a1 as n6,aZ as OM,E as PM,a_ as LM,ay as RM,L as Mv,b as Hc,M as i6,e as Li,a$ as NM,V as FM,b0 as zM,b1 as BM,b2 as $M,b3 as VM,b4 as HM,b5 as GM,b6 as WM,b7 as UM,b8 as qM,b9 as hy,k as de,l as Je,m as K,o as fe,n as q,ba as Va,t as rt,ae as ft,$ as Ou,R as Me,p as xa,q as Sa,i as _t,j as st,ag as Ct,bb as YM,bc as th,bd as jM,be as Pu,a as ha,T as Qr,ah as As,bf as KM,a8 as a6,aE as ZM,O as o6,aG as XM,bg as JM}from"./DaWFTQZo.js";import{l as nr,p as Lt,s as gr,b as yi,i as xt,a as Ns,c as Fs}from"./BFR2qiyg.js";import{i as s6}from"./DDsUEndq.js";import{_ as dy}from"./Dp1pzeXC.js";import{c as QM,g as eD,a as fr}from"./CTJ_O9Ji.js";import{b as tD,i as rD}from"./Bw0sYbqk.js";const nD=[];function S_(t,e=!1){return rd(t,new Map,"",nD)}function rd(t,e,r,n,i=null){if(typeof t=="object"&&t!==null){var a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(cy(t)){var o=Array(t.length);e.set(t,o),i!==null&&e.set(i,o);for(var s=0;s<t.length;s+=1){var u=t[s];s in t&&(o[s]=rd(u,e,r,n))}return o}if(Z4(t)===yM){o={},e.set(t,o),i!==null&&e.set(i,o);for(var l in t)o[l]=rd(t[l],e,r,n);return o}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return rd(t.toJSON(),e,r,n,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}const Jp=0,rh=1,Qp=2;function u6(t,e,r,n,i){Xt&&Vc();var a=t,o=X4(),s=_M,u=__,l,c,f,h=o?Dd(void 0):_o(void 0,!1,!1),d=o?Dd(void 0):_o(void 0,!1,!1),v=!1;function g(y,b){v=!0,b&&(b_(m),w_(m),x_(s));try{y===Jp&&r&&(l?ku(l):l=ua(()=>r(a))),y===rh&&n&&(c?ku(c):c=ua(()=>n(a,h))),y===Qp&&i&&(f?ku(f):f=ua(()=>i(a,d))),y!==Jp&&l&&bc(l,()=>l=null),y!==rh&&c&&bc(c,()=>c=null),y!==Qp&&f&&bc(f,()=>f=null)}finally{b&&(x_(null),w_(null),b_(null),bM())}}var m=_f(()=>{if(u===(u=e()))return;let y=Xt&&y_(u)===(a.data===J4);if(y&&(a=vg(),Eu(a),$a(!1),y=!0),y_(u)){var b=u;v=!1,b.then(w=>{b===u&&(_c(h,w),g(rh,!0))},w=>{if(b===u&&(_c(d,w),g(Qp,!0),!i))throw d.v}),Xt?r&&(l=ua(()=>r(a))):Q4(()=>{v||g(Jp,!0)})}else _c(h,u),g(rh,!1);return y&&$a(!0),()=>u=__});Xt&&(a=Na)}function vy(t,e){return e}function iD(t,e,r){for(var n=t.items,i=[],a=e.length,o=0;o<a;o++)IM(e[o].e,i,!0);var s=a>0&&i.length===0&&r!==null;if(s){var u=r.parentNode;EM(u),u.append(r),n.clear(),ta(t,e[0].prev,e[a-1].next)}kM(i,()=>{for(var l=0;l<a;l++){var c=e[l];s||(n.delete(c.k),ta(t,c.prev,c.next)),ju(c.e,!s)}})}function Ls(t,e,r,n,i,a=null){var o=t,s={flags:e,items:new Map,first:null},u=(e&t6)!==0;if(u){var l=t;o=Xt?Eu(e6(l)):l.appendChild(fy())}Xt&&Vc();var c=null,f=!1,h=new Map,d=wM(()=>{var y=r();return cy(y)?y:y==null?[]:r6(y)}),v,g;function m(){aD(g,v,s,h,o,i,e,n,r),a!==null&&(v.length===0?c?ku(c):c=ua(()=>a(o)):c!==null&&bc(c,()=>{c=null}))}_f(()=>{g??(g=n6),v=E(d);var y=v.length;if(f&&y===0)return;f=y===0;let b=!1;if(Xt){var w=xM(o)===J4;w!==(y===0)&&(o=vg(),Eu(o),$a(!1),b=!0)}if(Xt){for(var S=null,D,M=0;M<y;M++){if(Na.nodeType===SM&&Na.data===TM){o=Na,b=!0,$a(!1);break}var A=v[M],k=n(A,M);D=pg(Na,s,S,null,A,k,M,i,e,r),s.items.set(k,D),S=D}y>0&&Eu(vg())}if(Xt)y===0&&a&&(c=ua(()=>a(o)));else if(MM()){var O=new Set,P=bu;for(M=0;M<y;M+=1){A=v[M],k=n(A,M);var R=s.items.get(k)??h.get(k);R?(e&(Sv|Tv))!==0&&l6(R,A,M,e):(D=pg(null,s,null,null,A,k,M,i,e,r,!0),h.set(k,D)),O.add(k)}for(const[H,z]of s.items)O.has(H)||P.skipped_effects.add(z.e);P.add_callback(m)}else m();b&&$a(!0),E(d)}),Xt&&(o=Na)}function aD(t,e,r,n,i,a,o,s,u){var te,oe,Q,ue;var l=(o&CM)!==0,c=(o&(Sv|Tv))!==0,f=e.length,h=r.items,d=r.first,v=d,g,m=null,y,b=[],w=[],S,D,M,A;if(l)for(A=0;A<f;A+=1)S=e[A],D=s(S,A),M=h.get(D),M!==void 0&&((te=M.a)==null||te.measure(),(y??(y=new Set)).add(M));for(A=0;A<f;A+=1){if(S=e[A],D=s(S,A),M=h.get(D),M===void 0){var k=n.get(D);if(k!==void 0){n.delete(D),h.set(D,k);var O=m?m.next:v;ta(r,m,k),ta(r,k,O),e1(k,O,i),m=k}else{var P=v?v.e.nodes_start:i;m=pg(P,r,m,m===null?r.first:m.next,S,D,A,a,o,u)}h.set(D,m),b=[],w=[],v=m.next;continue}if(c&&l6(M,S,A,o),(M.e.f&Xp)!==0&&(ku(M.e),l&&((oe=M.a)==null||oe.unfix(),(y??(y=new Set)).delete(M))),M!==v){if(g!==void 0&&g.has(M)){if(b.length<w.length){var R=w[0],H;m=R.prev;var z=b[0],W=b[b.length-1];for(H=0;H<b.length;H+=1)e1(b[H],R,i);for(H=0;H<w.length;H+=1)g.delete(w[H]);ta(r,z.prev,W.next),ta(r,m,z),ta(r,W,R),v=R,m=W,A-=1,b=[],w=[]}else g.delete(M),e1(M,v,i),ta(r,M.prev,M.next),ta(r,M,m===null?r.first:m.next),ta(r,m,M),m=M;continue}for(b=[],w=[];v!==null&&v.k!==D;)(v.e.f&Xp)===0&&(g??(g=new Set)).add(v),w.push(v),v=v.next;if(v===null)continue;M=v}b.push(M),m=M,v=M.next}if(v!==null||g!==void 0){for(var ee=g===void 0?[]:r6(g);v!==null;)(v.e.f&Xp)===0&&ee.push(v),v=v.next;var ne=ee.length;if(ne>0){var he=(o&t6)!==0&&f===0?i:null;if(l){for(A=0;A<ne;A+=1)(Q=ee[A].a)==null||Q.measure();for(A=0;A<ne;A+=1)(ue=ee[A].a)==null||ue.fix()}iD(r,ee,he)}}l&&Q4(()=>{var pe;if(y!==void 0)for(M of y)(pe=M.a)==null||pe.apply()}),t.first=r.first&&r.first.e,t.last=m&&m.e;for(var X of n.values())ju(X.e);n.clear()}function l6(t,e,r,n){(n&Sv)!==0&&_c(t.v,e),(n&Tv)!==0?_c(t.i,r):t.i=r}function pg(t,e,r,n,i,a,o,s,u,l,c){var f=(u&Sv)!==0,h=(u&DM)===0,d=f?h?_o(i,!1,!1):Dd(i):i,v=(u&Tv)===0?o:Dd(o),g={i:v,v:d,k:a,a:null,e:null,prev:r,next:n};try{if(t===null){var m=document.createDocumentFragment();m.append(t=fy())}return g.e=ua(()=>s(t,d,v,l),Xt),g.e.prev=r&&r.e,g.e.next=n&&n.e,r===null?c||(e.first=g):(r.next=g,r.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function e1(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,a=t.e.nodes_start;a!==null&&a!==n;){var o=AM(a);i.before(a),a=o}}function ta(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function lr(t,e,r,n,i){var s;Xt&&Vc();var a=(s=e.$$slots)==null?void 0:s[r],o=!1;a===!0&&(a=e.children,o=!0),a===void 0?i!==null&&i(t):a(t,o?()=>n:n)}function oD(t,e,r,n,i,a){let o=Xt;Xt&&Vc();var s,u,l=null;Xt&&Na.nodeType===OM&&(l=Na,Vc());var c=Xt?Na:t,f;_f(()=>{const h=e()||null;var d=LM;h!==s&&(f&&(h===null?bc(f,()=>{f=null,u=null}):h===u?ku(f):ju(f)),h&&h!==u&&(f=ua(()=>{if(l=Xt?l:document.createElementNS(d,h),RM(l,l),n){Xt&&uM(h)&&l.append(document.createComment(""));var v=Xt?e6(l):l.appendChild(fy());Xt&&(v===null?$a(!1):Eu(v)),n(l,v)}n6.nodes_end=l,c.before(l)})),s=h,s&&(u=s))},PM),o&&($a(!0),Eu(c))}function _s(t,e,r){Mv(()=>{var n=Hc(()=>e(t,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var i=!1,a={};i6(()=>{var o=r();Li(o),i&&NM(a,o)&&(a=o,n.update(o))}),i=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function sD(t,e){var r=void 0,n;_f(()=>{r!==(r=e())&&(n&&(ju(n),n=null),r&&(n=ua(()=>{Mv(()=>r(t))})))})}function c6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=c6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function uD(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=c6(t))&&(n&&(n+=" "),n+=e);return n}function py(t){return typeof t=="object"?uD(t):t??""}const T_=[...` 	
\r\fÂ \v\uFEFF`];function lD(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var a=i.length,o=0;(o=n.indexOf(i,o))>=0;){var s=o+a;(o===0||T_.includes(n[o-1]))&&(s===n.length||T_.includes(n[s]))?n=(o===0?"":n.substring(0,o))+n.substring(s+1):o=s}}return n===""?null:n}function M_(t,e=!1){var r=e?" !important;":";",n="";for(var i in t){var a=t[i];a!=null&&a!==""&&(n+=" "+i+": "+a+r)}return n}function t1(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function cD(t,e){if(e){var r="",n,i;if(Array.isArray(e)?(n=e[0],i=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,o=0,s=!1,u=[];n&&u.push(...Object.keys(n).map(t1)),i&&u.push(...Object.keys(i).map(t1));var l=0,c=-1;const g=t.length;for(var f=0;f<g;f++){var h=t[f];if(s?h==="/"&&t[f-1]==="*"&&(s=!1):a?a===h&&(a=!1):h==="/"&&t[f+1]==="*"?s=!0:h==='"'||h==="'"?a=h:h==="("?o++:h===")"&&o--,!s&&a===!1&&o===0){if(h===":"&&c===-1)c=f;else if(h===";"||f===g-1){if(c!==-1){var d=t1(t.substring(l,c).trim());if(!u.includes(d)){h!==";"&&f++;var v=t.substring(l,f).trim();r+=" "+v+";"}}l=f+1,c=-1}}}}return n&&(r+=M_(n)),i&&(r+=M_(i,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function Gc(t,e,r,n,i,a){var o=t.__className;if(Xt||o!==r||o===void 0){var s=lD(r,n,a);(!Xt||s!==t.getAttribute("class"))&&(s==null?t.removeAttribute("class"):e?t.className=s:t.setAttribute("class",s)),t.__className=r}else if(a&&i!==a)for(var u in a){var l=!!a[u];(i==null||l!==!!i[u])&&t.classList.toggle(u,l)}return a}function r1(t,e={},r,n){for(var i in r){var a=r[i];e[i]!==a&&(r[i]==null?t.style.removeProperty(i):t.style.setProperty(i,a,n))}}function gg(t,e,r,n){var i=t.__style;if(Xt||i!==e){var a=cD(e,n);(!Xt||a!==t.getAttribute("style"))&&(a==null?t.removeAttribute("style"):t.style.cssText=a),t.__style=e}else n&&(Array.isArray(n)?(r1(t,r==null?void 0:r[0],n[0]),r1(t,r==null?void 0:r[1],n[1],"important")):r1(t,r,n));return n}function Cd(t,e,r=!1){if(t.multiple){if(e==null)return;if(!cy(e))return zM();for(var n of t.options)n.selected=e.includes(wc(n));return}for(n of t.options){var i=wc(n);if(BM(i,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function f6(t){var e=new MutationObserver(()=>{Cd(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),FM(()=>{e.disconnect()})}function Ad(t,e,r=e){var n=!0;K4(t,"change",i=>{var a=i?"[selected]":":checked",o;if(t.multiple)o=[].map.call(t.querySelectorAll(a),wc);else{var s=t.querySelector(a)??t.querySelector("option:not([disabled])");o=s&&wc(s)}r(o)}),Mv(()=>{var i=e();if(Cd(t,i,n),n&&i===void 0){var a=t.querySelector(":checked");a!==null&&(i=wc(a),r(i))}t.__value=i,n=!1}),f6(t)}function wc(t){return"__value"in t?t.__value:t.value}const Pl=Symbol("class"),Ll=Symbol("style"),h6=Symbol("is custom element"),d6=Symbol("is html");function jn(t){if(Xt){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var n=t.value;pn(t,"value",null),t.value=n}if(t.hasAttribute("checked")){var i=t.checked;pn(t,"checked",null),t.checked=i}}};t.__on_r=r,VM(r),lM()}}function qo(t,e){var r=Dv(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function nd(t,e){var r=Dv(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function mg(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function pn(t,e,r,n){var i=Dv(t);Xt&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=r)&&(e==="loading"&&(t[HM]=r),r==null?t.removeAttribute(e):typeof r!="string"&&v6(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function fD(t,e,r,n,i=!1){var a=Dv(t),o=a[h6],s=!a[d6];let u=Xt&&o;u&&$a(!1);var l=e||{},c=t.tagName==="OPTION";for(var f in e)f in r||(r[f]=null);r.class?r.class=py(r.class):(n||r[Pl])&&(r.class=null),r[Ll]&&(r.style??(r.style=null));var h=v6(t);for(const w in r){let S=r[w];if(c&&w==="value"&&S==null){t.value=t.__value="",l[w]=S;continue}if(w==="class"){var d=t.namespaceURI==="http://www.w3.org/1999/xhtml";Gc(t,d,S,n,e==null?void 0:e[Pl],r[Pl]),l[w]=S,l[Pl]=r[Pl];continue}if(w==="style"){gg(t,S,e==null?void 0:e[Ll],r[Ll]),l[w]=S,l[Ll]=r[Ll];continue}var v=l[w];if(!(S===v&&!(S===void 0&&t.hasAttribute(w)))){l[w]=S;var g=w[0]+w[1];if(g!=="$$")if(g==="on"){const D={},M="$$"+w;let A=w.slice(2);var m=vM(A);if(cM(A)&&(A=A.slice(0,-7),D.capture=!0),!m&&v){if(S!=null)continue;t.removeEventListener(A,l[M],D),l[M]=null}if(S!=null)if(m)t[`__${A}`]=S,Vo([A]);else{let k=function(O){l[w].call(this,O)};l[M]=fM(A,t,k,D)}else m&&(t[`__${A}`]=void 0)}else if(w==="style")pn(t,w,S);else if(w==="autofocus")hM(t,!!S);else if(!o&&(w==="__value"||w==="value"&&S!=null))t.value=t.__value=S;else if(w==="selected"&&c)mg(t,S);else{var y=w;s||(y=dM(y));var b=y==="defaultValue"||y==="defaultChecked";if(S==null&&!o&&!b)if(a[w]=null,y==="value"||y==="checked"){let D=t;const M=e===void 0;if(y==="value"){let A=D.defaultValue;D.removeAttribute(y),D.defaultValue=A,D.value=D.__value=M?A:null}else{let A=D.defaultChecked;D.removeAttribute(y),D.defaultChecked=A,D.checked=M?A:!1}}else t.removeAttribute(w);else b||h.includes(y)&&(o||typeof S!="string")?t[y]=S:typeof S!="function"&&pn(t,y,S)}}}return u&&$a(!0),l}function yg(t,e,r=[],n=[],i,a=!1){$M(r,n,o=>{var s=void 0,u={},l=t.nodeName==="SELECT",c=!1;if(_f(()=>{var h=e(...o.map(E)),d=fD(t,s,h,i,a);c&&l&&"value"in h&&Cd(t,h.value);for(let g of Object.getOwnPropertySymbols(u))h[g]||ju(u[g]);for(let g of Object.getOwnPropertySymbols(h)){var v=h[g];g.description===WM&&(!s||v!==s[g])&&(u[g]&&ju(u[g]),u[g]=ua(()=>sD(t,()=>v))),d[g]=v}s=d}),l){var f=t;Mv(()=>{Cd(f,s.value,!0),f6(f)})}c=!0})}function Dv(t){return t.__attributes??(t.__attributes={[h6]:t.nodeName.includes("-"),[d6]:t.namespaceURI===GM})}var D_=new Map;function v6(t){var e=D_.get(t.nodeName);if(e)return e;D_.set(t.nodeName,e=[]);for(var r,n=t,i=Element.prototype;i!==n;){r=UM(n);for(var a in r)r[a].set&&e.push(a);n=Z4(n)}return e}function p6(t,e,r=e){var n=X4(),i=new WeakSet;K4(t,"input",a=>{var o=a?t.defaultValue:t.value;if(o=n1(t)?i1(o):o,r(o),bu!==null&&i.add(bu),n&&o!==(o=e())){var s=t.selectionStart,u=t.selectionEnd;t.value=o??"",u!==null&&(t.selectionStart=s,t.selectionEnd=Math.min(u,t.value.length))}}),(Xt&&t.defaultValue!==t.value||Hc(e)==null&&t.value)&&(r(n1(t)?i1(t.value):t.value),bu!==null&&i.add(bu)),i6(()=>{var a=e();if(t===document.activeElement){var o=qM??bu;if(i.has(o))return}n1(t)&&a===i1(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function n1(t){var e=t.type;return e==="number"||e==="range"}function i1(t){return t===""?null:+t}var hD=hy(`<svg class="size-[3em] md:size-[3.5em] xl:size-[4em]" version="1.0" xmlns="http://www.w3.org/2000/svg" width="1431.000000pt" height="1392.000000pt" viewBox="0 0 1431.000000 1392.000000" preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,1392.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"><path class="fill-primary" d="M6545 13740 c-324 -11 -628 -46 -980 -112 -27 -5 -75 -13 -105 -18
-64 -11 -191 -41 -270 -65 -30 -9 -82 -23 -115 -30 -77 -17 -114 -28 -200 -58
-38 -13 -97 -32 -130 -41 -56 -16 -100 -32 -170 -61 -16 -7 -55 -21 -85 -30
-30 -10 -82 -30 -115 -45 -33 -16 -85 -37 -115 -48 -89 -33 -409 -185 -480
-227 -19 -12 -64 -37 -100 -56 -36 -18 -84 -46 -106 -61 -23 -16 -44 -28 -48
-28 -10 0 -232 -145 -403 -263 -76 -52 -269 -198 -324 -245 -13 -11 -76 -64
-139 -118 -204 -173 -632 -612 -783 -804 -188 -239 -390 -522 -493 -693 -154
-256 -320 -568 -403 -762 -24 -55 -51 -118 -61 -140 -102 -223 -294 -804 -330
-1000 -5 -27 -17 -79 -25 -115 -26 -102 -54 -248 -65 -330 -10 -76 -36 -254
-44 -300 -10 -53 -27 -294 -36 -505 -12 -277 7 -655 49 -1005 6 -47 15 -103
20 -125 6 -22 13 -69 16 -105 6 -62 25 -160 59 -300 9 -36 22 -99 30 -140 13
-67 27 -119 56 -215 5 -16 22 -75 39 -130 53 -179 191 -562 235 -652 14 -29
26 -57 26 -62 0 -5 6 -22 14 -38 145 -293 242 -485 258 -513 12 -19 53 -89 91
-155 133 -226 381 -577 532 -755 22 -26 51 -60 65 -77 162 -192 395 -430 580
-595 147 -131 381 -322 453 -370 22 -15 43 -32 46 -36 13 -20 411 -285 522
-347 29 -16 65 -37 79 -45 106 -63 264 -148 380 -205 30 -15 80 -40 111 -55
31 -16 87 -40 125 -55 38 -15 74 -32 80 -37 6 -4 43 -19 82 -33 39 -13 106
-39 149 -56 43 -17 116 -44 163 -59 47 -16 117 -40 155 -53 39 -14 99 -32 135
-42 36 -9 80 -23 98 -31 18 -8 40 -14 48 -14 9 0 37 -6 63 -14 25 -8 82 -22
126 -31 44 -9 100 -23 125 -31 25 -8 57 -14 72 -14 15 0 37 -4 50 -10 22 -9
163 -34 298 -51 36 -4 101 -13 145 -18 44 -6 102 -15 130 -20 233 -45 1263
-44 1440 1 22 6 71 14 110 18 208 25 405 57 515 84 36 9 85 21 110 26 129 26
195 42 211 50 10 6 27 10 39 10 12 0 34 6 48 14 15 8 56 22 92 31 112 30 164
46 182 56 10 5 48 19 85 30 38 12 125 43 195 70 69 27 129 49 133 49 3 0 44
18 91 40 47 22 88 40 91 40 28 0 401 191 581 299 57 33 106 61 108 61 19 0
441 281 568 378 720 550 1275 1179 1692 1916 61 108 223 425 245 481 11 28 31
73 44 100 70 150 228 585 265 729 11 44 24 84 29 90 5 6 11 25 14 41 7 38 52
226 67 280 6 22 15 60 20 85 5 25 18 95 29 155 12 61 25 142 30 181 5 40 11
76 15 82 6 11 18 104 43 332 12 116 16 259 17 565 1 451 -11 650 -56 910 -6
33 -14 87 -18 120 -8 55 -39 232 -60 330 -4 22 -13 54 -18 70 -6 17 -20 71
-31 120 -34 142 -43 179 -52 200 -5 11 -25 74 -44 140 -20 66 -40 129 -45 140
-6 11 -28 70 -49 130 -53 150 -108 290 -132 339 -11 23 -35 77 -54 121 -31 76
-155 324 -205 410 -12 22 -39 69 -58 105 -20 36 -48 84 -64 107 -15 23 -28 45
-28 48 0 17 -261 402 -358 529 -217 283 -336 419 -592 676 -213 214 -278 275
-400 375 -40 33 -92 76 -115 95 -279 233 -858 613 -1075 705 -25 11 -62 30
-84 43 -21 13 -55 30 -75 37 -21 7 -61 25 -90 39 -58 30 -260 114 -361 151
-36 13 -90 34 -120 45 -86 33 -132 48 -175 59 -48 11 -103 30 -130 44 -11 6
-36 14 -55 18 -19 5 -64 15 -100 23 -36 8 -90 22 -120 31 -120 36 -215 57
-380 85 -25 4 -85 15 -135 25 -208 39 -359 54 -790 80 -264 15 -303 15 -620 5z
m635 -380 c52 -6 178 -17 280 -26 216 -19 288 -27 390 -48 41 -8 127 -23 190
-35 63 -11 135 -24 160 -30 87 -17 366 -92 455 -121 50 -16 123 -39 163 -51
39 -11 75 -25 78 -30 3 -5 14 -9 24 -9 10 0 31 -6 47 -14 15 -8 48 -22 73 -31
62 -24 74 -29 163 -69 42 -20 81 -36 86 -36 8 0 82 -32 111 -49 8 -5 89 -46
179 -91 221 -110 297 -153 491 -278 439 -284 669 -470 1030 -832 252 -252 425
-448 571 -645 122 -166 333 -497 434 -680 63 -114 215 -424 215 -438 0 -7 6
-21 13 -32 15 -22 100 -227 152 -365 46 -121 150 -429 165 -490 76 -299 130
-588 160 -855 6 -55 16 -127 21 -160 16 -102 23 -703 10 -885 -22 -301 -65
-631 -107 -815 -9 -38 -20 -88 -24 -110 -4 -22 -17 -80 -29 -130 -12 -49 -24
-103 -27 -120 -3 -16 -11 -46 -19 -65 -7 -19 -23 -71 -35 -115 -29 -107 -41
-144 -56 -180 -6 -16 -20 -55 -30 -85 -45 -137 -181 -472 -259 -635 -99 -209
-125 -258 -209 -399 -39 -65 -82 -137 -95 -160 -24 -41 -114 -177 -192 -291
-47 -69 -181 -244 -248 -325 -175 -212 -561 -602 -737 -745 -123 -101 -289
-228 -351 -271 -111 -77 -233 -158 -310 -208 -40 -25 -103 -66 -140 -90 -38
-24 -88 -54 -113 -66 -25 -12 -57 -31 -73 -42 -26 -19 -137 -79 -222 -120
-221 -108 -377 -179 -449 -202 -27 -9 -72 -27 -100 -40 -28 -13 -73 -31 -101
-39 -27 -9 -84 -28 -125 -42 -82 -29 -181 -58 -275 -82 -33 -8 -73 -20 -90
-28 -33 -13 -113 -33 -270 -65 -55 -11 -143 -29 -195 -40 -52 -11 -133 -25
-180 -30 -47 -6 -121 -15 -165 -20 -44 -6 -132 -15 -195 -20 -63 -5 -155 -14
-205 -20 -139 -15 -687 -13 -824 4 -64 8 -168 19 -231 26 -248 23 -438 53
-617 96 -57 13 -110 24 -119 24 -24 0 -154 30 -194 45 -19 7 -62 20 -95 29
-124 34 -171 48 -197 62 -14 8 -33 14 -42 14 -8 0 -30 6 -48 14 -18 7 -58 21
-88 31 -30 9 -68 23 -85 30 -16 7 -41 18 -55 24 -14 6 -52 20 -85 32 -33 11
-86 34 -118 50 -31 16 -62 29 -68 29 -25 0 -368 171 -555 277 -223 126 -614
394 -798 547 -450 376 -732 671 -1067 1121 -129 172 -349 508 -349 532 0 3 -6
14 -14 22 -13 15 -226 434 -226 445 0 3 -19 44 -41 93 -23 48 -52 120 -66 158
-13 39 -32 88 -42 110 -10 22 -28 72 -40 110 -12 39 -28 86 -36 105 -22 58
-66 200 -75 244 -4 22 -13 55 -18 71 -32 95 -53 175 -73 285 -4 25 -15 74 -24
110 -33 141 -59 317 -95 665 -7 61 -14 256 -17 435 -4 287 -2 352 17 550 44
433 47 462 86 641 14 68 30 144 35 169 13 68 45 198 63 260 10 30 21 73 26 95
9 41 60 200 78 245 5 14 18 52 28 85 19 64 94 255 164 420 62 146 216 452 276
547 13 21 24 40 24 43 0 3 41 74 92 158 348 579 803 1101 1353 1551 81 67 287
220 350 261 33 22 65 43 70 48 23 18 158 104 275 174 112 66 595 313 614 313
9 0 50 18 143 61 35 16 67 29 72 29 6 0 25 6 43 14 31 13 72 29 158 61 19 8
62 21 95 31 33 9 105 32 160 50 55 18 136 40 180 49 44 9 109 25 145 36 73 23
171 43 305 64 50 8 126 22 170 31 44 9 112 20 150 24 39 4 113 13 165 19 52 6
167 15 255 21 87 6 161 13 164 15 9 10 518 5 611 -5z"></path><path class="fill-primary" d="M6607 13135 c-15 -15 -17 -55 -17 -410 0 -266 -3 -396 -11 -400 -5
-4 -56 -11 -112 -16 -244 -23 -296 -28 -362 -39 -38 -6 -84 -16 -101 -21 -17
-5 -80 -16 -139 -23 -116 -16 -145 -11 -145 24 0 17 -28 155 -49 240 -17 65
-45 220 -54 284 -2 16 9 21 58 33 33 8 88 18 122 23 35 5 80 14 100 19 21 5
83 12 139 16 117 8 112 12 121 -96 7 -79 3 -83 -92 -92 -144 -15 -219 -27
-228 -36 -7 -7 -6 -41 4 -103 l14 -93 47 -3 c26 -2 58 3 70 9 13 7 57 16 98
20 279 26 336 33 341 41 3 5 2 28 -2 51 -29 151 -37 221 -43 377 -5 131 -10
178 -20 185 -17 13 -169 3 -301 -20 -174 -30 -201 -34 -340 -55 -77 -12 -156
-25 -175 -30 -80 -20 -127 -32 -170 -41 -69 -14 -74 -24 -51 -100 10 -35 27
-93 36 -129 9 -36 30 -108 46 -160 16 -52 40 -135 54 -185 15 -49 33 -112 42
-140 9 -27 16 -68 17 -89 l1 -40 -68 -18 c-38 -9 -126 -36 -195 -58 -70 -22
-152 -48 -182 -57 -30 -9 -66 -22 -80 -28 -55 -27 -101 -45 -113 -45 -7 0 -50
-18 -96 -41 -81 -39 -83 -40 -103 -22 -11 10 -24 27 -29 38 -5 11 -13 27 -19
35 -12 19 -100 209 -100 217 0 3 -23 53 -52 111 l-52 104 23 19 c13 11 31 19
40 19 9 0 25 7 35 15 11 8 26 15 35 15 8 0 22 6 30 13 9 7 54 26 101 41 47 16
104 37 128 47 23 11 55 22 70 25 25 5 30 1 48 -38 54 -113 53 -128 -10 -147
-17 -5 -56 -19 -86 -31 -30 -12 -68 -26 -84 -30 -16 -5 -37 -17 -47 -26 -19
-17 -18 -25 24 -134 36 -95 35 -94 151 -49 158 62 232 88 291 105 33 9 66 18
73 20 17 5 26 31 17 52 -9 18 -43 145 -104 387 -42 164 -54 200 -71 210 -6 3
-29 0 -53 -8 -23 -8 -69 -22 -102 -32 -33 -9 -68 -21 -78 -26 -10 -5 -59 -23
-110 -40 -51 -17 -114 -41 -142 -54 -27 -12 -81 -35 -120 -50 -38 -15 -91 -38
-117 -51 -26 -13 -76 -35 -111 -48 -69 -26 -147 -71 -147 -85 0 -10 36 -92 85
-196 18 -38 59 -126 90 -195 52 -113 99 -205 158 -313 24 -42 19 -59 -23 -82
-69 -39 -290 -172 -325 -197 -80 -56 -241 -178 -295 -222 -30 -25 -63 -45 -72
-46 -10 0 -32 20 -50 44 -72 96 -214 274 -265 333 -29 33 -53 69 -53 80 1 26
405 326 428 318 18 -6 117 -123 117 -138 0 -4 -54 -45 -120 -90 -90 -62 -120
-88 -120 -103 0 -12 21 -49 47 -83 35 -45 54 -61 72 -61 24 0 62 24 211 130
39 27 93 65 120 84 28 19 68 50 89 68 l38 33 -43 54 c-24 29 -60 75 -79 102
-58 80 -242 313 -258 326 -19 15 -18 16 -351 -206 -55 -37 -184 -135 -314
-241 -65 -52 -135 -108 -155 -123 -48 -37 -56 -60 -30 -84 11 -10 71 -76 132
-148 61 -71 134 -156 161 -188 49 -56 88 -103 173 -207 23 -28 42 -56 42 -61
0 -6 -71 -81 -159 -167 -87 -86 -185 -188 -218 -227 -182 -213 -204 -235 -228
-235 -17 0 -59 34 -142 114 -65 62 -134 126 -153 142 -53 42 -130 117 -130
127 0 10 82 109 136 162 21 22 70 75 108 118 37 42 74 77 82 77 21 0 124 -99
124 -118 0 -9 -46 -60 -102 -113 l-103 -97 74 -69 c107 -99 105 -99 165 -28
28 32 105 115 171 183 66 68 123 130 128 137 4 8 1 19 -6 27 -8 7 -78 74 -157
148 -78 74 -175 167 -216 207 -40 40 -77 73 -82 73 -17 0 -319 -326 -443 -479
-152 -187 -239 -303 -239 -320 0 -4 33 -30 72 -57 234 -159 555 -421 557 -455
1 -9 -34 -67 -76 -130 -97 -144 -131 -204 -238 -414 -47 -93 -92 -174 -100
-179 -9 -7 -32 -2 -72 16 -32 14 -96 43 -143 63 -125 55 -308 146 -319 159
-10 11 41 121 118 256 17 30 47 85 67 122 20 37 45 70 55 73 30 10 149 -64
149 -92 0 -7 -22 -46 -49 -86 -26 -40 -57 -88 -67 -107 -10 -19 -25 -43 -33
-52 -16 -21 -3 -43 32 -54 12 -3 48 -19 81 -35 32 -16 65 -29 73 -29 7 0 22
17 31 39 27 58 213 353 248 393 23 24 12 44 -38 69 -24 12 -136 84 -250 160
-114 77 -215 139 -225 139 -32 -1 -135 -161 -276 -430 -21 -41 -47 -91 -57
-110 -46 -85 -129 -261 -154 -324 -26 -63 -27 -71 -12 -82 9 -6 110 -51 224
-99 114 -48 234 -100 267 -115 33 -15 98 -42 145 -60 47 -18 93 -40 104 -50
18 -17 17 -19 -12 -81 -16 -35 -39 -95 -52 -134 -12 -38 -27 -79 -32 -89 -6
-11 -21 -58 -34 -105 -13 -47 -29 -104 -35 -126 -7 -22 -17 -58 -24 -80 -29
-94 -34 -113 -46 -172 -7 -39 -17 -64 -27 -68 -9 -3 -48 4 -87 15 -116 35
-126 38 -243 65 -119 27 -219 60 -239 79 -10 9 -6 37 16 131 16 66 39 152 51
190 12 39 29 91 37 117 8 26 18 50 22 52 6 4 115 -23 153 -39 30 -12 23 -52
-27 -155 -6 -14 -20 -51 -30 -83 -17 -50 -17 -59 -5 -71 19 -18 165 -60 183
-53 8 3 19 23 25 44 15 54 94 276 127 355 29 68 28 94 -2 105 -10 3 -36 14
-58 23 -22 10 -76 30 -120 45 -44 15 -91 33 -105 40 -14 7 -44 20 -67 29 -106
40 -130 49 -158 63 -48 24 -68 14 -86 -42 -53 -160 -101 -322 -120 -405 -12
-52 -27 -111 -34 -130 -7 -19 -23 -80 -34 -135 -12 -55 -26 -116 -31 -136 -6
-20 -10 -46 -10 -59 0 -12 -8 -44 -17 -71 -22 -60 -16 -66 68 -80 35 -5 84
-15 109 -20 25 -6 70 -15 100 -19 30 -5 75 -13 100 -19 25 -5 110 -17 190 -26
80 -9 168 -22 195 -28 48 -12 50 -14 49 -47 -1 -41 -20 -261 -33 -376 -5 -45
-10 -164 -12 -265 -2 -147 -5 -188 -17 -201 -14 -16 -41 -18 -297 -18 -205 0
-284 3 -293 12 -24 24 -10 506 15 515 15 6 156 -17 174 -27 7 -5 7 -33 -1 -91
-6 -46 -10 -113 -8 -149 l3 -65 110 0 110 0 7 130 c7 121 20 251 34 336 6 35
5 37 -27 47 -19 5 -70 15 -114 21 -157 23 -221 33 -300 47 -166 30 -190 32
-202 23 -14 -13 -19 -78 -33 -474 -12 -344 -6 -603 14 -611 17 -6 342 13 541
32 94 9 195 17 225 18 l54 1 7 -45 c4 -25 12 -106 19 -180 7 -74 16 -160 21
-190 16 -105 39 -226 59 -319 31 -144 30 -147 -32 -164 -296 -81 -444 -117
-482 -117 -31 0 -53 30 -65 91 -5 24 -25 119 -45 212 -46 214 -46 214 2 225
92 22 142 28 152 18 5 -5 10 -42 10 -80 1 -97 17 -218 33 -233 10 -10 24 -10
72 2 33 8 76 15 95 15 61 1 66 9 51 82 -25 112 -43 237 -57 380 -4 38 -12 72
-18 77 -12 10 -218 -2 -344 -19 -40 -5 -98 -10 -128 -10 -63 0 -139 -17 -152
-34 -6 -6 -3 -52 5 -111 8 -55 18 -127 22 -160 5 -33 14 -85 20 -115 6 -30 23
-116 37 -190 28 -146 28 -146 77 -330 38 -141 50 -170 75 -170 19 0 110 28
192 60 30 11 84 30 120 41 61 20 86 29 178 63 87 33 264 87 274 84 6 -2 23
-40 38 -83 15 -44 42 -123 59 -175 44 -128 87 -232 186 -445 28 -61 44 -107
41 -120 -4 -15 -30 -33 -83 -59 -43 -20 -132 -66 -198 -101 -214 -116 -224
-120 -242 -109 -39 25 -227 454 -207 474 14 14 145 59 158 54 6 -2 29 -57 49
-122 49 -150 63 -182 80 -182 25 0 188 81 194 96 3 9 -6 39 -19 67 -32 64 -98
231 -98 245 0 5 -6 22 -14 37 -8 15 -17 49 -21 76 -9 67 -24 77 -83 56 -26 -9
-87 -26 -136 -38 -49 -11 -125 -33 -170 -49 -45 -15 -112 -36 -151 -46 -96
-24 -103 -31 -83 -91 30 -90 96 -270 106 -289 6 -10 22 -48 37 -84 74 -180
285 -573 312 -584 6 -3 48 22 92 55 45 32 84 59 87 59 3 0 36 20 74 45 38 25
71 45 74 45 3 0 61 33 129 74 160 96 236 136 257 136 10 0 32 -25 55 -63 95
-154 243 -361 390 -541 l86 -107 -208 -205 c-114 -112 -213 -204 -219 -204
-15 0 -50 34 -126 120 -82 95 -248 302 -248 309 1 21 118 113 138 109 8 -2 22
-16 31 -33 52 -96 163 -240 183 -239 20 2 168 125 168 140 0 10 -147 214 -208
289 -9 11 -32 47 -52 79 -47 78 -60 86 -102 62 -122 -69 -478 -304 -478 -315
0 -23 150 -244 265 -391 19 -25 57 -74 85 -110 110 -143 333 -380 356 -380 8
0 102 90 210 200 126 128 204 200 217 200 18 0 19 -5 13 -53 -3 -28 -6 -91 -6
-139 0 -73 -3 -91 -19 -105 -10 -10 -71 -65 -135 -123 -63 -58 -116 -112 -116
-121 0 -17 186 -201 310 -305 164 -138 263 -209 510 -369 77 -50 173 -106 239
-140 38 -19 72 -39 76 -45 3 -5 15 -10 25 -10 15 0 31 22 61 83 59 118 58 117
151 117 64 0 80 -3 85 -16 3 -9 1 -24 -5 -33 -7 -9 -20 -34 -29 -56 -9 -22
-32 -69 -50 -104 -18 -35 -31 -67 -28 -71 6 -9 429 -220 442 -220 4 0 60 -20
123 -44 138 -54 303 -106 334 -106 32 0 50 25 70 95 9 33 35 116 56 185 22 69
44 145 49 170 6 25 27 99 47 165 20 66 39 135 41 153 8 53 12 53 193 -4 25 -8
54 -14 65 -14 12 0 25 -4 30 -9 11 -10 187 -43 378 -71 38 -5 72 -12 77 -15 5
-3 46 -10 92 -16 100 -12 132 -29 125 -67 -24 -129 -50 -278 -57 -332 -5 -36
-14 -86 -19 -110 -6 -25 -11 -59 -11 -77 0 -17 -5 -35 -11 -38 -20 -13 -287
29 -444 70 -49 12 -102 26 -117 29 -33 8 -34 19 -12 117 15 67 17 69 46 69 17
0 51 -7 77 -15 73 -23 196 -47 222 -43 20 3 26 12 36 63 7 33 17 80 22 105 20
89 25 86 -130 100 -148 14 -211 25 -316 58 -52 17 -97 26 -104 21 -7 -4 -23
-59 -36 -121 -13 -62 -27 -135 -33 -161 -5 -27 -12 -52 -14 -56 -2 -3 -16 -60
-30 -126 -15 -66 -30 -134 -35 -151 -10 -37 2 -64 29 -64 11 0 37 -6 57 -14
21 -8 83 -21 138 -31 55 -9 126 -23 157 -31 32 -8 72 -14 89 -14 16 0 40 -5
52 -12 12 -6 56 -15 97 -19 41 -4 120 -13 175 -19 55 -6 150 -10 210 -8 l110
3 13 155 c7 85 19 220 28 300 9 80 20 186 25 236 4 50 13 103 18 117 l10 25
388 6 c213 4 422 7 463 9 l75 2 6 -95 c3 -52 13 -189 23 -304 14 -160 16 -210
6 -216 -23 -14 -176 -24 -370 -25 l-195 0 -7 80 c-4 50 -2 85 4 93 8 8 52 12
157 12 98 0 154 4 171 13 24 12 25 15 25 127 l0 115 -276 3 c-217 2 -279 0
-287 -11 -18 -22 -32 -209 -32 -438 l0 -219 26 -10 c32 -12 351 -12 504 1 63
5 178 13 255 19 171 12 279 27 324 46 27 12 32 19 27 38 -11 46 -43 259 -75
516 -6 47 -16 112 -21 145 -23 138 -24 153 -4 158 36 10 110 26 194 42 47 9
103 23 125 29 76 24 150 45 220 61 39 9 86 22 105 29 127 47 204 68 255 70 36
1 40 -2 46 -29 4 -16 21 -82 39 -145 17 -63 46 -169 64 -235 18 -66 35 -126
37 -134 4 -16 -31 -36 -111 -66 -25 -9 -52 -20 -60 -25 -19 -9 -122 -40 -170
-51 -19 -4 -60 -15 -90 -24 -145 -43 -150 -42 -179 56 -13 41 -19 75 -14 80
12 12 117 39 152 39 15 0 36 7 47 15 10 8 30 15 42 15 13 0 55 10 93 21 70 21
70 21 64 53 -3 17 -12 47 -19 66 -8 19 -21 61 -30 93 -10 33 -23 57 -31 57 -7
0 -35 -9 -62 -21 -47 -20 -405 -116 -470 -126 -49 -8 -55 -21 -43 -89 6 -33
15 -90 20 -129 19 -133 76 -398 92 -428 8 -16 17 -17 66 -11 31 3 72 13 91 20
18 8 45 14 58 14 14 0 46 7 72 15 25 8 84 23 131 34 47 10 119 31 160 45 41
14 167 55 280 91 256 82 253 80 247 121 -3 18 -17 56 -30 85 -14 30 -39 95
-57 144 -17 50 -36 101 -42 115 -6 14 -26 72 -45 130 -18 58 -36 112 -40 120
-28 68 -53 150 -53 171 0 23 10 31 68 59 227 109 382 190 482 250 25 15 72 42
105 60 33 18 76 45 96 61 19 15 47 31 60 34 27 7 38 -7 169 -220 24 -38 69
-109 102 -158 32 -48 58 -96 58 -105 0 -26 -36 -56 -152 -127 -9 -5 -54 -33
-100 -61 -128 -79 -279 -156 -295 -150 -7 3 -18 17 -23 30 -5 14 -21 44 -35
66 -38 61 -39 60 112 133 101 50 223 121 228 135 7 18 -112 182 -133 182 -9 0
-55 -25 -101 -55 -46 -30 -93 -57 -105 -61 -11 -4 -34 -16 -49 -26 -26 -19
-77 -47 -204 -114 -29 -15 -55 -34 -58 -41 -5 -14 -3 -19 28 -81 9 -19 17 -38
17 -42 0 -5 25 -61 55 -124 30 -63 55 -117 55 -120 0 -3 25 -50 56 -106 60
-106 77 -118 120 -85 10 8 25 15 32 15 7 0 31 12 55 27 23 15 65 39 93 53 29
15 71 39 95 54 24 15 91 56 149 89 287 169 530 336 530 365 0 24 -34 73 -257
370 -117 156 -213 289 -213 297 0 7 17 25 38 41 118 89 302 250 490 429 46 44
91 82 99 83 19 5 413 -387 413 -411 0 -9 -37 -53 -82 -98 -93 -92 -296 -269
-307 -269 -4 0 -31 27 -59 61 -43 50 -50 64 -42 80 6 10 14 19 18 19 4 0 23
14 42 31 19 17 66 55 103 86 38 30 71 61 73 68 9 23 -127 190 -147 183 -32
-12 -389 -323 -389 -339 0 -9 97 -140 280 -382 64 -83 92 -113 110 -115 19 -2
48 17 115 74 146 125 327 288 375 340 188 203 250 273 250 285 0 15 -296 313
-405 410 -132 116 -185 169 -185 186 0 10 26 50 58 90 105 132 299 413 348
503 32 59 61 74 92 48 9 -8 55 -34 102 -58 261 -132 355 -183 374 -201 12 -11
0 -35 -78 -159 -94 -150 -187 -279 -207 -285 -19 -6 -124 57 -133 81 -5 12 15
44 132 221 27 40 32 56 24 66 -13 16 -112 66 -154 77 -36 11 -50 -2 -119 -110
-29 -47 -84 -125 -120 -175 l-67 -89 19 -28 c11 -15 70 -70 132 -122 62 -52
159 -136 216 -186 58 -49 108 -90 111 -90 8 0 86 97 173 215 36 50 80 108 96
130 34 46 206 327 248 405 15 29 36 67 45 84 9 17 17 36 18 43 0 11 -91 79
-145 109 -73 40 -136 74 -194 105 -36 19 -79 43 -96 52 -16 9 -52 28 -80 41
-49 23 -127 64 -317 165 -54 29 -107 51 -119 49 -14 -2 -28 -19 -42 -53 -12
-28 -41 -83 -64 -124 -24 -40 -43 -74 -43 -76 0 -4 -94 -147 -179 -274 -23
-34 -209 -271 -221 -281 -3 -3 -44 -50 -90 -105 -189 -223 -386 -398 -727
-645 -23 -16 -48 -30 -56 -30 -8 0 -45 32 -83 72 -113 118 -233 226 -334 302
-100 75 -234 166 -244 166 -4 0 -25 12 -49 27 -77 50 -448 243 -466 243 -5 0
-45 16 -88 36 -43 21 -118 50 -168 65 -49 16 -121 39 -160 52 -38 13 -106 32
-150 41 -44 9 -101 23 -126 31 -26 8 -54 15 -63 15 -8 0 -33 7 -54 16 l-39 15
-9 112 c-5 62 -9 148 -9 192 l0 80 215 6 c150 5 229 11 260 22 71 23 181 75
216 102 39 30 96 116 114 172 18 60 8 172 -24 263 -54 150 -53 143 -8 184 21
20 52 54 67 76 26 37 27 45 23 117 -5 73 -4 78 25 120 30 42 31 48 37 180 6
159 -8 142 135 163 87 13 164 51 220 109 25 27 30 41 33 97 5 75 -4 104 -83
269 -72 150 -118 249 -145 315 -12 30 -33 81 -47 113 -55 130 -63 177 -63 388
0 145 -4 209 -15 245 -8 27 -15 60 -15 74 0 14 -7 45 -15 69 -9 24 -13 51 -10
61 6 19 45 40 78 40 12 1 33 7 47 15 14 8 35 14 47 15 12 0 37 6 55 14 18 7
58 22 88 32 108 35 325 160 380 219 22 24 25 35 25 105 0 69 -3 82 -24 104
-25 27 -187 110 -236 122 -55 13 -219 94 -300 149 -51 34 -100 78 -135 121
-149 182 -239 271 -317 312 -12 7 -51 56 -87 109 -118 178 -165 242 -301 412
-42 52 -42 64 -11 135 53 120 259 348 412 457 94 67 235 145 334 184 25 10 63
26 85 36 22 9 58 23 80 30 49 16 72 36 80 70 8 31 -22 57 -160 141 -107 65
-539 278 -564 278 -5 0 -22 6 -38 14 -54 27 -99 44 -198 76 -55 17 -107 35
-116 39 -8 5 -56 19 -105 31 -49 12 -141 34 -204 50 -189 46 -515 86 -785 97
-186 7 -633 -22 -805 -53 -251 -44 -584 -142 -770 -226 -36 -16 -81 -36 -100
-45 -19 -8 -51 -24 -70 -33 -132 -68 -211 -110 -247 -133 -24 -15 -45 -27 -48
-27 -3 0 -70 -43 -148 -94 -308 -206 -624 -501 -832 -781 -166 -222 -342 -533
-429 -760 -15 -38 -36 -92 -47 -118 -17 -41 -48 -143 -73 -237 -4 -14 -13 -50
-22 -80 -23 -83 -56 -255 -65 -345 -36 -351 -26 -783 26 -1075 15 -90 20 -111
50 -205 7 -22 20 -67 30 -100 21 -75 47 -154 75 -225 120 -312 150 -444 150
-662 0 -107 -4 -147 -25 -226 -35 -134 -104 -267 -196 -382 -42 -52 -78 -102
-79 -110 -5 -36 2 -50 32 -66 29 -15 42 -15 113 -5 108 17 178 52 266 133 100
93 186 257 219 418 20 99 48 194 76 257 8 17 14 37 14 45 0 19 82 160 128 222
147 194 378 367 468 353 75 -12 96 -55 102 -205 5 -135 -19 -280 -52 -319 -6
-7 -65 -24 -131 -39 -140 -31 -205 -59 -259 -111 -55 -53 -96 -147 -96 -220 0
-56 4 -75 42 -184 23 -66 98 -166 136 -180 15 -6 47 -20 72 -31 l45 -20 -29
-21 c-49 -36 -70 -98 -70 -212 0 -86 4 -108 26 -155 34 -74 97 -151 167 -206
78 -60 114 -78 189 -94 63 -13 115 -9 247 20 23 5 44 5 49 0 16 -16 -14 -67
-72 -126 -82 -81 -172 -121 -305 -134 -159 -16 -228 -27 -287 -43 -78 -23
-143 -47 -155 -58 -5 -5 -15 -9 -22 -9 -25 0 -255 -120 -353 -184 -65 -43
-155 -121 -231 -200 -44 -45 -72 -67 -84 -65 -10 2 -41 34 -69 70 -108 140
-172 226 -199 264 -15 22 -49 72 -77 110 -100 139 -178 279 -361 645 -126 250
-250 594 -294 810 -10 48 -39 186 -63 300 -37 169 -72 589 -72 845 0 223 37
648 71 815 10 52 32 160 49 240 16 80 46 197 66 260 20 63 40 129 44 145 15
55 28 92 43 126 8 19 27 70 42 114 29 86 35 98 145 335 130 279 218 428 381
645 70 94 151 197 179 230 29 33 62 71 74 85 211 248 468 504 677 675 13 11
47 39 75 62 127 106 354 256 549 363 99 55 337 170 351 170 4 0 50 18 103 41
119 51 121 52 201 77 36 11 97 31 135 45 39 14 104 32 145 42 41 9 88 23 103
31 16 8 39 14 52 14 13 0 36 5 52 11 27 10 140 33 233 48 25 4 51 10 58 15 8
4 41 12 75 17 34 5 87 13 117 18 30 5 171 15 312 22 207 10 312 10 540 0 156
-7 310 -17 343 -21 115 -16 190 -28 235 -39 25 -6 90 -17 145 -26 55 -8 120
-21 145 -27 25 -6 61 -13 80 -16 19 -2 44 -11 55 -18 11 -8 29 -14 41 -14 26
0 194 -43 256 -65 23 -9 90 -31 148 -49 190 -61 400 -155 635 -283 55 -30 127
-69 160 -87 186 -100 526 -341 751 -532 141 -120 306 -290 472 -488 24 -28 52
-61 63 -74 123 -144 342 -482 501 -772 21 -38 22 -38 163 30 55 26 165 78 245
115 80 37 178 82 218 101 40 19 75 34 77 34 3 0 42 17 87 38 46 21 116 49 157
63 40 13 76 30 79 38 6 15 -54 133 -97 189 -31 42 -51 40 -171 -16 -47 -21
-96 -43 -110 -47 -36 -12 -272 -128 -365 -180 -44 -25 -95 -52 -114 -61 -33
-15 -35 -15 -53 8 -10 12 -27 39 -37 58 -42 78 -290 438 -381 555 -22 28 -40
53 -40 58 0 4 8 15 19 25 24 23 199 149 281 203 36 24 67 46 70 49 3 3 28 20
57 38 58 37 67 36 119 -20 36 -39 205 -263 222 -295 7 -12 12 -26 12 -32 0
-12 -129 -101 -145 -101 -5 0 -41 47 -79 104 -38 56 -77 108 -87 114 -14 9
-32 2 -98 -36 -55 -33 -80 -53 -81 -66 0 -11 24 -51 54 -90 58 -77 130 -188
161 -249 39 -76 39 -76 171 -6 66 34 130 70 144 79 14 10 60 36 103 59 43 23
103 57 133 76 57 37 59 43 24 95 -9 14 -38 58 -64 98 -74 116 -221 314 -379
512 -79 98 -158 180 -175 180 -18 0 -168 -137 -408 -372 -99 -98 -187 -178
-196 -178 -8 0 -40 26 -70 58 -175 182 -346 337 -507 460 -81 61 -84 68 -58
106 49 72 119 173 140 201 12 17 55 78 95 137 40 58 80 109 89 112 28 11 191
-113 348 -266 l90 -87 -60 -60 c-33 -34 -66 -61 -75 -61 -8 0 -57 43 -109 95
-52 52 -103 95 -113 95 -16 0 -148 -153 -148 -172 0 -4 17 -19 38 -35 45 -33
267 -230 301 -267 14 -14 32 -26 40 -26 9 0 114 98 234 218 193 193 241 252
207 252 -6 0 -54 42 -108 93 -54 50 -127 117 -162 147 -35 30 -87 74 -115 98
-27 24 -59 51 -70 61 -11 9 -51 41 -90 71 -38 30 -72 57 -75 61 -20 23 -178
129 -190 127 -14 -3 -146 -174 -238 -310 -59 -86 -217 -340 -225 -361 -11 -30
-43 -19 -154 55 -174 115 -205 134 -268 168 -33 18 -64 36 -70 40 -5 4 -65 36
-132 70 -67 35 -124 69 -127 77 -3 8 5 31 18 51 12 20 60 114 105 207 108 222
131 267 146 283 14 16 49 4 112 -38 24 -17 47 -30 50 -30 3 0 35 -20 72 -44
36 -24 94 -58 128 -75 34 -17 68 -40 77 -53 14 -20 14 -25 -7 -62 -29 -56 -47
-76 -67 -76 -9 0 -49 21 -90 46 -84 52 -138 76 -151 69 -6 -4 -103 -175 -117
-207 -2 -4 7 -12 20 -18 30 -13 136 -71 272 -148 60 -34 117 -62 125 -62 18 1
62 67 200 298 114 191 132 227 125 245 -3 8 -58 46 -122 85 -310 186 -665 364
-731 366 -36 1 -37 0 -82 -89 -144 -278 -249 -501 -278 -590 -9 -29 -23 -51
-32 -53 -9 -2 -45 10 -80 27 -80 37 -312 114 -410 136 -41 9 -110 27 -154 40
-44 12 -102 28 -130 35 -27 7 -54 16 -58 20 -7 6 30 129 83 275 6 17 26 86 45
154 19 69 41 128 47 133 15 9 58 3 153 -24 190 -52 223 -61 260 -67 33 -5 41
-10 43 -30 4 -25 -24 -125 -42 -149 -11 -15 -72 -8 -114 14 -15 8 -32 14 -38
14 -6 0 -24 6 -40 14 -16 8 -42 16 -59 18 -32 3 -43 -12 -80 -112 -9 -25 -21
-53 -27 -63 -14 -28 15 -54 75 -66 107 -22 154 -34 222 -57 121 -39 194 -57
209 -51 7 3 21 30 31 59 9 29 21 62 26 73 21 48 34 86 60 185 15 58 38 140 50
182 27 94 25 98 -74 128 -156 48 -173 53 -202 66 -38 15 -119 39 -210 59 -38
9 -83 20 -100 25 -62 18 -203 49 -279 61 -72 11 -80 11 -92 -5 -7 -10 -31 -95
-53 -189 -34 -149 -52 -235 -101 -489 -13 -67 -32 -102 -57 -106 -12 -2 -50 4
-84 12 -33 9 -84 16 -112 16 -29 0 -83 5 -122 11 -38 5 -159 13 -268 17 -180
7 -200 9 -213 27 -24 32 -16 567 9 591 10 10 135 8 310 -6 221 -17 201 -6 193
-103 -8 -97 -17 -110 -66 -97 -64 16 -240 34 -250 24 -10 -10 -29 -201 -23
-221 7 -18 35 -22 239 -34 104 -6 209 -14 233 -19 25 -4 49 -6 56 -4 6 3 17
87 28 222 10 119 22 235 27 257 14 57 12 152 -2 161 -21 13 -244 24 -614 30
-329 6 -362 5 -377 -11z m-269 -1677 c8 -8 12 -57 12 -152 0 -78 7 -247 15
-376 8 -129 17 -267 19 -307 6 -92 -3 -105 -69 -101 l-50 3 -7 100 c-7 99 -19
256 -40 515 -6 74 -12 176 -12 225 l-1 90 40 6 c66 10 80 10 93 -3z m437 -2
c17 -12 18 -19 7 -97 -13 -91 -29 -316 -41 -610 -5 -103 -12 -192 -16 -199
-11 -18 -57 -32 -84 -25 l-24 6 7 452 c8 512 4 487 86 487 25 0 55 -6 65 -14z
m440 -46 c22 -8 26 -15 20 -33 -12 -40 -58 -251 -75 -349 -5 -27 -12 -52 -15
-58 -7 -12 -19 -75 -40 -211 -8 -53 -19 -109 -25 -123 -5 -15 -10 -42 -10 -59
0 -18 -9 -47 -21 -66 -19 -32 -22 -33 -67 -27 -25 3 -49 10 -53 14 -4 4 4 61
17 127 14 66 29 145 34 175 11 71 48 290 60 355 5 28 13 68 19 90 6 22 16 67
22 100 7 33 14 63 16 68 6 10 87 9 118 -3z m-1313 -70 c7 -59 38 -240 64 -380
9 -47 18 -98 20 -115 17 -114 47 -274 55 -293 22 -55 8 -72 -61 -72 -55 0 -57
6 -110 275 -6 28 -14 68 -19 90 -58 259 -105 525 -94 536 9 9 65 17 108 15 29
-1 30 -3 37 -56z m-427 -122 c14 -46 37 -125 51 -176 14 -52 29 -101 33 -110
15 -30 112 -330 138 -426 16 -59 15 -60 -7 -78 -12 -10 -35 -18 -51 -18 -39 0
-40 2 -135 275 -25 72 -61 177 -81 235 -19 58 -39 110 -43 115 -4 6 -22 55
-39 109 -36 111 -36 115 34 140 70 25 72 24 100 -66z m2165 64 c25 -20 29 -1
-46 -207 -20 -55 -38 -109 -41 -120 -4 -18 -16 -46 -43 -110 -5 -11 -18 -51
-30 -90 -12 -38 -26 -79 -31 -90 -16 -36 -32 -79 -59 -155 -28 -79 -41 -90
-95 -76 -45 11 -41 39 32 261 22 66 50 154 62 195 13 41 33 104 46 140 12 36
30 92 40 125 9 33 26 79 36 103 18 40 21 42 63 42 27 0 52 -7 66 -18z m431
-122 c43 -22 58 -45 43 -65 -5 -7 -30 -44 -56 -82 -88 -127 -259 -367 -360
-504 -64 -87 -119 -127 -148 -109 -11 7 -8 21 15 72 15 34 39 79 52 98 12 19
23 38 23 42 0 7 119 212 149 257 20 30 17 25 90 145 34 54 61 100 61 103 0 3
9 18 21 34 25 35 54 37 110 9z m-2909 -322 c199 -403 241 -495 236 -510 -3 -7
-23 -19 -44 -27 -37 -13 -38 -13 -60 15 -13 15 -31 44 -41 63 -10 20 -39 72
-64 116 -25 44 -68 121 -94 170 -27 50 -56 104 -66 120 -10 17 -37 66 -60 110
-22 44 -51 98 -64 120 -13 22 -24 45 -25 50 0 12 97 63 122 64 12 1 56 -80
160 -291z m-485 -28 c29 -41 72 -104 97 -140 68 -100 154 -223 249 -355 48
-66 87 -125 87 -132 0 -15 -53 -53 -73 -53 -17 0 -85 73 -167 180 -246 319
-381 504 -376 516 3 8 14 17 23 21 10 3 26 15 36 25 35 36 67 20 124 -62z
m-256 -377 c101 -104 206 -213 233 -243 27 -30 78 -85 113 -121 34 -37 63 -73
63 -81 0 -24 -47 -68 -72 -68 -17 0 -104 81 -328 305 l-305 306 47 44 c26 25
51 45 55 45 5 0 92 -84 194 -187z m2432 -138 c45 -8 114 -19 152 -25 39 -7 90
-15 115 -20 89 -15 345 -107 405 -145 92 -58 200 -153 303 -263 103 -110 142
-159 142 -179 0 -20 -6 -17 -89 46 -78 59 -233 156 -324 202 -27 13 -63 32
-80 41 -18 9 -61 26 -97 38 -36 13 -69 26 -75 30 -14 10 -128 45 -195 59 -69
15 -121 27 -185 41 -113 26 -269 40 -461 40 -215 0 -310 -10 -504 -56 -63 -14
-133 -30 -155 -35 -40 -8 -95 -27 -195 -68 -30 -13 -73 -30 -95 -39 -22 -9
-47 -21 -55 -27 -8 -7 -44 -27 -80 -46 -272 -141 -557 -415 -727 -699 -51 -85
-131 -254 -152 -320 -78 -247 -101 -400 -101 -662 0 -92 5 -198 10 -235 6 -38
17 -117 25 -178 8 -60 20 -143 26 -183 14 -86 4 -122 -34 -122 -21 0 -25 7
-37 58 -7 31 -18 82 -26 112 -17 73 -53 242 -64 305 -31 180 -40 428 -20 568
43 297 78 420 177 624 52 108 141 252 187 303 12 14 30 38 40 53 49 79 309
325 431 407 164 109 380 220 500 255 33 10 83 26 110 35 88 31 118 38 230 55
61 9 139 22 175 30 97 19 616 19 723 0z m-2889 -47 c22 -18 46 -38 51 -44 6
-6 57 -46 115 -89 58 -43 121 -92 141 -109 19 -17 66 -56 104 -86 130 -105
205 -174 205 -190 0 -19 -50 -70 -69 -70 -19 0 -685 499 -689 516 -2 8 9 34
25 59 35 55 59 57 117 13z m-237 -403 c40 -25 76 -45 78 -45 3 0 35 -18 71
-41 37 -22 77 -45 88 -50 12 -5 35 -18 51 -29 17 -11 53 -31 80 -46 28 -15 74
-42 102 -60 29 -19 79 -47 110 -63 100 -51 99 -50 63 -99 -16 -23 -38 -42 -48
-42 -16 0 -116 48 -292 142 -185 98 -279 148 -370 194 -53 28 -96 56 -98 66
-4 22 56 118 75 118 9 0 49 -20 90 -45z m-262 -388 c11 -7 45 -21 75 -31 30
-10 71 -25 90 -34 45 -20 84 -36 140 -57 60 -23 74 -29 150 -63 36 -16 81 -35
100 -41 64 -22 195 -96 198 -111 1 -8 -7 -30 -18 -47 -26 -44 -45 -43 -193 13
-67 25 -155 57 -196 70 -41 13 -79 28 -85 33 -6 5 -58 23 -116 41 -58 18 -116
39 -130 46 -14 7 -47 21 -74 31 -26 10 -50 23 -53 30 -2 6 5 39 18 72 19 54
25 61 48 61 15 0 35 -6 46 -13z m4752 -98 c35 -22 40 -46 13 -59 -29 -15 -96
-38 -155 -55 -97 -26 -169 -49 -180 -56 -5 -4 -52 -19 -104 -34 -52 -15 -125
-40 -162 -55 -37 -16 -103 -40 -145 -55 -42 -15 -104 -40 -137 -56 -33 -16
-65 -29 -69 -29 -5 0 -53 -20 -106 -45 -53 -25 -113 -53 -132 -62 -19 -8 -42
-19 -50 -24 -8 -4 -51 -26 -95 -48 -44 -22 -123 -64 -176 -93 -92 -51 -129
-72 -233 -134 -27 -16 -72 -42 -100 -58 -88 -51 -186 -116 -186 -123 0 -5 9
-35 19 -68 16 -52 22 -60 46 -63 14 -2 48 3 73 11 80 26 337 77 386 77 17 0
44 7 60 15 15 8 42 15 58 15 17 0 51 6 77 14 25 8 91 22 146 31 55 9 123 23
151 31 28 8 59 14 68 14 9 0 38 6 64 14 26 8 92 22 147 31 106 18 132 23 265
53 47 11 130 28 185 37 55 9 152 29 215 45 63 16 142 33 175 39 86 14 209 38
290 56 112 26 299 53 367 54 15 1 39 -9 53 -22 25 -21 26 -25 14 -51 -20 -44
-130 -90 -284 -120 -121 -24 -164 -33 -240 -54 -38 -11 -115 -27 -170 -37 -55
-9 -120 -21 -145 -27 -25 -5 -66 -13 -93 -18 -26 -5 -62 -13 -80 -19 -17 -5
-77 -17 -132 -26 -55 -9 -125 -21 -155 -27 -30 -5 -75 -13 -100 -17 -25 -4
-61 -12 -80 -19 -19 -6 -80 -18 -135 -27 -55 -8 -129 -22 -165 -30 -36 -8 -75
-15 -88 -15 -13 0 -33 -5 -45 -12 -12 -7 -44 -15 -72 -19 -49 -7 -246 -42
-335 -59 -74 -15 -340 -60 -415 -71 -118 -17 -116 -16 -147 -98 -52 -143 -126
-225 -262 -292 l-99 -49 -106 0 c-66 1 -121 6 -146 15 -22 8 -45 15 -52 15
-11 0 -88 -51 -248 -165 -132 -95 -222 -154 -248 -164 -12 -5 -38 -20 -57 -33
-19 -13 -71 -39 -115 -58 -44 -18 -85 -37 -90 -41 -43 -32 -195 -66 -240 -55
-22 6 -26 11 -23 39 2 24 12 38 43 58 54 36 122 74 170 97 22 10 61 32 85 48
25 16 62 36 83 46 22 10 59 31 83 48 25 16 47 30 50 30 6 0 89 53 257 164 45
30 77 58 77 67 0 10 -18 39 -39 67 -55 69 -77 116 -102 217 -51 209 24 411
202 543 75 55 132 78 228 93 90 13 211 1 285 -29 55 -21 143 -90 190 -146 25
-30 45 -46 60 -46 13 0 53 21 90 48 36 26 101 69 144 96 42 27 106 68 142 91
151 98 187 120 229 143 24 13 58 33 75 43 17 10 65 36 106 57 41 22 91 48 110
59 38 21 265 123 275 123 3 0 56 20 118 43 62 24 139 52 172 62 33 10 76 23
95 30 88 31 271 75 311 75 15 0 42 7 60 15 48 20 86 18 126 -6z m-4837 -367
c25 -5 113 -23 195 -40 83 -17 164 -36 180 -41 17 -5 66 -17 110 -27 44 -9
106 -23 138 -30 32 -8 67 -14 77 -14 22 0 44 -35 34 -52 -5 -7 -10 -28 -14
-48 -5 -32 -8 -35 -44 -38 -21 -2 -84 8 -140 21 -55 14 -146 33 -201 42 -55
10 -126 24 -158 31 -32 8 -69 14 -82 14 -12 0 -39 7 -58 15 -20 8 -55 15 -77
15 -55 0 -110 24 -110 48 0 10 7 42 16 71 l15 53 37 -5 c20 -3 57 -10 82 -15z
m140 -482 c321 -14 511 -27 521 -37 13 -13 14 -122 2 -134 -7 -7 -41 -7 -104
1 -52 7 -229 14 -394 16 -165 3 -315 7 -332 10 l-33 5 0 60 c0 88 11 103 68
95 26 -4 148 -11 272 -16z m4825 -263 c38 -59 60 -255 45 -408 -15 -161 3
-311 44 -368 52 -70 326 -649 326 -689 0 -40 -125 -77 -224 -67 -99 10 -231
10 -297 1 -52 -8 -57 -7 -72 15 -15 20 -15 25 -2 39 18 20 20 61 3 78 -14 14
-62 16 -87 2 -29 -15 -51 -84 -51 -155 0 -61 2 -66 38 -105 43 -44 53 -46 132
-25 71 19 115 19 134 -1 24 -23 23 -252 0 -261 -9 -3 -25 -1 -35 5 -10 7 -46
12 -78 12 -48 0 -68 -5 -97 -25 -76 -51 -147 -54 -214 -9 -19 13 -38 24 -42
24 -11 0 -45 -63 -53 -97 -6 -28 -2 -37 23 -63 39 -39 88 -40 197 -4 139 46
209 34 251 -42 15 -27 15 -34 3 -60 -8 -16 -37 -43 -64 -61 -90 -57 -95 -62
-95 -95 0 -17 17 -63 38 -102 21 -39 47 -104 57 -143 18 -69 18 -75 2 -127
-20 -63 -68 -110 -129 -127 -20 -5 -40 -14 -43 -19 -8 -14 -400 -13 -445 0
-19 6 -69 15 -110 20 -116 14 -286 50 -335 70 -11 5 -70 24 -130 44 -132 42
-279 109 -392 178 -94 57 -263 213 -356 327 -110 135 -110 135 -121 106 -17
-44 60 -236 138 -343 74 -103 174 -217 225 -257 88 -70 219 -148 306 -184 44
-18 88 -37 98 -42 26 -14 100 -38 149 -49 109 -24 154 -36 163 -41 6 -4 26 -9
46 -13 21 -4 41 -12 47 -19 28 -35 45 -498 23 -600 -25 -109 -41 -212 -41
-260 1 -72 30 -132 74 -153 32 -16 36 -16 60 0 33 21 66 94 66 147 0 22 7 68
15 100 9 33 14 76 13 96 -2 21 2 38 9 40 18 7 133 -97 196 -178 61 -77 153
-254 182 -349 9 -30 23 -73 29 -95 7 -22 10 -48 7 -57 -6 -16 -109 -97 -160
-127 -204 -116 -368 -156 -629 -154 -190 2 -254 9 -442 54 -69 17 -147 35
-175 41 -27 7 -55 15 -60 19 -6 4 -60 24 -120 45 -61 20 -114 40 -120 44 -5 4
-50 25 -100 46 -49 21 -110 50 -135 64 -25 15 -103 60 -175 101 -156 88 -219
130 -391 257 -111 82 -137 107 -178 168 -26 40 -82 105 -124 146 -72 69 -234
198 -248 198 -16 0 -64 43 -64 58 0 11 49 50 126 102 167 112 226 176 297 322
30 62 65 151 77 198 31 118 25 178 -27 280 l-41 79 35 21 c19 11 40 20 48 20
8 0 17 5 20 11 4 5 17 14 28 20 82 35 225 164 273 245 48 82 76 167 83 249 l6
80 95 5 c111 6 154 23 205 83 32 37 35 46 35 104 0 49 -4 67 -19 82 -28 28
-51 17 -91 -42 -41 -61 -58 -66 -143 -42 -183 51 -332 181 -418 366 -53 114
-69 309 -33 409 41 114 151 133 231 41 32 -37 28 -60 -17 -99 -68 -57 -86
-134 -56 -233 58 -190 209 -274 357 -199 61 32 65 103 5 80 -12 -4 -43 -2 -71
5 -95 25 -125 94 -90 210 19 64 33 73 94 67 94 -9 151 55 137 154 -5 41 -4 44
17 44 12 0 54 -10 92 -20 39 -11 117 -28 175 -37 110 -17 186 -11 270 22 19 7
51 19 70 26 44 16 147 114 210 199 46 63 180 315 180 339 0 23 55 84 87 97 18
8 54 14 81 14 27 0 73 4 103 9 30 5 99 14 154 21 55 6 132 18 170 25 39 7 102
18 140 24 39 6 114 17 168 26 54 8 113 15 130 15 18 0 55 7 82 14 28 8 85 15
127 15 71 1 79 -1 93 -22z m-4295 -139 c13 -21 19 -46 18 -68 -3 -34 -4 -35
-63 -48 -82 -18 -210 -41 -265 -47 -227 -26 -315 -38 -375 -51 -38 -9 -90 -14
-115 -12 l-45 3 -8 65 c-10 79 -3 86 91 95 37 3 103 11 147 17 44 6 107 14
140 18 182 25 239 32 328 40 54 4 101 11 104 14 12 12 24 5 43 -26z m2677
-123 c8 -21 -16 -132 -37 -175 -29 -58 -97 -126 -142 -145 -57 -23 -205 -46
-245 -39 -51 10 -40 34 40 86 88 58 148 110 247 211 58 59 83 77 103 77 16 0
30 -7 34 -15z m-267 -43 c0 -33 -94 -98 -119 -83 -11 7 -11 16 -1 45 14 43 32
55 83 56 29 0 37 -4 37 -18z m-2345 -204 c13 -46 13 -54 0 -67 -15 -16 -127
-57 -265 -98 -47 -14 -121 -38 -165 -53 -44 -15 -107 -35 -140 -45 -33 -9 -93
-28 -134 -41 -40 -13 -78 -21 -83 -18 -16 10 -38 70 -38 102 0 37 11 46 80 65
30 8 109 32 175 52 66 21 152 46 190 57 39 11 79 23 90 28 11 5 61 19 110 31
50 11 97 25 105 30 8 5 25 9 37 9 18 0 25 -9 38 -52z m43 -294 c12 -8 22 -23
22 -33 0 -31 -40 -59 -211 -150 -157 -84 -200 -108 -290 -162 -55 -33 -108
-59 -117 -57 -10 2 -23 21 -31 45 -26 72 -11 84 284 230 326 161 305 154 343
127z m1061 -417 c12 -66 12 -88 1 -145 -37 -191 -138 -330 -295 -407 l-80 -40
-150 0 c-137 1 -154 3 -200 24 l-50 24 50 9 c103 18 201 42 235 57 76 35 171
114 233 195 75 99 81 109 108 188 11 35 27 75 35 90 8 14 14 32 14 39 0 23 33
50 59 47 23 -3 26 -10 40 -81z m257 -415 c10 -51 -21 -165 -61 -227 -66 -101
-160 -169 -420 -298 -297 -149 -375 -245 -375 -464 0 -145 25 -190 137 -245
35 -17 63 -35 63 -39 0 -29 -213 -22 -282 9 -92 42 -136 106 -145 210 -11 131
49 272 170 407 37 40 67 75 67 78 0 2 -39 7 -87 10 -100 7 -135 17 -213 63
-67 39 -168 129 -158 140 5 4 34 1 65 -7 139 -34 582 1 708 55 17 8 50 21 75
31 25 9 56 22 70 27 32 12 123 71 178 116 24 19 64 66 89 106 26 39 53 79 62
89 15 18 16 18 33 -3 10 -12 20 -38 24 -58z m-402 -873 c41 -36 56 -79 56
-166 0 -80 -22 -108 -78 -99 -131 21 -179 194 -76 275 36 29 57 26 98 -10z
m-527 -1124 c115 -29 151 -44 231 -91 102 -61 224 -173 280 -257 18 -26 32
-51 32 -54 0 -4 6 -14 14 -22 7 -9 27 -52 43 -96 75 -199 87 -274 69 -430 -19
-164 -56 -266 -148 -400 -161 -238 -391 -375 -678 -404 -167 -17 -374 22 -528
100 -141 71 -242 158 -320 274 -88 132 -128 239 -144 383 -27 247 53 475 224
638 47 45 189 144 206 144 6 0 26 6 44 14 90 38 135 46 248 46 104 0 125 -3
205 -31 112 -39 136 -51 206 -105 77 -59 132 -127 179 -223 52 -106 63 -159
59 -296 -4 -111 -5 -113 -52 -209 -53 -107 -131 -195 -203 -231 -21 -10 -45
-24 -52 -29 -62 -46 -247 -62 -332 -28 -106 41 -189 116 -234 211 -28 60 -31
75 -31 161 0 79 4 102 23 137 57 109 126 149 238 140 50 -4 71 -10 91 -28 33
-32 56 -88 48 -119 -22 -86 -72 -130 -149 -130 -44 0 -46 -1 -46 -28 0 -44 53
-110 106 -133 70 -29 118 -25 204 19 66 33 80 46 121 106 60 89 77 166 59 262
-24 128 -117 255 -226 308 -80 39 -213 63 -270 48 -24 -7 -53 -12 -63 -12 -35
0 -152 -60 -201 -102 -167 -147 -244 -376 -194 -577 38 -149 108 -261 226
-361 84 -70 145 -101 277 -141 96 -28 114 -31 215 -27 92 4 128 10 206 36 117
40 236 118 321 210 74 81 97 116 139 213 42 96 54 159 54 294 0 117 -7 170
-30 222 -8 17 -14 34 -14 38 0 18 -75 152 -120 214 -78 107 -164 180 -288 243
-106 55 -216 98 -250 98 -25 0 -46 16 -38 29 13 20 105 11 243 -24z m3612
-271 c31 -21 69 -49 84 -63 56 -51 179 -215 203 -271 4 -8 12 -22 19 -30 6 -8
20 -35 30 -60 10 -25 29 -70 43 -100 40 -91 61 -162 91 -315 5 -22 13 -60 19
-85 11 -47 32 -200 32 -238 0 -30 -36 -50 -148 -84 -77 -23 -98 -26 -108 -16
-14 15 -34 146 -34 219 0 54 -14 162 -31 244 -6 28 -19 88 -29 135 -35 165
-85 314 -151 455 -75 160 -99 220 -95 232 8 19 13 17 75 -23z m632 -310 c125
-140 239 -364 285 -563 9 -36 20 -73 26 -84 8 -16 5 -24 -18 -43 -41 -32 -149
-84 -177 -84 -23 0 -25 5 -31 73 -7 69 -51 256 -80 334 -7 21 -21 63 -31 93
-21 64 -111 252 -155 325 -41 69 -43 73 -36 90 4 12 25 2 93 -44 49 -32 104
-76 124 -97z m-3228 -104 c189 -133 227 -159 297 -202 122 -75 426 -217 573
-268 48 -17 95 -34 105 -39 34 -17 206 -54 327 -70 39 -5 83 -14 98 -20 45
-17 375 -14 427 4 23 8 54 15 69 15 80 0 305 77 420 143 49 29 133 90 150 110
19 24 40 21 50 -5 5 -13 17 -63 27 -111 l17 -89 -29 -23 c-16 -14 -32 -24 -36
-25 -4 0 -27 -13 -51 -30 -25 -16 -48 -30 -51 -30 -3 0 -45 -18 -93 -41 -123
-57 -188 -79 -353 -118 -135 -33 -390 -39 -580 -16 -125 15 -270 43 -405 78
-84 22 -127 37 -228 81 -21 9 -42 16 -47 16 -14 0 -258 121 -350 173 -191 108
-378 241 -393 281 -4 10 -14 57 -22 105 -8 47 -18 99 -21 115 -9 37 3 33 99
-34z m76 -550 c113 -85 111 -80 111 -274 0 -152 -1 -166 -19 -176 -21 -11 -67
-4 -161 25 -30 9 -79 22 -109 30 -88 23 -87 20 -33 185 27 80 55 170 62 200 7
30 17 63 22 73 11 22 21 17 127 -63z m538 -314 c134 -61 332 -130 428 -150
127 -26 214 -44 298 -60 43 -9 109 -16 147 -16 62 0 94 -10 72 -24 -4 -2 -80
-10 -167 -15 -127 -9 -213 -8 -415 4 -140 8 -271 19 -290 25 -19 5 -54 10 -77
10 -23 0 -61 9 -86 19 l-45 19 -4 104 c-3 56 -3 109 0 116 7 21 38 14 139 -32z
m-1066 -214 l31 -28 -30 -64 c-17 -36 -45 -103 -63 -150 -17 -47 -40 -107 -51
-135 -11 -27 -23 -63 -28 -80 -14 -53 -52 -150 -64 -163 -10 -10 -24 -7 -74
13 -34 14 -66 25 -71 25 -11 0 -181 77 -246 112 -77 40 -77 41 -39 112 51 96
47 95 163 37 143 -72 140 -73 195 58 25 60 46 114 46 120 0 7 9 29 19 50 14
27 39 50 88 79 37 23 74 41 80 42 7 0 27 -13 44 -28z"></path><path class="fill-primary" d="M5596 8530 c-43 -16 -94 -41 -112 -55 -50 -39 -112 -125 -129 -181
-31 -102 -13 -240 42 -313 92 -125 162 -164 298 -164 118 -1 180 21 253 88 69
62 98 109 118 187 26 101 8 207 -48 293 -41 63 -82 102 -129 124 -135 62 -175
64 -293 21z m179 -194 c59 -33 98 -94 98 -151 0 -50 -35 -111 -86 -149 -40
-29 -134 -29 -174 0 -76 56 -96 169 -44 241 33 45 91 80 136 81 17 1 48 -9 70
-22z"></path><path class="fill-primary" d="M7750 8005 c-30 -7 -75 -19 -100 -27 -25 -9 -85 -28 -135 -44 -49
-16 -112 -41 -138 -56 -26 -15 -53 -28 -60 -28 -16 0 -116 -67 -144 -97 -28
-29 -29 -59 -4 -73 31 -16 45 -13 138 31 49 23 99 45 113 50 14 4 50 18 80 30
49 21 74 24 238 27 240 4 240 -7 -3 -73 -131 -35 -351 -109 -367 -123 -25 -21
-22 -43 11 -80 38 -41 66 -41 135 -2 63 36 114 52 137 45 11 -4 19 -22 23 -57
9 -64 26 -98 68 -133 29 -25 38 -27 100 -23 99 5 103 11 103 160 0 135 -1 133
76 143 55 7 168 76 204 125 36 49 48 99 30 126 -45 69 -342 116 -505 79z"></path><path class="fill-primary" d="M6583 4433 c-7 -18 24 -78 102 -198 29 -44 77 -118 107 -165 72 -111
142 -180 184 -180 35 0 64 26 64 57 0 33 -116 182 -318 409 -63 70 -90 94
-108 94 -14 0 -27 -7 -31 -17z"></path><path class="fill-primary" d="M11256 8934 c-42 -15 -50 -23 -100 -99 -36 -54 -66 -169 -66 -254 0
-25 -4 -62 -9 -81 -5 -19 -12 -52 -16 -72 -8 -49 -27 -48 -49 1 -36 79 -200
206 -326 251 -30 11 -64 25 -75 29 -86 39 -220 62 -360 64 -116 1 -155 -10
-155 -41 0 -10 18 -49 41 -87 105 -179 257 -315 456 -405 195 -88 722 -104
1013 -31 81 21 285 133 350 193 42 38 80 94 80 116 0 33 -30 42 -140 42 -215
0 -408 -82 -597 -255 -39 -36 -79 -65 -87 -65 -42 0 23 218 99 330 44 66 74
141 95 240 14 67 3 103 -39 125 -36 18 -63 18 -115 -1z"></path><path class="fill-primary" d="M10225 8225 c-111 -60 -292 -226 -386 -355 -74 -101 -152 -265 -191
-400 -20 -72 -37 -229 -37 -345 -1 -181 25 -319 97 -525 53 -151 206 -383 341
-519 67 -68 202 -181 215 -181 4 0 31 -15 59 -34 47 -32 116 -63 222 -103 22
-8 48 -19 57 -24 21 -10 134 -38 213 -51 98 -16 391 -21 480 -8 97 14 264 48
278 57 5 3 23 9 41 14 51 13 178 59 221 81 148 74 165 86 294 203 81 73 134
134 200 230 51 74 154 269 171 322 5 15 18 53 30 83 29 74 38 109 55 215 57
356 5 647 -168 945 -102 174 -250 339 -348 388 -71 34 -98 30 -202 -36 -187
-117 -323 -150 -559 -136 -97 6 -107 4 -116 -12 -5 -11 -10 -80 -11 -154 -2
-91 -6 -137 -14 -142 -7 -4 -40 -8 -73 -8 -47 0 -63 4 -68 16 -3 9 -6 75 -6
148 0 89 -4 136 -12 144 -7 7 -40 12 -79 12 -73 0 -231 27 -341 59 -42 12
-101 41 -155 76 -107 70 -140 76 -208 40z m1622 -817 c23 -26 43 -61 43 -77 0
-14 -37 -37 -250 -156 -96 -54 -217 -122 -267 -152 l-93 -54 0 -51 c0 -92 -73
-170 -176 -189 -101 -19 -179 14 -238 100 -25 36 -28 47 -24 99 6 80 48 141
123 177 30 14 55 31 56 38 0 7 0 38 -1 70 -2 77 8 87 85 87 81 0 89 -10 83
-98 -3 -37 -4 -73 -1 -79 9 -24 57 -13 127 29 39 23 116 68 171 101 55 32 107
63 115 68 24 14 214 108 221 108 3 1 15 -9 26 -21z m536 -201 c5 -14 0 -73 -8
-95 -3 -9 -26 -12 -82 -10 l-78 3 -3 44 c-5 69 -2 71 87 71 55 0 80 -4 84 -13z
m-2415 -9 c18 -18 15 -95 -4 -102 -28 -11 -120 -6 -132 6 -19 19 -15 85 6 97
24 14 115 14 130 -1z m148 -486 c16 -10 34 -48 34 -69 0 -10 -26 -37 -61 -62
l-61 -44 -23 24 c-26 27 -38 59 -27 75 12 17 104 84 116 84 6 0 16 -4 22 -8z
m2092 -16 c26 -13 55 -33 66 -45 18 -20 18 -21 -8 -56 -15 -19 -35 -35 -46
-35 -17 0 -140 67 -140 77 0 2 9 22 20 43 24 47 41 50 108 16z m-448 -446 c25
-13 83 -109 76 -126 -6 -16 -65 -54 -83 -54 -14 0 -83 103 -83 124 0 8 15 26
33 40 37 30 33 29 57 16z m-1227 -27 c20 -16 36 -35 36 -43 0 -26 -73 -125
-94 -128 -11 -1 -38 13 -59 31 l-39 34 47 66 c26 37 53 67 60 67 7 0 29 -12
49 -27z m626 -152 c19 -12 27 -111 12 -140 -11 -19 -17 -21 -64 -15 -29 4 -57
10 -63 15 -13 11 -5 131 10 141 15 11 88 10 105 -1z"></path></g></svg>`);function dD(t){var e=hD();de(t,e)}var vD=Je('<div class="border-base-content/20 hover:border-base-content/40 overflow-hidden rounded-lg border outline-2 outline-offset-2 outline-transparent" data-act-class="outline-base-content!"><div class="bg-base-100 text-base-content w-full cursor-pointer font-sans"><div class="grid grid-cols-5 grid-rows-3"><div class="bg-base-200 col-start-1 row-span-2 row-start-1"></div> <div class="bg-base-300 col-start-1 row-start-3"></div> <div class="bg-base-100 col-span-4 col-start-2 row-span-3 row-start-1 flex flex-col gap-1 p-2"><div class="font-bold"> </div> <div class="flex flex-wrap gap-1"><div class="bg-primary flex aspect-square w-5 items-center justify-center rounded lg:w-6"><div class="text-primary-content text-sm font-bold">A</div></div> <div class="bg-secondary flex aspect-square w-5 items-center justify-center rounded lg:w-6"><div class="text-secondary-content text-sm font-bold">A</div></div> <div class="bg-accent flex aspect-square w-5 items-center justify-center rounded lg:w-6"><div class="text-accent-content text-sm font-bold">A</div></div> <div class="bg-neutral flex aspect-square w-5 items-center justify-center rounded lg:w-6"><div class="text-neutral-content text-sm font-bold">A</div></div></div></div></div></div></div>');function C_(t,e){var r=vD(),n=K(r),i=K(n),a=fe(K(i),4),o=K(a),s=K(o,!0);q(o),Va(2),q(a),q(i),q(n),q(r),rt(()=>{pn(r,"data-set-theme",e.theme),pn(n,"data-theme",e.theme),Pe(s,e.theme)}),de(t,r)}class gy extends Error{constructor({name:r,message:n,cause:i}){super();lt(this,"name");lt(this,"message");lt(this,"cause");this.name=r,this.message=n,this.cause=i}}var id={exports:{}},pD=id.exports,A_;function gD(){return A_||(A_=1,function(t,e){(function(r,n){t.exports=n()})(pD,function(){var r=function(p,_){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(x[C]=T[C])})(p,_)},n=function(){return(n=Object.assign||function(p){for(var _,x=1,T=arguments.length;x<T;x++)for(var C in _=arguments[x])Object.prototype.hasOwnProperty.call(_,C)&&(p[C]=_[C]);return p}).apply(this,arguments)};function i(p,_,x){for(var T,C=0,I=_.length;C<I;C++)!T&&C in _||((T=T||Array.prototype.slice.call(_,0,C))[C]=_[C]);return p.concat(T||Array.prototype.slice.call(_))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:QM,o=Object.keys,s=Array.isArray;function u(p,_){return typeof _!="object"||o(_).forEach(function(x){p[x]=_[x]}),p}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var l=Object.getPrototypeOf,c={}.hasOwnProperty;function f(p,_){return c.call(p,_)}function h(p,_){typeof _=="function"&&(_=_(l(p))),(typeof Reflect>"u"?o:Reflect.ownKeys)(_).forEach(function(x){v(p,x,_[x])})}var d=Object.defineProperty;function v(p,_,x,T){d(p,_,u(x&&f(x,"get")&&typeof x.get=="function"?{get:x.get,set:x.set,configurable:!0}:{value:x,configurable:!0,writable:!0},T))}function g(p){return{from:function(_){return p.prototype=Object.create(_.prototype),v(p.prototype,"constructor",p),{extend:h.bind(null,p.prototype)}}}}var m=Object.getOwnPropertyDescriptor,y=[].slice;function b(p,_,x){return y.call(p,_,x)}function w(p,_){return _(p)}function S(p){if(!p)throw new Error("Assertion Failed")}function D(p){a.setImmediate?setImmediate(p):setTimeout(p,0)}function M(p,_){if(typeof _=="string"&&f(p,_))return p[_];if(!_)return p;if(typeof _!="string"){for(var x=[],T=0,C=_.length;T<C;++T){var I=M(p,_[T]);x.push(I)}return x}var L=_.indexOf(".");if(L!==-1){var N=p[_.substr(0,L)];return N==null?void 0:M(N,_.substr(L+1))}}function A(p,_,x){if(p&&_!==void 0&&!("isFrozen"in Object&&Object.isFrozen(p)))if(typeof _!="string"&&"length"in _){S(typeof x!="string"&&"length"in x);for(var T=0,C=_.length;T<C;++T)A(p,_[T],x[T])}else{var I,L,N=_.indexOf(".");N!==-1?(I=_.substr(0,N),(L=_.substr(N+1))===""?x===void 0?s(p)&&!isNaN(parseInt(I))?p.splice(I,1):delete p[I]:p[I]=x:A(N=!(N=p[I])||!f(p,I)?p[I]={}:N,L,x)):x===void 0?s(p)&&!isNaN(parseInt(_))?p.splice(_,1):delete p[_]:p[_]=x}}function k(p){var _,x={};for(_ in p)f(p,_)&&(x[_]=p[_]);return x}var O=[].concat;function P(p){return O.apply([],p)}var Ve="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(P([8,16,32,64].map(function(p){return["Int","Uint","Float"].map(function(_){return _+p+"Array"})}))).filter(function(p){return a[p]}),R=new Set(Ve.map(function(p){return a[p]})),H=null;function z(p){return H=new WeakMap,p=function _(x){if(!x||typeof x!="object")return x;var T=H.get(x);if(T)return T;if(s(x)){T=[],H.set(x,T);for(var C=0,I=x.length;C<I;++C)T.push(_(x[C]))}else if(R.has(x.constructor))T=x;else{var L,N=l(x);for(L in T=N===Object.prototype?{}:Object.create(N),H.set(x,T),x)f(x,L)&&(T[L]=_(x[L]))}return T}(p),H=null,p}var W={}.toString;function ee(p){return W.call(p).slice(8,-1)}var ne=typeof Symbol<"u"?Symbol.iterator:"@@iterator",he=typeof ne=="symbol"?function(p){var _;return p!=null&&(_=p[ne])&&_.apply(p)}:function(){return null};function X(p,_){return _=p.indexOf(_),0<=_&&p.splice(_,1),0<=_}var te={};function oe(p){var _,x,T,C;if(arguments.length===1){if(s(p))return p.slice();if(this===te&&typeof p=="string")return[p];if(C=he(p)){for(x=[];!(T=C.next()).done;)x.push(T.value);return x}if(p==null)return[p];if(typeof(_=p.length)!="number")return[p];for(x=new Array(_);_--;)x[_]=p[_];return x}for(_=arguments.length,x=new Array(_);_--;)x[_]=arguments[_];return x}var Q=typeof Symbol<"u"?function(p){return p[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},$e=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ni=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat($e),ue={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function pe(p,_){this.name=p,this.message=_}function Ee(p,_){return p+". Errors: "+Object.keys(_).map(function(x){return _[x].toString()}).filter(function(x,T,C){return C.indexOf(x)===T}).join(`
`)}function Be(p,_,x,T){this.failures=_,this.failedKeys=T,this.successCount=x,this.message=Ee(p,_)}function Ye(p,_){this.name="BulkError",this.failures=Object.keys(_).map(function(x){return _[x]}),this.failuresByPos=_,this.message=Ee(p,this.failures)}g(pe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),g(Be).from(pe),g(Ye).from(pe);var Ke=ni.reduce(function(p,_){return p[_]=_+"Error",p},{}),Ge=pe,ve=ni.reduce(function(p,_){var x=_+"Error";function T(C,I){this.name=x,C?typeof C=="string"?(this.message="".concat(C).concat(I?`
 `+I:""),this.inner=I||null):typeof C=="object"&&(this.message="".concat(C.name," ").concat(C.message),this.inner=C):(this.message=ue[_]||x,this.inner=null)}return g(T).from(Ge),p[_]=T,p},{});ve.Syntax=SyntaxError,ve.Type=TypeError,ve.Range=RangeError;var et=$e.reduce(function(p,_){return p[_+"Error"]=ve[_],p},{}),Ie=ni.reduce(function(p,_){return["Syntax","Type","Range"].indexOf(_)===-1&&(p[_+"Error"]=ve[_]),p},{});function be(){}function xe(p){return p}function Se(p,_){return p==null||p===xe?_:function(x){return _(p(x))}}function Re(p,_){return function(){p.apply(this,arguments),_.apply(this,arguments)}}function ut(p,_){return p===be?_:function(){var x=p.apply(this,arguments);x!==void 0&&(arguments[0]=x);var T=this.onsuccess,C=this.onerror;this.onsuccess=null,this.onerror=null;var I=_.apply(this,arguments);return T&&(this.onsuccess=this.onsuccess?Re(T,this.onsuccess):T),C&&(this.onerror=this.onerror?Re(C,this.onerror):C),I!==void 0?I:x}}function dt(p,_){return p===be?_:function(){p.apply(this,arguments);var x=this.onsuccess,T=this.onerror;this.onsuccess=this.onerror=null,_.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?Re(x,this.onsuccess):x),T&&(this.onerror=this.onerror?Re(T,this.onerror):T)}}function Kt(p,_){return p===be?_:function(x){var T=p.apply(this,arguments);u(x,T);var C=this.onsuccess,I=this.onerror;return this.onsuccess=null,this.onerror=null,x=_.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?Re(C,this.onsuccess):C),I&&(this.onerror=this.onerror?Re(I,this.onerror):I),T===void 0?x===void 0?void 0:x:u(T,x)}}function le(p,_){return p===be?_:function(){return _.apply(this,arguments)!==!1&&p.apply(this,arguments)}}function Ne(p,_){return p===be?_:function(){var x=p.apply(this,arguments);if(x&&typeof x.then=="function"){for(var T=this,C=arguments.length,I=new Array(C);C--;)I[C]=arguments[C];return x.then(function(){return _.apply(T,I)})}return _.apply(this,arguments)}}Ie.ModifyError=Be,Ie.DexieError=pe,Ie.BulkError=Ye;var se=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Te(p){se=p}var We={},Ze=100,Ve=typeof Promise>"u"?[]:function(){var p=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[p,l(p),p];var _=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[_,l(_),p]}(),$e=Ve[0],ni=Ve[1],Ve=Ve[2],ni=ni&&ni.then,tt=$e&&$e.constructor,Dt=!!Ve,Zt=function(p,_){An.push([p,_]),ir&&(queueMicrotask(Gs),ir=!1)},dr=!0,ir=!0,Pt=[],mn=[],Nr=xe,$r={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:be,pgp:!1,env:{},finalize:be},Ue=$r,An=[],Gn=0,ei=[];function Ae(p){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var _=this._PSD=Ue;if(typeof p!="function"){if(p!==We)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Za(this,this._value))}this._state=null,this._value=null,++_.ref,function x(T,C){try{C(function(I){if(T._state===null){if(I===T)throw new TypeError("A promise cannot be resolved with itself.");var L=T._lib&&Aa();I&&typeof I.then=="function"?x(T,function(N,$){I instanceof Ae?I._then(N,$):I.then(N,$)}):(T._state=!0,T._value=I,zf(T)),L&&Hi()}},Za.bind(null,T))}catch(I){Za(T,I)}}(this,p)}var wl={get:function(){var p=Ue,_=Ia;function x(T,C){var I=this,L=!p.global&&(p!==Ue||_!==Ia),N=L&&!ri(),$=new Ae(function(G,j){Sl(I,new xl(Ml(T,p,L,N),Ml(C,p,L,N),G,j,p))});return this._consoleTask&&($._consoleTask=this._consoleTask),$}return x.prototype=We,x},set:function(p){v(this,"then",p&&p.prototype===We?wl:{get:function(){return p},set:wl.set})}};function xl(p,_,x,T,C){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof _=="function"?_:null,this.resolve=x,this.reject=T,this.psd=C}function Za(p,_){var x,T;mn.push(_),p._state===null&&(x=p._lib&&Aa(),_=Nr(_),p._state=!1,p._value=_,T=p,Pt.some(function(C){return C._value===T._value})||Pt.push(T),zf(p),x&&Hi())}function zf(p){var _=p._listeners;p._listeners=[];for(var x=0,T=_.length;x<T;++x)Sl(p,_[x]);var C=p._PSD;--C.ref||C.finalize(),Gn===0&&(++Gn,Zt(function(){--Gn==0&&Xa()},[]))}function Sl(p,_){if(p._state!==null){var x=p._state?_.onFulfilled:_.onRejected;if(x===null)return(p._state?_.resolve:_.reject)(p._value);++_.psd.ref,++Gn,Zt(Dp,[x,p,_])}else p._listeners.push(_)}function Dp(p,_,x){try{var T,C=_._value;!_._state&&mn.length&&(mn=[]),T=se&&_._consoleTask?_._consoleTask.run(function(){return p(C)}):p(C),_._state||mn.indexOf(C)!==-1||function(I){for(var L=Pt.length;L;)if(Pt[--L]._value===I._value)return Pt.splice(L,1)}(_),x.resolve(T)}catch(I){x.reject(I)}finally{--Gn==0&&Xa(),--x.psd.ref||x.psd.finalize()}}function Gs(){Ea($r,function(){Aa()&&Hi()})}function Aa(){var p=dr;return ir=dr=!1,p}function Hi(){var p,_,x;do for(;0<An.length;)for(p=An,An=[],x=p.length,_=0;_<x;++_){var T=p[_];T[0].apply(null,T[1])}while(0<An.length);ir=dr=!0}function Xa(){var p=Pt;Pt=[],p.forEach(function(T){T._PSD.onunhandled.call(null,T._value,T)});for(var _=ei.slice(0),x=_.length;x;)_[--x]()}function Ws(p){return new Ae(We,!1,p)}function Qt(p,_){var x=Ue;return function(){var T=Aa(),C=Ue;try{return Gi(x,!0),p.apply(this,arguments)}catch(I){_&&_(I)}finally{Gi(C,!1),T&&Hi()}}}h(Ae.prototype,{then:wl,_then:function(p,_){Sl(this,new xl(null,null,p,_,Ue))},catch:function(p){if(arguments.length===1)return this.then(null,p);var _=p,x=arguments[1];return typeof _=="function"?this.then(null,function(T){return(T instanceof _?x:Ws)(T)}):this.then(null,function(T){return(T&&T.name===_?x:Ws)(T)})},finally:function(p){return this.then(function(_){return Ae.resolve(p()).then(function(){return _})},function(_){return Ae.resolve(p()).then(function(){return Ws(_)})})},timeout:function(p,_){var x=this;return p<1/0?new Ae(function(T,C){var I=setTimeout(function(){return C(new ve.Timeout(_))},p);x.then(T,C).finally(clearTimeout.bind(null,I))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&v(Ae.prototype,Symbol.toStringTag,"Dexie.Promise"),$r.env=Ys(),h(Ae,{all:function(){var p=oe.apply(null,arguments).map(Qa);return new Ae(function(_,x){p.length===0&&_([]);var T=p.length;p.forEach(function(C,I){return Ae.resolve(C).then(function(L){p[I]=L,--T||_(p)},x)})})},resolve:function(p){return p instanceof Ae?p:p&&typeof p.then=="function"?new Ae(function(_,x){p.then(_,x)}):new Ae(We,!0,p)},reject:Ws,race:function(){var p=oe.apply(null,arguments).map(Qa);return new Ae(function(_,x){p.map(function(T){return Ae.resolve(T).then(_,x)})})},PSD:{get:function(){return Ue},set:function(p){return Ue=p}},totalEchoes:{get:function(){return Ia}},newPSD:ti,usePSD:Ea,scheduler:{get:function(){return Zt},set:function(p){Zt=p}},rejectionMapper:{get:function(){return Nr},set:function(p){Nr=p}},follow:function(p,_){return new Ae(function(x,T){return ti(function(C,I){var L=Ue;L.unhandleds=[],L.onunhandled=I,L.finalize=Re(function(){var N,$=this;N=function(){$.unhandleds.length===0?C():I($.unhandleds[0])},ei.push(function G(){N(),ei.splice(ei.indexOf(G),1)}),++Gn,Zt(function(){--Gn==0&&Xa()},[])},L.finalize),p()},_,x,T)})}}),tt&&(tt.allSettled&&v(Ae,"allSettled",function(){var p=oe.apply(null,arguments).map(Qa);return new Ae(function(_){p.length===0&&_([]);var x=p.length,T=new Array(x);p.forEach(function(C,I){return Ae.resolve(C).then(function(L){return T[I]={status:"fulfilled",value:L}},function(L){return T[I]={status:"rejected",reason:L}}).then(function(){return--x||_(T)})})})}),tt.any&&typeof AggregateError<"u"&&v(Ae,"any",function(){var p=oe.apply(null,arguments).map(Qa);return new Ae(function(_,x){p.length===0&&x(new AggregateError([]));var T=p.length,C=new Array(T);p.forEach(function(I,L){return Ae.resolve(I).then(function(N){return _(N)},function(N){C[L]=N,--T||x(new AggregateError(C))})})})}),tt.withResolvers&&(Ae.withResolvers=tt.withResolvers));var vr={awaits:0,echoes:0,id:0},Cp=0,Us=[],qs=0,Ia=0,Bf=0;function ti(p,_,x,T){var C=Ue,I=Object.create(C);return I.parent=C,I.ref=0,I.global=!1,I.id=++Bf,$r.env,I.env=Dt?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,allSettled:Ae.allSettled,any:Ae.any,resolve:Ae.resolve,reject:Ae.reject}:{},_&&u(I,_),++C.ref,I.finalize=function(){--this.parent.ref||this.parent.finalize()},T=Ea(I,p,x,T),I.ref===0&&I.finalize(),T}function Ja(){return vr.id||(vr.id=++Cp),++vr.awaits,vr.echoes+=Ze,vr.id}function ri(){return!!vr.awaits&&(--vr.awaits==0&&(vr.id=0),vr.echoes=vr.awaits*Ze,!0)}function Qa(p){return vr.echoes&&p&&p.constructor===tt?(Ja(),p.then(function(_){return ri(),_},function(_){return ri(),sr(_)})):p}function Tl(){var p=Us[Us.length-1];Us.pop(),Gi(p,!1)}function Gi(p,_){var x,T=Ue;(_?!vr.echoes||qs++&&p===Ue:!qs||--qs&&p===Ue)||queueMicrotask(_?(function(C){++Ia,vr.echoes&&--vr.echoes!=0||(vr.echoes=vr.awaits=vr.id=0),Us.push(Ue),Gi(C,!0)}).bind(null,p):Tl),p!==Ue&&(Ue=p,T===$r&&($r.env=Ys()),Dt&&(x=$r.env.Promise,_=p.env,(T.global||p.global)&&(Object.defineProperty(a,"Promise",_.PromiseProp),x.all=_.all,x.race=_.race,x.resolve=_.resolve,x.reject=_.reject,_.allSettled&&(x.allSettled=_.allSettled),_.any&&(x.any=_.any))))}function Ys(){var p=a.Promise;return Dt?{Promise:p,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:p.all,race:p.race,allSettled:p.allSettled,any:p.any,resolve:p.resolve,reject:p.reject}:{}}function Ea(p,_,x,T,C){var I=Ue;try{return Gi(p,!0),_(x,T,C)}finally{Gi(I,!1)}}function Ml(p,_,x,T){return typeof p!="function"?p:function(){var C=Ue;x&&Ja(),Gi(_,!0);try{return p.apply(this,arguments)}finally{Gi(C,!1),T&&queueMicrotask(ri)}}}function js(p){Promise===tt&&vr.echoes===0?qs===0?p():enqueueNativeMicroTask(p):setTimeout(p,0)}(""+ni).indexOf("[native code]")===-1&&(Ja=ri=be);var sr=Ae.reject,Ti="ï¿¿",Mi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ks="String expected.",eo=[],Ho="__dbnames",Zs="readonly",Xs="readwrite";function Wi(p,_){return p?_?function(){return p.apply(this,arguments)&&_.apply(this,arguments)}:p:_}var $f={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function at(p){return typeof p!="string"||/\./.test(p)?function(_){return _}:function(_){return _[p]===void 0&&p in _&&delete(_=z(_))[p],_}}function Vt(){throw ve.Type()}function qe(p,_){try{var x=Vr(p),T=Vr(_);if(x!==T)return x==="Array"?1:T==="Array"?-1:x==="binary"?1:T==="binary"?-1:x==="string"?1:T==="string"?-1:x==="Date"?1:T!=="Date"?NaN:-1;switch(x){case"number":case"Date":case"string":return _<p?1:p<_?-1:0;case"binary":return function(C,I){for(var L=C.length,N=I.length,$=L<N?L:N,G=0;G<$;++G)if(C[G]!==I[G])return C[G]<I[G]?-1:1;return L===N?0:L<N?-1:1}(Er(p),Er(_));case"Array":return function(C,I){for(var L=C.length,N=I.length,$=L<N?L:N,G=0;G<$;++G){var j=qe(C[G],I[G]);if(j!==0)return j}return L===N?0:L<N?-1:1}(p,_)}}catch{}return NaN}function Vr(p){var _=typeof p;return _!="object"?_:ArrayBuffer.isView(p)?"binary":(p=ee(p),p==="ArrayBuffer"?"binary":p)}function Er(p){return p instanceof Uint8Array?p:ArrayBuffer.isView(p)?new Uint8Array(p.buffer,p.byteOffset,p.byteLength):new Uint8Array(p)}var er=(pt.prototype._trans=function(p,_,x){var T=this._tx||Ue.trans,C=this.name,I=se&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(p==="readonly"?"read":"write"," ").concat(this.name));function L(G,j,B){if(!B.schema[C])throw new ve.NotFound("Table "+C+" not part of transaction");return _(B.idbtrans,B)}var N=Aa();try{var $=T&&T.db._novip===this.db._novip?T===Ue.trans?T._promise(p,L,x):ti(function(){return T._promise(p,L,x)},{trans:T,transless:Ue.transless||Ue}):function G(j,B,J,V){if(j.idbdb&&(j._state.openComplete||Ue.letThrough||j._vip)){var Y=j._createTransaction(B,J,j._dbSchema);try{Y.create(),j._state.PR1398_maxLoop=3}catch(Z){return Z.name===Ke.InvalidState&&j.isOpen()&&0<--j._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),j.close({disableAutoOpen:!1}),j.open().then(function(){return G(j,B,J,V)})):sr(Z)}return Y._promise(B,function(Z,U){return ti(function(){return Ue.trans=Y,V(Z,U,Y)})}).then(function(Z){if(B==="readwrite")try{Y.idbtrans.commit()}catch{}return B==="readonly"?Z:Y._completion.then(function(){return Z})})}if(j._state.openComplete)return sr(new ve.DatabaseClosed(j._state.dbOpenError));if(!j._state.isBeingOpened){if(!j._state.autoOpen)return sr(new ve.DatabaseClosed);j.open().catch(be)}return j._state.dbReadyPromise.then(function(){return G(j,B,J,V)})}(this.db,p,[this.name],L);return I&&($._consoleTask=I,$=$.catch(function(G){return console.trace(G),sr(G)})),$}finally{N&&Hi()}},pt.prototype.get=function(p,_){var x=this;return p&&p.constructor===Object?this.where(p).first(_):p==null?sr(new ve.Type("Invalid argument to Table.get()")):this._trans("readonly",function(T){return x.core.get({trans:T,key:p}).then(function(C){return x.hook.reading.fire(C)})}).then(_)},pt.prototype.where=function(p){if(typeof p=="string")return new this.db.WhereClause(this,p);if(s(p))return new this.db.WhereClause(this,"[".concat(p.join("+"),"]"));var _=o(p);if(_.length===1)return this.where(_[0]).equals(p[_[0]]);var x=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&_.every(function(G){return 0<=N.keyPath.indexOf(G)})){for(var $=0;$<_.length;++$)if(_.indexOf(N.keyPath[$])===-1)return!1;return!0}return!1}).sort(function(N,$){return N.keyPath.length-$.keyPath.length})[0];if(x&&this.db._maxKey!==Ti){var I=x.keyPath.slice(0,_.length);return this.where(I).equals(I.map(function($){return p[$]}))}!x&&se&&console.warn("The query ".concat(JSON.stringify(p)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(_.join("+"),"]"));var T=this.schema.idxByName;function C(N,$){return qe(N,$)===0}var L=_.reduce(function(B,$){var G=B[0],j=B[1],B=T[$],J=p[$];return[G||B,G||!B?Wi(j,B&&B.multi?function(V){return V=M(V,$),s(V)&&V.some(function(Y){return C(J,Y)})}:function(V){return C(J,M(V,$))}):j]},[null,null]),I=L[0],L=L[1];return I?this.where(I.name).equals(p[I.keyPath]).filter(L):x?this.filter(L):this.where(_).equals("")},pt.prototype.filter=function(p){return this.toCollection().and(p)},pt.prototype.count=function(p){return this.toCollection().count(p)},pt.prototype.offset=function(p){return this.toCollection().offset(p)},pt.prototype.limit=function(p){return this.toCollection().limit(p)},pt.prototype.each=function(p){return this.toCollection().each(p)},pt.prototype.toArray=function(p){return this.toCollection().toArray(p)},pt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pt.prototype.orderBy=function(p){return new this.db.Collection(new this.db.WhereClause(this,s(p)?"[".concat(p.join("+"),"]"):p))},pt.prototype.reverse=function(){return this.toCollection().reverse()},pt.prototype.mapToClass=function(p){var _,x=this.db,T=this.name;function C(){return _!==null&&_.apply(this,arguments)||this}(this.schema.mappedClass=p).prototype instanceof Vt&&(function($,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function j(){this.constructor=$}r($,G),$.prototype=G===null?Object.create(G):(j.prototype=G.prototype,new j)}(C,_=p),Object.defineProperty(C.prototype,"db",{get:function(){return x},enumerable:!1,configurable:!0}),C.prototype.table=function(){return T},p=C);for(var I=new Set,L=p.prototype;L;L=l(L))Object.getOwnPropertyNames(L).forEach(function($){return I.add($)});function N($){if(!$)return $;var G,j=Object.create(p.prototype);for(G in $)if(!I.has(G))try{j[G]=$[G]}catch{}return j}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=N,this.hook("reading",N),p},pt.prototype.defineClass=function(){return this.mapToClass(function(p){u(this,p)})},pt.prototype.add=function(p,_){var x=this,T=this.schema.primKey,C=T.auto,I=T.keyPath,L=p;return I&&C&&(L=at(I)(p)),this._trans("readwrite",function(N){return x.core.mutate({trans:N,type:"add",keys:_!=null?[_]:null,values:[L]})}).then(function(N){return N.numFailures?Ae.reject(N.failures[0]):N.lastResult}).then(function(N){if(I)try{A(p,I,N)}catch{}return N})},pt.prototype.update=function(p,_){return typeof p!="object"||s(p)?this.where(":id").equals(p).modify(_):(p=M(p,this.schema.primKey.keyPath),p===void 0?sr(new ve.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(p).modify(_))},pt.prototype.put=function(p,_){var x=this,T=this.schema.primKey,C=T.auto,I=T.keyPath,L=p;return I&&C&&(L=at(I)(p)),this._trans("readwrite",function(N){return x.core.mutate({trans:N,type:"put",values:[L],keys:_!=null?[_]:null})}).then(function(N){return N.numFailures?Ae.reject(N.failures[0]):N.lastResult}).then(function(N){if(I)try{A(p,I,N)}catch{}return N})},pt.prototype.delete=function(p){var _=this;return this._trans("readwrite",function(x){return _.core.mutate({trans:x,type:"delete",keys:[p]})}).then(function(x){return x.numFailures?Ae.reject(x.failures[0]):void 0})},pt.prototype.clear=function(){var p=this;return this._trans("readwrite",function(_){return p.core.mutate({trans:_,type:"deleteRange",range:$f})}).then(function(_){return _.numFailures?Ae.reject(_.failures[0]):void 0})},pt.prototype.bulkGet=function(p){var _=this;return this._trans("readonly",function(x){return _.core.getMany({keys:p,trans:x}).then(function(T){return T.map(function(C){return _.hook.reading.fire(C)})})})},pt.prototype.bulkAdd=function(p,_,x){var T=this,C=Array.isArray(_)?_:void 0,I=(x=x||(C?void 0:_))?x.allKeys:void 0;return this._trans("readwrite",function(L){var G=T.schema.primKey,N=G.auto,G=G.keyPath;if(G&&C)throw new ve.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(C&&C.length!==p.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var $=p.length,G=G&&N?p.map(at(G)):p;return T.core.mutate({trans:L,type:"add",keys:C,values:G,wantResults:I}).then(function(Y){var B=Y.numFailures,J=Y.results,V=Y.lastResult,Y=Y.failures;if(B===0)return I?J:V;throw new Ye("".concat(T.name,".bulkAdd(): ").concat(B," of ").concat($," operations failed"),Y)})})},pt.prototype.bulkPut=function(p,_,x){var T=this,C=Array.isArray(_)?_:void 0,I=(x=x||(C?void 0:_))?x.allKeys:void 0;return this._trans("readwrite",function(L){var G=T.schema.primKey,N=G.auto,G=G.keyPath;if(G&&C)throw new ve.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(C&&C.length!==p.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var $=p.length,G=G&&N?p.map(at(G)):p;return T.core.mutate({trans:L,type:"put",keys:C,values:G,wantResults:I}).then(function(Y){var B=Y.numFailures,J=Y.results,V=Y.lastResult,Y=Y.failures;if(B===0)return I?J:V;throw new Ye("".concat(T.name,".bulkPut(): ").concat(B," of ").concat($," operations failed"),Y)})})},pt.prototype.bulkUpdate=function(p){var _=this,x=this.core,T=p.map(function(L){return L.key}),C=p.map(function(L){return L.changes}),I=[];return this._trans("readwrite",function(L){return x.getMany({trans:L,keys:T,cache:"clone"}).then(function(N){var $=[],G=[];p.forEach(function(B,J){var V=B.key,Y=B.changes,Z=N[J];if(Z){for(var U=0,re=Object.keys(Y);U<re.length;U++){var ie=re[U],ae=Y[ie];if(ie===_.schema.primKey.keyPath){if(qe(ae,V)!==0)throw new ve.Constraint("Cannot update primary key in bulkUpdate()")}else A(Z,ie,ae)}I.push(J),$.push(V),G.push(Z)}});var j=$.length;return x.mutate({trans:L,type:"put",keys:$,values:G,updates:{keys:T,changeSpecs:C}}).then(function(B){var J=B.numFailures,V=B.failures;if(J===0)return j;for(var Y=0,Z=Object.keys(V);Y<Z.length;Y++){var U,re=Z[Y],ie=I[Number(re)];ie!=null&&(U=V[re],delete V[re],V[ie]=U)}throw new Ye("".concat(_.name,".bulkUpdate(): ").concat(J," of ").concat(j," operations failed"),V)})})})},pt.prototype.bulkDelete=function(p){var _=this,x=p.length;return this._trans("readwrite",function(T){return _.core.mutate({trans:T,type:"delete",keys:p})}).then(function(L){var C=L.numFailures,I=L.lastResult,L=L.failures;if(C===0)return I;throw new Ye("".concat(_.name,".bulkDelete(): ").concat(C," of ").concat(x," operations failed"),L)})},pt);function pt(){}function Fr(p){function _(L,N){if(N){for(var $=arguments.length,G=new Array($-1);--$;)G[$-1]=arguments[$];return x[L].subscribe.apply(null,G),p}if(typeof L=="string")return x[L]}var x={};_.addEventType=I;for(var T=1,C=arguments.length;T<C;++T)I(arguments[T]);return _;function I(L,N,$){if(typeof L!="object"){var G;N=N||le;var j={subscribers:[],fire:$=$||be,subscribe:function(B){j.subscribers.indexOf(B)===-1&&(j.subscribers.push(B),j.fire=N(j.fire,B))},unsubscribe:function(B){j.subscribers=j.subscribers.filter(function(J){return J!==B}),j.fire=j.subscribers.reduce(N,$)}};return x[L]=_[L]=j}o(G=L).forEach(function(B){var J=G[B];if(s(J))I(B,G[B][0],G[B][1]);else{if(J!=="asap")throw new ve.InvalidArgument("Invalid event config");var V=I(B,xe,function(){for(var Y=arguments.length,Z=new Array(Y);Y--;)Z[Y]=arguments[Y];V.subscribers.forEach(function(U){D(function(){U.apply(null,Z)})})})}})}}function zr(p,_){return g(_).from({prototype:p}),_}function Hr(p,_){return!(p.filter||p.algorithm||p.or)&&(_?p.justLimit:!p.replayFilter)}function Ft(p,_){p.filter=Wi(p.filter,_)}function In(p,_,x){var T=p.replayFilter;p.replayFilter=T?function(){return Wi(T(),_())}:_,p.justLimit=x&&!T}function tn(p,_){if(p.isPrimKey)return _.primaryKey;var x=_.getIndexByKeyPath(p.index);if(!x)throw new ve.Schema("KeyPath "+p.index+" on object store "+_.name+" is not indexed");return x}function Ui(p,_,x){var T=tn(p,_.schema);return _.openCursor({trans:x,values:!p.keysOnly,reverse:p.dir==="prev",unique:!!p.unique,query:{index:T,range:p.range}})}function qi(p,_,x,T){var C=p.replayFilter?Wi(p.filter,p.replayFilter()):p.filter;if(p.or){var I={},L=function(N,$,G){var j,B;C&&!C($,G,function(J){return $.stop(J)},function(J){return $.fail(J)})||((B=""+(j=$.primaryKey))=="[object ArrayBuffer]"&&(B=""+new Uint8Array(j)),f(I,B)||(I[B]=!0,_(N,$,G)))};return Promise.all([p.or._iterate(L,x),Z2(Ui(p,T,x),p.algorithm,L,!p.keysOnly&&p.valueMapper)])}return Z2(Ui(p,T,x),Wi(p.algorithm,C),_,!p.keysOnly&&p.valueMapper)}function Z2(p,_,x,T){var C=Qt(T?function(I,L,N){return x(T(I),L,N)}:x);return p.then(function(I){if(I)return I.start(function(){var L=function(){return I.continue()};_&&!_(I,function(N){return L=N},function(N){I.stop(N),L=be},function(N){I.fail(N),L=be})||C(I.value,I,function(N){return L=N}),L()})})}var Dl=(X2.prototype.execute=function(p){var _=this["@@propmod"];if(_.add!==void 0){var x=_.add;if(s(x))return i(i([],s(p)?p:[],!0),x).sort();if(typeof x=="number")return(Number(p)||0)+x;if(typeof x=="bigint")try{return BigInt(p)+x}catch{return BigInt(0)+x}throw new TypeError("Invalid term ".concat(x))}if(_.remove!==void 0){var T=_.remove;if(s(T))return s(p)?p.filter(function(C){return!T.includes(C)}).sort():[];if(typeof T=="number")return Number(p)-T;if(typeof T=="bigint")try{return BigInt(p)-T}catch{return BigInt(0)-T}throw new TypeError("Invalid subtrahend ".concat(T))}return x=(x=_.replacePrefix)===null||x===void 0?void 0:x[0],x&&typeof p=="string"&&p.startsWith(x)?_.replacePrefix[1]+p.substring(x.length):p},X2);function X2(p){this["@@propmod"]=p}var B9=(zt.prototype._read=function(p,_){var x=this._ctx;return x.error?x.table._trans(null,sr.bind(null,x.error)):x.table._trans("readonly",p).then(_)},zt.prototype._write=function(p){var _=this._ctx;return _.error?_.table._trans(null,sr.bind(null,_.error)):_.table._trans("readwrite",p,"locked")},zt.prototype._addAlgorithm=function(p){var _=this._ctx;_.algorithm=Wi(_.algorithm,p)},zt.prototype._iterate=function(p,_){return qi(this._ctx,p,_,this._ctx.table.core)},zt.prototype.clone=function(p){var _=Object.create(this.constructor.prototype),x=Object.create(this._ctx);return p&&u(x,p),_._ctx=x,_},zt.prototype.raw=function(){return this._ctx.valueMapper=null,this},zt.prototype.each=function(p){var _=this._ctx;return this._read(function(x){return qi(_,p,x,_.table.core)})},zt.prototype.count=function(p){var _=this;return this._read(function(x){var T=_._ctx,C=T.table.core;if(Hr(T,!0))return C.count({trans:x,query:{index:tn(T,C.schema),range:T.range}}).then(function(L){return Math.min(L,T.limit)});var I=0;return qi(T,function(){return++I,!1},x,C).then(function(){return I})}).then(p)},zt.prototype.sortBy=function(p,_){var x=p.split(".").reverse(),T=x[0],C=x.length-1;function I($,G){return G?I($[x[G]],G-1):$[T]}var L=this._ctx.dir==="next"?1:-1;function N($,G){return qe(I($,C),I(G,C))*L}return this.toArray(function($){return $.sort(N)}).then(_)},zt.prototype.toArray=function(p){var _=this;return this._read(function(x){var T=_._ctx;if(T.dir==="next"&&Hr(T,!0)&&0<T.limit){var C=T.valueMapper,I=tn(T,T.table.core.schema);return T.table.core.query({trans:x,limit:T.limit,values:!0,query:{index:I,range:T.range}}).then(function(N){return N=N.result,C?N.map(C):N})}var L=[];return qi(T,function(N){return L.push(N)},x,T.table.core).then(function(){return L})},p)},zt.prototype.offset=function(p){var _=this._ctx;return p<=0||(_.offset+=p,Hr(_)?In(_,function(){var x=p;return function(T,C){return x===0||(x===1?--x:C(function(){T.advance(x),x=0}),!1)}}):In(_,function(){var x=p;return function(){return--x<0}})),this},zt.prototype.limit=function(p){return this._ctx.limit=Math.min(this._ctx.limit,p),In(this._ctx,function(){var _=p;return function(x,T,C){return--_<=0&&T(C),0<=_}},!0),this},zt.prototype.until=function(p,_){return Ft(this._ctx,function(x,T,C){return!p(x.value)||(T(C),_)}),this},zt.prototype.first=function(p){return this.limit(1).toArray(function(_){return _[0]}).then(p)},zt.prototype.last=function(p){return this.reverse().first(p)},zt.prototype.filter=function(p){var _;return Ft(this._ctx,function(x){return p(x.value)}),(_=this._ctx).isMatch=Wi(_.isMatch,p),this},zt.prototype.and=function(p){return this.filter(p)},zt.prototype.or=function(p){return new this.db.WhereClause(this._ctx.table,p,this)},zt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},zt.prototype.desc=function(){return this.reverse()},zt.prototype.eachKey=function(p){var _=this._ctx;return _.keysOnly=!_.isMatch,this.each(function(x,T){p(T.key,T)})},zt.prototype.eachUniqueKey=function(p){return this._ctx.unique="unique",this.eachKey(p)},zt.prototype.eachPrimaryKey=function(p){var _=this._ctx;return _.keysOnly=!_.isMatch,this.each(function(x,T){p(T.primaryKey,T)})},zt.prototype.keys=function(p){var _=this._ctx;_.keysOnly=!_.isMatch;var x=[];return this.each(function(T,C){x.push(C.key)}).then(function(){return x}).then(p)},zt.prototype.primaryKeys=function(p){var _=this._ctx;if(_.dir==="next"&&Hr(_,!0)&&0<_.limit)return this._read(function(T){var C=tn(_,_.table.core.schema);return _.table.core.query({trans:T,values:!1,limit:_.limit,query:{index:C,range:_.range}})}).then(function(T){return T.result}).then(p);_.keysOnly=!_.isMatch;var x=[];return this.each(function(T,C){x.push(C.primaryKey)}).then(function(){return x}).then(p)},zt.prototype.uniqueKeys=function(p){return this._ctx.unique="unique",this.keys(p)},zt.prototype.firstKey=function(p){return this.limit(1).keys(function(_){return _[0]}).then(p)},zt.prototype.lastKey=function(p){return this.reverse().firstKey(p)},zt.prototype.distinct=function(){var p=this._ctx,p=p.index&&p.table.schema.idxByName[p.index];if(!p||!p.multi)return this;var _={};return Ft(this._ctx,function(C){var T=C.primaryKey.toString(),C=f(_,T);return _[T]=!0,!C}),this},zt.prototype.modify=function(p){var _=this,x=this._ctx;return this._write(function(T){var C,I,L;L=typeof p=="function"?p:(C=o(p),I=C.length,function(U){for(var re=!1,ie=0;ie<I;++ie){var ae=C[ie],ce=p[ae],ge=M(U,ae);ce instanceof Dl?(A(U,ae,ce.execute(ge)),re=!0):ge!==ce&&(A(U,ae,ce),re=!0)}return re});var N=x.table.core,B=N.schema.primaryKey,$=B.outbound,G=B.extractKey,j=200,B=_.db._options.modifyChunkSize;B&&(j=typeof B=="object"?B[N.name]||B["*"]||200:B);function J(U,ae){var ie=ae.failures,ae=ae.numFailures;Y+=U-ae;for(var ce=0,ge=o(ie);ce<ge.length;ce++){var Ce=ge[ce];V.push(ie[Ce])}}var V=[],Y=0,Z=[];return _.clone().primaryKeys().then(function(U){function re(ae){var ce=Math.min(j,U.length-ae);return N.getMany({trans:T,keys:U.slice(ae,ae+ce),cache:"immutable"}).then(function(ge){for(var Ce=[],me=[],we=$?[]:null,ke=[],De=0;De<ce;++De){var He=ge[De],yt={value:z(He),primKey:U[ae+De]};L.call(yt,yt.value,yt)!==!1&&(yt.value==null?ke.push(U[ae+De]):$||qe(G(He),G(yt.value))===0?(me.push(yt.value),$&&we.push(U[ae+De])):(ke.push(U[ae+De]),Ce.push(yt.value)))}return Promise.resolve(0<Ce.length&&N.mutate({trans:T,type:"add",values:Ce}).then(function(Tt){for(var Mt in Tt.failures)ke.splice(parseInt(Mt),1);J(Ce.length,Tt)})).then(function(){return(0<me.length||ie&&typeof p=="object")&&N.mutate({trans:T,type:"put",keys:we,values:me,criteria:ie,changeSpec:typeof p!="function"&&p,isAdditionalChunk:0<ae}).then(function(Tt){return J(me.length,Tt)})}).then(function(){return(0<ke.length||ie&&p===Ap)&&N.mutate({trans:T,type:"delete",keys:ke,criteria:ie,isAdditionalChunk:0<ae}).then(function(Tt){return J(ke.length,Tt)})}).then(function(){return U.length>ae+ce&&re(ae+j)})})}var ie=Hr(x)&&x.limit===1/0&&(typeof p!="function"||p===Ap)&&{index:x.index,range:x.range};return re(0).then(function(){if(0<V.length)throw new Be("Error modifying one or more objects",V,Y,Z);return U.length})})})},zt.prototype.delete=function(){var p=this._ctx,_=p.range;return Hr(p)&&(p.isPrimKey||_.type===3)?this._write(function(x){var T=p.table.core.schema.primaryKey,C=_;return p.table.core.count({trans:x,query:{index:T,range:C}}).then(function(I){return p.table.core.mutate({trans:x,type:"deleteRange",range:C}).then(function(L){var N=L.failures;if(L.lastResult,L.results,L=L.numFailures,L)throw new Be("Could not delete some values",Object.keys(N).map(function($){return N[$]}),I-L);return I-L})})}):this.modify(Ap)},zt);function zt(){}var Ap=function(p,_){return _.value=null};function $9(p,_){return p<_?-1:p===_?0:1}function V9(p,_){return _<p?-1:p===_?0:1}function Wn(p,_,x){return p=p instanceof Q2?new p.Collection(p):p,p._ctx.error=new(x||TypeError)(_),p}function Js(p){return new p.Collection(p,function(){return J2("")}).limit(0)}function Vf(p,_,x,T){var C,I,L,N,$,G,j,B=x.length;if(!x.every(function(Y){return typeof Y=="string"}))return Wn(p,Ks);function J(Y){C=Y==="next"?function(U){return U.toUpperCase()}:function(U){return U.toLowerCase()},I=Y==="next"?function(U){return U.toLowerCase()}:function(U){return U.toUpperCase()},L=Y==="next"?$9:V9;var Z=x.map(function(U){return{lower:I(U),upper:C(U)}}).sort(function(U,re){return L(U.lower,re.lower)});N=Z.map(function(U){return U.upper}),$=Z.map(function(U){return U.lower}),j=(G=Y)==="next"?"":T}J("next"),p=new p.Collection(p,function(){return to(N[0],$[B-1]+T)}),p._ondirectionchange=function(Y){J(Y)};var V=0;return p._addAlgorithm(function(Y,Z,U){var re=Y.key;if(typeof re!="string")return!1;var ie=I(re);if(_(ie,$,V))return!0;for(var ae=null,ce=V;ce<B;++ce){var ge=function(Ce,me,we,ke,De,He){for(var yt=Math.min(Ce.length,ke.length),Tt=-1,Mt=0;Mt<yt;++Mt){var Un=me[Mt];if(Un!==ke[Mt])return De(Ce[Mt],we[Mt])<0?Ce.substr(0,Mt)+we[Mt]+we.substr(Mt+1):De(Ce[Mt],ke[Mt])<0?Ce.substr(0,Mt)+ke[Mt]+we.substr(Mt+1):0<=Tt?Ce.substr(0,Tt)+me[Tt]+we.substr(Tt+1):null;De(Ce[Mt],Un)<0&&(Tt=Mt)}return yt<ke.length&&He==="next"?Ce+we.substr(Ce.length):yt<Ce.length&&He==="prev"?Ce.substr(0,we.length):Tt<0?null:Ce.substr(0,Tt)+ke[Tt]+we.substr(Tt+1)}(re,ie,N[ce],$[ce],L,G);ge===null&&ae===null?V=ce+1:(ae===null||0<L(ae,ge))&&(ae=ge)}return Z(ae!==null?function(){Y.continue(ae+j)}:U),!1}),p}function to(p,_,x,T){return{type:2,lower:p,upper:_,lowerOpen:x,upperOpen:T}}function J2(p){return{type:1,lower:p,upper:p}}var Q2=(Object.defineProperty(Gr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Gr.prototype.between=function(p,_,x,T){x=x!==!1,T=T===!0;try{return 0<this._cmp(p,_)||this._cmp(p,_)===0&&(x||T)&&(!x||!T)?Js(this):new this.Collection(this,function(){return to(p,_,!x,!T)})}catch{return Wn(this,Mi)}},Gr.prototype.equals=function(p){return p==null?Wn(this,Mi):new this.Collection(this,function(){return J2(p)})},Gr.prototype.above=function(p){return p==null?Wn(this,Mi):new this.Collection(this,function(){return to(p,void 0,!0)})},Gr.prototype.aboveOrEqual=function(p){return p==null?Wn(this,Mi):new this.Collection(this,function(){return to(p,void 0,!1)})},Gr.prototype.below=function(p){return p==null?Wn(this,Mi):new this.Collection(this,function(){return to(void 0,p,!1,!0)})},Gr.prototype.belowOrEqual=function(p){return p==null?Wn(this,Mi):new this.Collection(this,function(){return to(void 0,p)})},Gr.prototype.startsWith=function(p){return typeof p!="string"?Wn(this,Ks):this.between(p,p+Ti,!0,!0)},Gr.prototype.startsWithIgnoreCase=function(p){return p===""?this.startsWith(p):Vf(this,function(_,x){return _.indexOf(x[0])===0},[p],Ti)},Gr.prototype.equalsIgnoreCase=function(p){return Vf(this,function(_,x){return _===x[0]},[p],"")},Gr.prototype.anyOfIgnoreCase=function(){var p=oe.apply(te,arguments);return p.length===0?Js(this):Vf(this,function(_,x){return x.indexOf(_)!==-1},p,"")},Gr.prototype.startsWithAnyOfIgnoreCase=function(){var p=oe.apply(te,arguments);return p.length===0?Js(this):Vf(this,function(_,x){return x.some(function(T){return _.indexOf(T)===0})},p,Ti)},Gr.prototype.anyOf=function(){var p=this,_=oe.apply(te,arguments),x=this._cmp;try{_.sort(x)}catch{return Wn(this,Mi)}if(_.length===0)return Js(this);var T=new this.Collection(this,function(){return to(_[0],_[_.length-1])});T._ondirectionchange=function(I){x=I==="next"?p._ascending:p._descending,_.sort(x)};var C=0;return T._addAlgorithm(function(I,L,N){for(var $=I.key;0<x($,_[C]);)if(++C===_.length)return L(N),!1;return x($,_[C])===0||(L(function(){I.continue(_[C])}),!1)}),T},Gr.prototype.notEqual=function(p){return this.inAnyRange([[-1/0,p],[p,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Gr.prototype.noneOf=function(){var p=oe.apply(te,arguments);if(p.length===0)return new this.Collection(this);try{p.sort(this._ascending)}catch{return Wn(this,Mi)}var _=p.reduce(function(x,T){return x?x.concat([[x[x.length-1][1],T]]):[[-1/0,T]]},null);return _.push([p[p.length-1],this.db._maxKey]),this.inAnyRange(_,{includeLowers:!1,includeUppers:!1})},Gr.prototype.inAnyRange=function(re,_){var x=this,T=this._cmp,C=this._ascending,I=this._descending,L=this._min,N=this._max;if(re.length===0)return Js(this);if(!re.every(function(ie){return ie[0]!==void 0&&ie[1]!==void 0&&C(ie[0],ie[1])<=0}))return Wn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ve.InvalidArgument);var $=!_||_.includeLowers!==!1,G=_&&_.includeUppers===!0,j,B=C;function J(ie,ae){return B(ie[0],ae[0])}try{(j=re.reduce(function(ie,ae){for(var ce=0,ge=ie.length;ce<ge;++ce){var Ce=ie[ce];if(T(ae[0],Ce[1])<0&&0<T(ae[1],Ce[0])){Ce[0]=L(Ce[0],ae[0]),Ce[1]=N(Ce[1],ae[1]);break}}return ce===ge&&ie.push(ae),ie},[])).sort(J)}catch{return Wn(this,Mi)}var V=0,Y=G?function(ie){return 0<C(ie,j[V][1])}:function(ie){return 0<=C(ie,j[V][1])},Z=$?function(ie){return 0<I(ie,j[V][0])}:function(ie){return 0<=I(ie,j[V][0])},U=Y,re=new this.Collection(this,function(){return to(j[0][0],j[j.length-1][1],!$,!G)});return re._ondirectionchange=function(ie){B=ie==="next"?(U=Y,C):(U=Z,I),j.sort(J)},re._addAlgorithm(function(ie,ae,ce){for(var ge,Ce=ie.key;U(Ce);)if(++V===j.length)return ae(ce),!1;return!Y(ge=Ce)&&!Z(ge)||(x._cmp(Ce,j[V][1])===0||x._cmp(Ce,j[V][0])===0||ae(function(){B===C?ie.continue(j[V][0]):ie.continue(j[V][1])}),!1)}),re},Gr.prototype.startsWithAnyOf=function(){var p=oe.apply(te,arguments);return p.every(function(_){return typeof _=="string"})?p.length===0?Js(this):this.inAnyRange(p.map(function(_){return[_,_+Ti]})):Wn(this,"startsWithAnyOf() only works with strings")},Gr);function Gr(){}function Yi(p){return Qt(function(_){return Cl(_),p(_.target.error),!1})}function Cl(p){p.stopPropagation&&p.stopPropagation(),p.preventDefault&&p.preventDefault()}var Al="storagemutated",Ip="x-storagemutated-1",ro=Fr(null,Al),H9=(ji.prototype._lock=function(){return S(!Ue.global),++this._reculock,this._reculock!==1||Ue.global||(Ue.lockOwnerFor=this),this},ji.prototype._unlock=function(){if(S(!Ue.global),--this._reculock==0)for(Ue.global||(Ue.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var p=this._blockedFuncs.shift();try{Ea(p[1],p[0])}catch{}}return this},ji.prototype._locked=function(){return this._reculock&&Ue.lockOwnerFor!==this},ji.prototype.create=function(p){var _=this;if(!this.mode)return this;var x=this.db.idbdb,T=this.db._state.dbOpenError;if(S(!this.idbtrans),!p&&!x)switch(T&&T.name){case"DatabaseClosedError":throw new ve.DatabaseClosed(T);case"MissingAPIError":throw new ve.MissingAPI(T.message,T);default:throw new ve.OpenFailed(T)}if(!this.active)throw new ve.TransactionInactive;return S(this._completion._state===null),(p=this.idbtrans=p||(this.db.core||x).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Qt(function(C){Cl(C),_._reject(p.error)}),p.onabort=Qt(function(C){Cl(C),_.active&&_._reject(new ve.Abort(p.error)),_.active=!1,_.on("abort").fire(C)}),p.oncomplete=Qt(function(){_.active=!1,_._resolve(),"mutatedParts"in p&&ro.storagemutated.fire(p.mutatedParts)}),this},ji.prototype._promise=function(p,_,x){var T=this;if(p==="readwrite"&&this.mode!=="readwrite")return sr(new ve.ReadOnly("Transaction is readonly"));if(!this.active)return sr(new ve.TransactionInactive);if(this._locked())return new Ae(function(I,L){T._blockedFuncs.push([function(){T._promise(p,_,x).then(I,L)},Ue])});if(x)return ti(function(){var I=new Ae(function(L,N){T._lock();var $=_(L,N,T);$&&$.then&&$.then(L,N)});return I.finally(function(){return T._unlock()}),I._lib=!0,I});var C=new Ae(function(I,L){var N=_(I,L,T);N&&N.then&&N.then(I,L)});return C._lib=!0,C},ji.prototype._root=function(){return this.parent?this.parent._root():this},ji.prototype.waitFor=function(p){var _,x=this._root(),T=Ae.resolve(p);x._waitingFor?x._waitingFor=x._waitingFor.then(function(){return T}):(x._waitingFor=T,x._waitingQueue=[],_=x.idbtrans.objectStore(x.storeNames[0]),function I(){for(++x._spinCount;x._waitingQueue.length;)x._waitingQueue.shift()();x._waitingFor&&(_.get(-1/0).onsuccess=I)}());var C=x._waitingFor;return new Ae(function(I,L){T.then(function(N){return x._waitingQueue.push(Qt(I.bind(null,N)))},function(N){return x._waitingQueue.push(Qt(L.bind(null,N)))}).finally(function(){x._waitingFor===C&&(x._waitingFor=null)})})},ji.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ve.Abort))},ji.prototype.table=function(p){var _=this._memoizedTables||(this._memoizedTables={});if(f(_,p))return _[p];var x=this.schema[p];if(!x)throw new ve.NotFound("Table "+p+" not part of transaction");return x=new this.db.Table(p,x,this),x.core=this.db.core.table(p),_[p]=x},ji);function ji(){}function Ep(p,_,x,T,C,I,L){return{name:p,keyPath:_,unique:x,multi:T,auto:C,compound:I,src:(x&&!L?"&":"")+(T?"*":"")+(C?"++":"")+e_(_)}}function e_(p){return typeof p=="string"?p:p?"["+[].join.call(p,"+")+"]":""}function kp(p,_,x){return{name:p,primKey:_,indexes:x,mappedClass:null,idxByName:(T=function(C){return[C.name,C]},x.reduce(function(C,I,L){return L=T(I,L),L&&(C[L[0]]=L[1]),C},{}))};var T}var Il=function(p){try{return p.only([[]]),Il=function(){return[[]]},[[]]}catch{return Il=function(){return Ti},Ti}};function Op(p){return p==null?function(){}:typeof p=="string"?(_=p).split(".").length===1?function(x){return x[_]}:function(x){return M(x,_)}:function(x){return M(x,p)};var _}function t_(p){return[].slice.call(p)}var G9=0;function El(p){return p==null?":id":typeof p=="string"?p:"[".concat(p.join("+"),"]")}function W9(p,_,$){function T(U){if(U.type===3)return null;if(U.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var V=U.lower,Y=U.upper,Z=U.lowerOpen,U=U.upperOpen;return V===void 0?Y===void 0?null:_.upperBound(Y,!!U):Y===void 0?_.lowerBound(V,!!Z):_.bound(V,Y,!!Z,!!U)}function C(J){var V,Y=J.name;return{name:Y,schema:J,mutate:function(Z){var U=Z.trans,re=Z.type,ie=Z.keys,ae=Z.values,ce=Z.range;return new Promise(function(ge,Ce){ge=Qt(ge);var me=U.objectStore(Y),we=me.keyPath==null,ke=re==="put"||re==="add";if(!ke&&re!=="delete"&&re!=="deleteRange")throw new Error("Invalid operation type: "+re);var De,He=(ie||ae||{length:1}).length;if(ie&&ae&&ie.length!==ae.length)throw new Error("Given keys array must have same length as given values array.");if(He===0)return ge({numFailures:0,failures:{},results:[],lastResult:void 0});function yt(yn){++Un,Cl(yn)}var Tt=[],Mt=[],Un=0;if(re==="deleteRange"){if(ce.type===4)return ge({numFailures:Un,failures:Mt,results:[],lastResult:void 0});ce.type===3?Tt.push(De=me.clear()):Tt.push(De=me.delete(T(ce)))}else{var we=ke?we?[ae,ie]:[ae,null]:[ie,null],gt=we[0],nn=we[1];if(ke)for(var an=0;an<He;++an)Tt.push(De=nn&&nn[an]!==void 0?me[re](gt[an],nn[an]):me[re](gt[an])),De.onerror=yt;else for(an=0;an<He;++an)Tt.push(De=me[re](gt[an])),De.onerror=yt}function eh(yn){yn=yn.target.result,Tt.forEach(function(Uo,Zp){return Uo.error!=null&&(Mt[Zp]=Uo.error)}),ge({numFailures:Un,failures:Mt,results:re==="delete"?ie:Tt.map(function(Uo){return Uo.result}),lastResult:yn})}De.onerror=function(yn){yt(yn),eh(yn)},De.onsuccess=eh})},getMany:function(Z){var U=Z.trans,re=Z.keys;return new Promise(function(ie,ae){ie=Qt(ie);for(var ce,ge=U.objectStore(Y),Ce=re.length,me=new Array(Ce),we=0,ke=0,De=function(Tt){Tt=Tt.target,me[Tt._pos]=Tt.result,++ke===we&&ie(me)},He=Yi(ae),yt=0;yt<Ce;++yt)re[yt]!=null&&((ce=ge.get(re[yt]))._pos=yt,ce.onsuccess=De,ce.onerror=He,++we);we===0&&ie(me)})},get:function(Z){var U=Z.trans,re=Z.key;return new Promise(function(ie,ae){ie=Qt(ie);var ce=U.objectStore(Y).get(re);ce.onsuccess=function(ge){return ie(ge.target.result)},ce.onerror=Yi(ae)})},query:(V=G,function(Z){return new Promise(function(U,re){U=Qt(U);var ie,ae,ce,we=Z.trans,ge=Z.values,Ce=Z.limit,De=Z.query,me=Ce===1/0?void 0:Ce,ke=De.index,De=De.range,we=we.objectStore(Y),ke=ke.isPrimaryKey?we:we.index(ke.name),De=T(De);if(Ce===0)return U({result:[]});V?((me=ge?ke.getAll(De,me):ke.getAllKeys(De,me)).onsuccess=function(He){return U({result:He.target.result})},me.onerror=Yi(re)):(ie=0,ae=!ge&&"openKeyCursor"in ke?ke.openKeyCursor(De):ke.openCursor(De),ce=[],ae.onsuccess=function(He){var yt=ae.result;return yt?(ce.push(ge?yt.value:yt.primaryKey),++ie===Ce?U({result:ce}):void yt.continue()):U({result:ce})},ae.onerror=Yi(re))})}),openCursor:function(Z){var U=Z.trans,re=Z.values,ie=Z.query,ae=Z.reverse,ce=Z.unique;return new Promise(function(ge,Ce){ge=Qt(ge);var ke=ie.index,me=ie.range,we=U.objectStore(Y),we=ke.isPrimaryKey?we:we.index(ke.name),ke=ae?ce?"prevunique":"prev":ce?"nextunique":"next",De=!re&&"openKeyCursor"in we?we.openKeyCursor(T(me),ke):we.openCursor(T(me),ke);De.onerror=Yi(Ce),De.onsuccess=Qt(function(He){var yt,Tt,Mt,Un,gt=De.result;gt?(gt.___id=++G9,gt.done=!1,yt=gt.continue.bind(gt),Tt=(Tt=gt.continuePrimaryKey)&&Tt.bind(gt),Mt=gt.advance.bind(gt),Un=function(){throw new Error("Cursor not stopped")},gt.trans=U,gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=function(){throw new Error("Cursor not started")},gt.fail=Qt(Ce),gt.next=function(){var nn=this,an=1;return this.start(function(){return an--?nn.continue():nn.stop()}).then(function(){return nn})},gt.start=function(nn){function an(){if(De.result)try{nn()}catch(yn){gt.fail(yn)}else gt.done=!0,gt.start=function(){throw new Error("Cursor behind last entry")},gt.stop()}var eh=new Promise(function(yn,Uo){yn=Qt(yn),De.onerror=Yi(Uo),gt.fail=Uo,gt.stop=function(Zp){gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=Un,yn(Zp)}});return De.onsuccess=Qt(function(yn){De.onsuccess=an,an()}),gt.continue=yt,gt.continuePrimaryKey=Tt,gt.advance=Mt,an(),eh},ge(gt)):ge(null)},Ce)})},count:function(Z){var U=Z.query,re=Z.trans,ie=U.index,ae=U.range;return new Promise(function(ce,ge){var Ce=re.objectStore(Y),me=ie.isPrimaryKey?Ce:Ce.index(ie.name),Ce=T(ae),me=Ce?me.count(Ce):me.count();me.onsuccess=Qt(function(we){return ce(we.target.result)}),me.onerror=Yi(ge)})}}}var I,L,N,j=(L=$,N=t_((I=p).objectStoreNames),{schema:{name:I.name,tables:N.map(function(J){return L.objectStore(J)}).map(function(J){var V=J.keyPath,U=J.autoIncrement,Y=s(V),Z={},U={name:J.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:V==null,compound:Y,keyPath:V,autoIncrement:U,unique:!0,extractKey:Op(V)},indexes:t_(J.indexNames).map(function(re){return J.index(re)}).map(function(ce){var ie=ce.name,ae=ce.unique,ge=ce.multiEntry,ce=ce.keyPath,ge={name:ie,compound:s(ce),keyPath:ce,unique:ae,multiEntry:ge,extractKey:Op(ce)};return Z[El(ce)]=ge}),getIndexByKeyPath:function(re){return Z[El(re)]}};return Z[":id"]=U.primaryKey,V!=null&&(Z[El(V)]=U.primaryKey),U})},hasGetAll:0<N.length&&"getAll"in L.objectStore(N[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),$=j.schema,G=j.hasGetAll,j=$.tables.map(C),B={};return j.forEach(function(J){return B[J.name]=J}),{stack:"dbcore",transaction:p.transaction.bind(p),table:function(J){if(!B[J])throw new Error("Table '".concat(J,"' not found"));return B[J]},MIN_KEY:-1/0,MAX_KEY:Il(_),schema:$}}function U9(p,_,x,T){var C=x.IDBKeyRange;return x.indexedDB,{dbcore:(T=W9(_,C,T),p.dbcore.reduce(function(I,L){return L=L.create,n(n({},I),L(I))},T))}}function Hf(p,T){var x=T.db,T=U9(p._middlewares,x,p._deps,T);p.core=T.dbcore,p.tables.forEach(function(C){var I=C.name;p.core.schema.tables.some(function(L){return L.name===I})&&(C.core=p.core.table(I),p[I]instanceof p.Table&&(p[I].core=C.core))})}function Gf(p,_,x,T){x.forEach(function(C){var I=T[C];_.forEach(function(L){var N=function $(G,j){return m(G,j)||(G=l(G))&&$(G,j)}(L,C);(!N||"value"in N&&N.value===void 0)&&(L===p.Transaction.prototype||L instanceof p.Transaction?v(L,C,{get:function(){return this.table(C)},set:function($){d(this,C,{value:$,writable:!0,configurable:!0,enumerable:!0})}}):L[C]=new p.Table(C,I))})})}function Pp(p,_){_.forEach(function(x){for(var T in x)x[T]instanceof p.Table&&delete x[T]})}function q9(p,_){return p._cfg.version-_._cfg.version}function Y9(p,_,x,T){var C=p._dbSchema;x.objectStoreNames.contains("$meta")&&!C.$meta&&(C.$meta=kp("$meta",n_("")[0],[]),p._storeNames.push("$meta"));var I=p._createTransaction("readwrite",p._storeNames,C);I.create(x),I._completion.catch(T);var L=I._reject.bind(I),N=Ue.transless||Ue;ti(function(){return Ue.trans=I,Ue.transless=N,_!==0?(Hf(p,x),G=_,(($=I).storeNames.includes("$meta")?$.table("$meta").get("version").then(function(j){return j??G}):Ae.resolve(G)).then(function(j){return J=j,V=I,Y=x,Z=[],j=(B=p)._versions,U=B._dbSchema=Uf(0,B.idbdb,Y),(j=j.filter(function(re){return re._cfg.version>=J})).length!==0?(j.forEach(function(re){Z.push(function(){var ie=U,ae=re._cfg.dbschema;qf(B,ie,Y),qf(B,ae,Y),U=B._dbSchema=ae;var ce=Lp(ie,ae);ce.add.forEach(function(ke){Rp(Y,ke[0],ke[1].primKey,ke[1].indexes)}),ce.change.forEach(function(ke){if(ke.recreate)throw new ve.Upgrade("Not yet support for changing primary key");var De=Y.objectStore(ke.name);ke.add.forEach(function(He){return Wf(De,He)}),ke.change.forEach(function(He){De.deleteIndex(He.name),Wf(De,He)}),ke.del.forEach(function(He){return De.deleteIndex(He)})});var ge=re._cfg.contentUpgrade;if(ge&&re._cfg.version>J){Hf(B,Y),V._memoizedTables={};var Ce=k(ae);ce.del.forEach(function(ke){Ce[ke]=ie[ke]}),Pp(B,[B.Transaction.prototype]),Gf(B,[B.Transaction.prototype],o(Ce),Ce),V.schema=Ce;var me,we=Q(ge);return we&&Ja(),ce=Ae.follow(function(){var ke;(me=ge(V))&&we&&(ke=ri.bind(null,null),me.then(ke,ke))}),me&&typeof me.then=="function"?Ae.resolve(me):ce.then(function(){return me})}}),Z.push(function(ie){var ae,ce,ge=re._cfg.dbschema;ae=ge,ce=ie,[].slice.call(ce.db.objectStoreNames).forEach(function(Ce){return ae[Ce]==null&&ce.db.deleteObjectStore(Ce)}),Pp(B,[B.Transaction.prototype]),Gf(B,[B.Transaction.prototype],B._storeNames,B._dbSchema),V.schema=B._dbSchema}),Z.push(function(ie){B.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(B.idbdb.version/10)===re._cfg.version?(B.idbdb.deleteObjectStore("$meta"),delete B._dbSchema.$meta,B._storeNames=B._storeNames.filter(function(ae){return ae!=="$meta"})):ie.objectStore("$meta").put(re._cfg.version,"version"))})}),function re(){return Z.length?Ae.resolve(Z.shift()(V.idbtrans)).then(re):Ae.resolve()}().then(function(){r_(U,Y)})):Ae.resolve();var B,J,V,Y,Z,U}).catch(L)):(o(C).forEach(function(j){Rp(x,j,C[j].primKey,C[j].indexes)}),Hf(p,x),void Ae.follow(function(){return p.on.populate.fire(I)}).catch(L));var $,G})}function j9(p,_){r_(p._dbSchema,_),_.db.version%10!=0||_.objectStoreNames.contains("$meta")||_.db.createObjectStore("$meta").add(Math.ceil(_.db.version/10-1),"version");var x=Uf(0,p.idbdb,_);qf(p,p._dbSchema,_);for(var T=0,C=Lp(x,p._dbSchema).change;T<C.length;T++){var I=function(L){if(L.change.length||L.recreate)return console.warn("Unable to patch indexes of table ".concat(L.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=_.objectStore(L.name);L.add.forEach(function($){se&&console.debug("Dexie upgrade patch: Creating missing index ".concat(L.name,".").concat($.src)),Wf(N,$)})}(C[T]);if(typeof I=="object")return I.value}}function Lp(p,_){var x,T={del:[],add:[],change:[]};for(x in p)_[x]||T.del.push(x);for(x in _){var C=p[x],I=_[x];if(C){var L={name:x,def:I,recreate:!1,del:[],add:[],change:[]};if(""+(C.primKey.keyPath||"")!=""+(I.primKey.keyPath||"")||C.primKey.auto!==I.primKey.auto)L.recreate=!0,T.change.push(L);else{var N=C.idxByName,$=I.idxByName,G=void 0;for(G in N)$[G]||L.del.push(G);for(G in $){var j=N[G],B=$[G];j?j.src!==B.src&&L.change.push(B):L.add.push(B)}(0<L.del.length||0<L.add.length||0<L.change.length)&&T.change.push(L)}}else T.add.push([x,I])}return T}function Rp(p,_,x,T){var C=p.db.createObjectStore(_,x.keyPath?{keyPath:x.keyPath,autoIncrement:x.auto}:{autoIncrement:x.auto});return T.forEach(function(I){return Wf(C,I)}),C}function r_(p,_){o(p).forEach(function(x){_.db.objectStoreNames.contains(x)||(se&&console.debug("Dexie: Creating missing table",x),Rp(_,x,p[x].primKey,p[x].indexes))})}function Wf(p,_){p.createIndex(_.name,_.keyPath,{unique:_.unique,multiEntry:_.multi})}function Uf(p,_,x){var T={};return b(_.objectStoreNames,0).forEach(function(C){for(var I=x.objectStore(C),L=Ep(e_(G=I.keyPath),G||"",!0,!1,!!I.autoIncrement,G&&typeof G!="string",!0),N=[],$=0;$<I.indexNames.length;++$){var j=I.index(I.indexNames[$]),G=j.keyPath,j=Ep(j.name,G,!!j.unique,!!j.multiEntry,!1,G&&typeof G!="string",!1);N.push(j)}T[C]=kp(C,L,N)}),T}function qf(p,_,x){for(var T=x.db.objectStoreNames,C=0;C<T.length;++C){var I=T[C],L=x.objectStore(I);p._hasGetAll="getAll"in L;for(var N=0;N<L.indexNames.length;++N){var $=L.indexNames[N],G=L.index($).keyPath,j=typeof G=="string"?G:"["+b(G).join("+")+"]";!_[I]||(G=_[I].idxByName[j])&&(G.name=$,delete _[I].idxByName[j],_[I].idxByName[$]=G)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(p._hasGetAll=!1)}function n_(p){return p.split(",").map(function(_,x){var T=(_=_.trim()).replace(/([&*]|\+\+)/g,""),C=/^\[/.test(T)?T.match(/^\[(.*)\]$/)[1].split("+"):T;return Ep(T,C||null,/\&/.test(_),/\*/.test(_),/\+\+/.test(_),s(C),x===0)})}var K9=(Yf.prototype._parseStoresSpec=function(p,_){o(p).forEach(function(x){if(p[x]!==null){var T=n_(p[x]),C=T.shift();if(C.unique=!0,C.multi)throw new ve.Schema("Primary key cannot be multi-valued");T.forEach(function(I){if(I.auto)throw new ve.Schema("Only primary key can be marked as autoIncrement (++)");if(!I.keyPath)throw new ve.Schema("Index must have a name and cannot be an empty string")}),_[x]=kp(x,C,T)}})},Yf.prototype.stores=function(x){var _=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,x):x;var x=_._versions,T={},C={};return x.forEach(function(I){u(T,I._cfg.storesSource),C=I._cfg.dbschema={},I._parseStoresSpec(T,C)}),_._dbSchema=C,Pp(_,[_._allTables,_,_.Transaction.prototype]),Gf(_,[_._allTables,_,_.Transaction.prototype,this._cfg.tables],o(C),C),_._storeNames=o(C),this},Yf.prototype.upgrade=function(p){return this._cfg.contentUpgrade=Ne(this._cfg.contentUpgrade||be,p),this},Yf);function Yf(){}function Np(p,_){var x=p._dbNamesDB;return x||(x=p._dbNamesDB=new ka(Ho,{addons:[],indexedDB:p,IDBKeyRange:_})).version(1).stores({dbnames:"name"}),x.table("dbnames")}function Fp(p){return p&&typeof p.databases=="function"}function zp(p){return ti(function(){return Ue.letThrough=!0,p()})}function Bp(p){return!("from"in p)}var rn=function(p,_){if(!this){var x=new rn;return p&&"d"in p&&u(x,p),x}u(this,arguments.length?{d:1,from:p,to:1<arguments.length?_:p}:{d:0})};function kl(p,_,x){var T=qe(_,x);if(!isNaN(T)){if(0<T)throw RangeError();if(Bp(p))return u(p,{from:_,to:x,d:1});var C=p.l,T=p.r;if(qe(x,p.from)<0)return C?kl(C,_,x):p.l={from:_,to:x,d:1,l:null,r:null},a_(p);if(0<qe(_,p.to))return T?kl(T,_,x):p.r={from:_,to:x,d:1,l:null,r:null},a_(p);qe(_,p.from)<0&&(p.from=_,p.l=null,p.d=T?T.d+1:1),0<qe(x,p.to)&&(p.to=x,p.r=null,p.d=p.l?p.l.d+1:1),x=!p.r,C&&!p.l&&Ol(p,C),T&&x&&Ol(p,T)}}function Ol(p,_){Bp(_)||function x(T,$){var I=$.from,L=$.to,N=$.l,$=$.r;kl(T,I,L),N&&x(T,N),$&&x(T,$)}(p,_)}function i_(p,_){var x=jf(_),T=x.next();if(T.done)return!1;for(var C=T.value,I=jf(p),L=I.next(C.from),N=L.value;!T.done&&!L.done;){if(qe(N.from,C.to)<=0&&0<=qe(N.to,C.from))return!0;qe(C.from,N.from)<0?C=(T=x.next(N.from)).value:N=(L=I.next(C.from)).value}return!1}function jf(p){var _=Bp(p)?null:{s:0,n:p};return{next:function(x){for(var T=0<arguments.length;_;)switch(_.s){case 0:if(_.s=1,T)for(;_.n.l&&qe(x,_.n.from)<0;)_={up:_,n:_.n.l,s:1};else for(;_.n.l;)_={up:_,n:_.n.l,s:1};case 1:if(_.s=2,!T||qe(x,_.n.to)<=0)return{value:_.n,done:!1};case 2:if(_.n.r){_.s=3,_={up:_,n:_.n.r,s:0};continue}case 3:_=_.up}return{done:!0}}}}function a_(p){var _,x,T=(((_=p.r)===null||_===void 0?void 0:_.d)||0)-(((x=p.l)===null||x===void 0?void 0:x.d)||0),C=1<T?"r":T<-1?"l":"";C&&(_=C=="r"?"l":"r",x=n({},p),T=p[C],p.from=T.from,p.to=T.to,p[C]=T[C],x[C]=T[_],(p[_]=x).d=o_(x)),p.d=o_(p)}function o_(x){var _=x.r,x=x.l;return(_?x?Math.max(_.d,x.d):_.d:x?x.d:0)+1}function Kf(p,_){return o(_).forEach(function(x){p[x]?Ol(p[x],_[x]):p[x]=function T(C){var I,L,N={};for(I in C)f(C,I)&&(L=C[I],N[I]=!L||typeof L!="object"||R.has(L.constructor)?L:T(L));return N}(_[x])}),p}function $p(p,_){return p.all||_.all||Object.keys(p).some(function(x){return _[x]&&i_(_[x],p[x])})}h(rn.prototype,((ni={add:function(p){return Ol(this,p),this},addKey:function(p){return kl(this,p,p),this},addKeys:function(p){var _=this;return p.forEach(function(x){return kl(_,x,x)}),this},hasKey:function(p){var _=jf(this).next(p).value;return _&&qe(_.from,p)<=0&&0<=qe(_.to,p)}})[ne]=function(){return jf(this)},ni));var Go={},Vp={},Hp=!1;function Zf(p){Kf(Vp,p),Hp||(Hp=!0,setTimeout(function(){Hp=!1,Gp(Vp,!(Vp={}))},0))}function Gp(p,_){_===void 0&&(_=!1);var x=new Set;if(p.all)for(var T=0,C=Object.values(Go);T<C.length;T++)s_(L=C[T],p,x,_);else for(var I in p){var L,N=/^idb\:\/\/(.*)\/(.*)\//.exec(I);N&&(I=N[1],N=N[2],(L=Go["idb://".concat(I,"/").concat(N)])&&s_(L,p,x,_))}x.forEach(function($){return $()})}function s_(p,_,x,T){for(var C=[],I=0,L=Object.entries(p.queries.query);I<L.length;I++){for(var N=L[I],$=N[0],G=[],j=0,B=N[1];j<B.length;j++){var J=B[j];$p(_,J.obsSet)?J.subscribers.forEach(function(U){return x.add(U)}):T&&G.push(J)}T&&C.push([$,G])}if(T)for(var V=0,Y=C;V<Y.length;V++){var Z=Y[V],$=Z[0],G=Z[1];p.queries.query[$]=G}}function Z9(p){var _=p._state,x=p._deps.indexedDB;if(_.isBeingOpened||p.idbdb)return _.dbReadyPromise.then(function(){return _.dbOpenError?sr(_.dbOpenError):p});_.isBeingOpened=!0,_.dbOpenError=null,_.openComplete=!1;var T=_.openCanceller,C=Math.round(10*p.verno),I=!1;function L(){if(_.openCanceller!==T)throw new ve.DatabaseClosed("db.open() was cancelled")}function N(){return new Ae(function(J,V){if(L(),!x)throw new ve.MissingAPI;var Y=p.name,Z=_.autoSchema||!C?x.open(Y):x.open(Y,C);if(!Z)throw new ve.MissingAPI;Z.onerror=Yi(V),Z.onblocked=Qt(p._fireOnBlocked),Z.onupgradeneeded=Qt(function(U){var re;j=Z.transaction,_.autoSchema&&!p._options.allowEmptyDB?(Z.onerror=Cl,j.abort(),Z.result.close(),(re=x.deleteDatabase(Y)).onsuccess=re.onerror=Qt(function(){V(new ve.NoSuchDatabase("Database ".concat(Y," doesnt exist")))})):(j.onerror=Yi(V),U=U.oldVersion>Math.pow(2,62)?0:U.oldVersion,B=U<1,p.idbdb=Z.result,I&&j9(p,j),Y9(p,U/10,j,V))},V),Z.onsuccess=Qt(function(){j=null;var U,re,ie,ae,ce,ge=p.idbdb=Z.result,Ce=b(ge.objectStoreNames);if(0<Ce.length)try{var me=ge.transaction((ae=Ce).length===1?ae[0]:ae,"readonly");if(_.autoSchema)re=ge,ie=me,(U=p).verno=re.version/10,ie=U._dbSchema=Uf(0,re,ie),U._storeNames=b(re.objectStoreNames,0),Gf(U,[U._allTables],o(ie),ie);else if(qf(p,p._dbSchema,me),((ce=Lp(Uf(0,(ce=p).idbdb,me),ce._dbSchema)).add.length||ce.change.some(function(we){return we.add.length||we.change.length}))&&!I)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ge.close(),C=ge.version+1,I=!0,J(N());Hf(p,me)}catch{}eo.push(p),ge.onversionchange=Qt(function(we){_.vcFired=!0,p.on("versionchange").fire(we)}),ge.onclose=Qt(function(we){p.on("close").fire(we)}),B&&(ce=p._deps,me=Y,ge=ce.indexedDB,ce=ce.IDBKeyRange,Fp(ge)||me===Ho||Np(ge,ce).put({name:me}).catch(be)),J()},V)}).catch(function(J){switch(J==null?void 0:J.name){case"UnknownError":if(0<_.PR1398_maxLoop)return _.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<C)return C=0,N()}return Ae.reject(J)})}var $,G=_.dbReadyResolve,j=null,B=!1;return Ae.race([T,(typeof navigator>"u"?Ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(J){function V(){return indexedDB.databases().finally(J)}$=setInterval(V,100),V()}).finally(function(){return clearInterval($)}):Promise.resolve()).then(N)]).then(function(){return L(),_.onReadyBeingFired=[],Ae.resolve(zp(function(){return p.on.ready.fire(p.vip)})).then(function J(){if(0<_.onReadyBeingFired.length){var V=_.onReadyBeingFired.reduce(Ne,be);return _.onReadyBeingFired=[],Ae.resolve(zp(function(){return V(p.vip)})).then(J)}})}).finally(function(){_.openCanceller===T&&(_.onReadyBeingFired=null,_.isBeingOpened=!1)}).catch(function(J){_.dbOpenError=J;try{j&&j.abort()}catch{}return T===_.openCanceller&&p._close(),sr(J)}).finally(function(){_.openComplete=!0,G()}).then(function(){var J;return B&&(J={},p.tables.forEach(function(V){V.schema.indexes.forEach(function(Y){Y.name&&(J["idb://".concat(p.name,"/").concat(V.name,"/").concat(Y.name)]=new rn(-1/0,[[[]]]))}),J["idb://".concat(p.name,"/").concat(V.name,"/")]=J["idb://".concat(p.name,"/").concat(V.name,"/:dels")]=new rn(-1/0,[[[]]])}),ro(Al).fire(J),Gp(J,!0)),p})}function Wp(p){function _(I){return p.next(I)}var x=C(_),T=C(function(I){return p.throw(I)});function C(I){return function($){var N=I($),$=N.value;return N.done?$:$&&typeof $.then=="function"?$.then(x,T):s($)?Promise.all($).then(x,T):x($)}}return C(_)()}function Xf(p,_,x){for(var T=s(p)?p.slice():[p],C=0;C<x;++C)T.push(_);return T}var X9={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(p){return n(n({},p),{table:function(_){var x=p.table(_),T=x.schema,C={},I=[];function L(B,J,V){var Y=El(B),Z=C[Y]=C[Y]||[],U=B==null?0:typeof B=="string"?1:B.length,re=0<J,re=n(n({},V),{name:re?"".concat(Y,"(virtual-from:").concat(V.name,")"):V.name,lowLevelIndex:V,isVirtual:re,keyTail:J,keyLength:U,extractKey:Op(B),unique:!re&&V.unique});return Z.push(re),re.isPrimaryKey||I.push(re),1<U&&L(U===2?B[0]:B.slice(0,U-1),J+1,V),Z.sort(function(ie,ae){return ie.keyTail-ae.keyTail}),re}_=L(T.primaryKey.keyPath,0,T.primaryKey),C[":id"]=[_];for(var N=0,$=T.indexes;N<$.length;N++){var G=$[N];L(G.keyPath,0,G)}function j(B){var J,V=B.query.index;return V.isVirtual?n(n({},B),{query:{index:V.lowLevelIndex,range:(J=B.query.range,V=V.keyTail,{type:J.type===1?2:J.type,lower:Xf(J.lower,J.lowerOpen?p.MAX_KEY:p.MIN_KEY,V),lowerOpen:!0,upper:Xf(J.upper,J.upperOpen?p.MIN_KEY:p.MAX_KEY,V),upperOpen:!0})}}):B}return n(n({},x),{schema:n(n({},T),{primaryKey:_,indexes:I,getIndexByKeyPath:function(B){return(B=C[El(B)])&&B[0]}}),count:function(B){return x.count(j(B))},query:function(B){return x.query(j(B))},openCursor:function(B){var J=B.query.index,V=J.keyTail,Y=J.isVirtual,Z=J.keyLength;return Y?x.openCursor(j(B)).then(function(re){return re&&U(re)}):x.openCursor(B);function U(re){return Object.create(re,{continue:{value:function(ie){ie!=null?re.continue(Xf(ie,B.reverse?p.MAX_KEY:p.MIN_KEY,V)):B.unique?re.continue(re.key.slice(0,Z).concat(B.reverse?p.MIN_KEY:p.MAX_KEY,V)):re.continue()}},continuePrimaryKey:{value:function(ie,ae){re.continuePrimaryKey(Xf(ie,p.MAX_KEY,V),ae)}},primaryKey:{get:function(){return re.primaryKey}},key:{get:function(){var ie=re.key;return Z===1?ie[0]:ie.slice(0,Z)}},value:{get:function(){return re.value}}})}}})}})}};function Up(p,_,x,T){return x=x||{},T=T||"",o(p).forEach(function(C){var I,L,N;f(_,C)?(I=p[C],L=_[C],typeof I=="object"&&typeof L=="object"&&I&&L?(N=ee(I))!==ee(L)?x[T+C]=_[C]:N==="Object"?Up(I,L,x,T+C+"."):I!==L&&(x[T+C]=_[C]):I!==L&&(x[T+C]=_[C])):x[T+C]=void 0}),o(_).forEach(function(C){f(p,C)||(x[T+C]=_[C])}),x}function qp(p,_){return _.type==="delete"?_.keys:_.keys||_.values.map(p.extractKey)}var J9={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(p){return n(n({},p),{table:function(_){var x=p.table(_),T=x.schema.primaryKey;return n(n({},x),{mutate:function(C){var I=Ue.trans,L=I.table(_).hook,N=L.deleting,$=L.creating,G=L.updating;switch(C.type){case"add":if($.fire===be)break;return I._promise("readwrite",function(){return j(C)},!0);case"put":if($.fire===be&&G.fire===be)break;return I._promise("readwrite",function(){return j(C)},!0);case"delete":if(N.fire===be)break;return I._promise("readwrite",function(){return j(C)},!0);case"deleteRange":if(N.fire===be)break;return I._promise("readwrite",function(){return function B(J,V,Y){return x.query({trans:J,values:!1,query:{index:T,range:V},limit:Y}).then(function(Z){var U=Z.result;return j({type:"delete",keys:U,trans:J}).then(function(re){return 0<re.numFailures?Promise.reject(re.failures[0]):U.length<Y?{failures:[],numFailures:0,lastResult:void 0}:B(J,n(n({},V),{lower:U[U.length-1],lowerOpen:!0}),Y)})})}(C.trans,C.range,1e4)},!0)}return x.mutate(C);function j(B){var J,V,Y,Z=Ue.trans,U=B.keys||qp(T,B);if(!U)throw new Error("Keys missing");return(B=B.type==="add"||B.type==="put"?n(n({},B),{keys:U}):n({},B)).type!=="delete"&&(B.values=i([],B.values)),B.keys&&(B.keys=i([],B.keys)),J=x,Y=U,((V=B).type==="add"?Promise.resolve([]):J.getMany({trans:V.trans,keys:Y,cache:"immutable"})).then(function(re){var ie=U.map(function(ae,ce){var ge,Ce,me,we=re[ce],ke={onerror:null,onsuccess:null};return B.type==="delete"?N.fire.call(ke,ae,we,Z):B.type==="add"||we===void 0?(ge=$.fire.call(ke,ae,B.values[ce],Z),ae==null&&ge!=null&&(B.keys[ce]=ae=ge,T.outbound||A(B.values[ce],T.keyPath,ae))):(ge=Up(we,B.values[ce]),(Ce=G.fire.call(ke,ge,ae,we,Z))&&(me=B.values[ce],Object.keys(Ce).forEach(function(De){f(me,De)?me[De]=Ce[De]:A(me,De,Ce[De])}))),ke});return x.mutate(B).then(function(ae){for(var ce=ae.failures,ge=ae.results,Ce=ae.numFailures,ae=ae.lastResult,me=0;me<U.length;++me){var we=(ge||U)[me],ke=ie[me];we==null?ke.onerror&&ke.onerror(ce[me]):ke.onsuccess&&ke.onsuccess(B.type==="put"&&re[me]?B.values[me]:we)}return{failures:ce,results:ge,numFailures:Ce,lastResult:ae}}).catch(function(ae){return ie.forEach(function(ce){return ce.onerror&&ce.onerror(ae)}),Promise.reject(ae)})})}}})}})}};function u_(p,_,x){try{if(!_||_.keys.length<p.length)return null;for(var T=[],C=0,I=0;C<_.keys.length&&I<p.length;++C)qe(_.keys[C],p[I])===0&&(T.push(x?z(_.values[C]):_.values[C]),++I);return T.length===p.length?T:null}catch{return null}}var Q9={stack:"dbcore",level:-1,create:function(p){return{table:function(_){var x=p.table(_);return n(n({},x),{getMany:function(T){if(!T.cache)return x.getMany(T);var C=u_(T.keys,T.trans._cache,T.cache==="clone");return C?Ae.resolve(C):x.getMany(T).then(function(I){return T.trans._cache={keys:T.keys,values:T.cache==="clone"?z(I):I},I})},mutate:function(T){return T.type!=="add"&&(T.trans._cache=null),x.mutate(T)}})}}}};function l_(p,_){return p.trans.mode==="readonly"&&!!p.subscr&&!p.trans.explicit&&p.trans.db._options.cache!=="disabled"&&!_.schema.primaryKey.outbound}function c_(p,_){switch(p){case"query":return _.values&&!_.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var eM={stack:"dbcore",level:0,name:"Observability",create:function(p){var _=p.schema.name,x=new rn(p.MIN_KEY,p.MAX_KEY);return n(n({},p),{transaction:function(T,C,I){if(Ue.subscr&&C!=="readonly")throw new ve.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ue.querier));return p.transaction(T,C,I)},table:function(T){var C=p.table(T),I=C.schema,L=I.primaryKey,B=I.indexes,N=L.extractKey,$=L.outbound,G=L.autoIncrement&&B.filter(function(V){return V.compound&&V.keyPath.includes(L.keyPath)}),j=n(n({},C),{mutate:function(V){function Y(De){return De="idb://".concat(_,"/").concat(T,"/").concat(De),ae[De]||(ae[De]=new rn)}var Z,U,re,ie=V.trans,ae=V.mutatedParts||(V.mutatedParts={}),ce=Y(""),ge=Y(":dels"),Ce=V.type,ke=V.type==="deleteRange"?[V.range]:V.type==="delete"?[V.keys]:V.values.length<50?[qp(L,V).filter(function(De){return De}),V.values]:[],me=ke[0],we=ke[1],ke=V.trans._cache;return s(me)?(ce.addKeys(me),(ke=Ce==="delete"||me.length===we.length?u_(me,ke):null)||ge.addKeys(me),(ke||we)&&(Z=Y,U=ke,re=we,I.indexes.forEach(function(De){var He=Z(De.name||"");function yt(Mt){return Mt!=null?De.extractKey(Mt):null}function Tt(Mt){return De.multiEntry&&s(Mt)?Mt.forEach(function(Un){return He.addKey(Un)}):He.addKey(Mt)}(U||re).forEach(function(Mt,nn){var gt=U&&yt(U[nn]),nn=re&&yt(re[nn]);qe(gt,nn)!==0&&(gt!=null&&Tt(gt),nn!=null&&Tt(nn))})}))):me?(we={from:(we=me.lower)!==null&&we!==void 0?we:p.MIN_KEY,to:(we=me.upper)!==null&&we!==void 0?we:p.MAX_KEY},ge.add(we),ce.add(we)):(ce.add(x),ge.add(x),I.indexes.forEach(function(De){return Y(De.name).add(x)})),C.mutate(V).then(function(De){return!me||V.type!=="add"&&V.type!=="put"||(ce.addKeys(De.results),G&&G.forEach(function(He){for(var yt=V.values.map(function(gt){return He.extractKey(gt)}),Tt=He.keyPath.findIndex(function(gt){return gt===L.keyPath}),Mt=0,Un=De.results.length;Mt<Un;++Mt)yt[Mt][Tt]=De.results[Mt];Y(He.name).addKeys(yt)})),ie.mutatedParts=Kf(ie.mutatedParts||{},ae),De})}}),B=function(Y){var Z=Y.query,Y=Z.index,Z=Z.range;return[Y,new rn((Y=Z.lower)!==null&&Y!==void 0?Y:p.MIN_KEY,(Z=Z.upper)!==null&&Z!==void 0?Z:p.MAX_KEY)]},J={get:function(V){return[L,new rn(V.key)]},getMany:function(V){return[L,new rn().addKeys(V.keys)]},count:B,query:B,openCursor:B};return o(J).forEach(function(V){j[V]=function(Y){var Z=Ue.subscr,U=!!Z,re=l_(Ue,C)&&c_(V,Y)?Y.obsSet={}:Z;if(U){var ie=function(we){return we="idb://".concat(_,"/").concat(T,"/").concat(we),re[we]||(re[we]=new rn)},ae=ie(""),ce=ie(":dels"),Z=J[V](Y),U=Z[0],Z=Z[1];if((V==="query"&&U.isPrimaryKey&&!Y.values?ce:ie(U.name||"")).add(Z),!U.isPrimaryKey){if(V!=="count"){var ge=V==="query"&&$&&Y.values&&C.query(n(n({},Y),{values:!1}));return C[V].apply(this,arguments).then(function(we){if(V==="query"){if($&&Y.values)return ge.then(function(yt){return yt=yt.result,ae.addKeys(yt),we});var ke=Y.values?we.result.map(N):we.result;(Y.values?ae:ce).addKeys(ke)}else if(V==="openCursor"){var De=we,He=Y.values;return De&&Object.create(De,{key:{get:function(){return ce.addKey(De.primaryKey),De.key}},primaryKey:{get:function(){var yt=De.primaryKey;return ce.addKey(yt),yt}},value:{get:function(){return He&&ae.addKey(De.primaryKey),De.value}}})}return we})}ce.add(x)}}return C[V].apply(this,arguments)}}),j}})}};function f_(p,_,x){if(x.numFailures===0)return _;if(_.type==="deleteRange")return null;var T=_.keys?_.keys.length:"values"in _&&_.values?_.values.length:1;return x.numFailures===T?null:(_=n({},_),s(_.keys)&&(_.keys=_.keys.filter(function(C,I){return!(I in x.failures)})),"values"in _&&s(_.values)&&(_.values=_.values.filter(function(C,I){return!(I in x.failures)})),_)}function Yp(p,_){return x=p,((T=_).lower===void 0||(T.lowerOpen?0<qe(x,T.lower):0<=qe(x,T.lower)))&&(p=p,(_=_).upper===void 0||(_.upperOpen?qe(p,_.upper)<0:qe(p,_.upper)<=0));var x,T}function h_(p,_,J,T,C,I){if(!J||J.length===0)return p;var L=_.query.index,N=L.multiEntry,$=_.query.range,G=T.schema.primaryKey.extractKey,j=L.extractKey,B=(L.lowLevelIndex||L).extractKey,J=J.reduce(function(V,Y){var Z=V,U=[];if(Y.type==="add"||Y.type==="put")for(var re=new rn,ie=Y.values.length-1;0<=ie;--ie){var ae,ce=Y.values[ie],ge=G(ce);re.hasKey(ge)||(ae=j(ce),(N&&s(ae)?ae.some(function(De){return Yp(De,$)}):Yp(ae,$))&&(re.addKey(ge),U.push(ce)))}switch(Y.type){case"add":var Ce=new rn().addKeys(_.values?V.map(function(He){return G(He)}):V),Z=V.concat(_.values?U.filter(function(He){return He=G(He),!Ce.hasKey(He)&&(Ce.addKey(He),!0)}):U.map(function(He){return G(He)}).filter(function(He){return!Ce.hasKey(He)&&(Ce.addKey(He),!0)}));break;case"put":var me=new rn().addKeys(Y.values.map(function(He){return G(He)}));Z=V.filter(function(He){return!me.hasKey(_.values?G(He):He)}).concat(_.values?U:U.map(function(He){return G(He)}));break;case"delete":var we=new rn().addKeys(Y.keys);Z=V.filter(function(He){return!we.hasKey(_.values?G(He):He)});break;case"deleteRange":var ke=Y.range;Z=V.filter(function(He){return!Yp(G(He),ke)})}return Z},p);return J===p?p:(J.sort(function(V,Y){return qe(B(V),B(Y))||qe(G(V),G(Y))}),_.limit&&_.limit<1/0&&(J.length>_.limit?J.length=_.limit:p.length===_.limit&&J.length<_.limit&&(C.dirty=!0)),I?Object.freeze(J):J)}function d_(p,_){return qe(p.lower,_.lower)===0&&qe(p.upper,_.upper)===0&&!!p.lowerOpen==!!_.lowerOpen&&!!p.upperOpen==!!_.upperOpen}function tM(p,_){return function(x,T,C,I){if(x===void 0)return T!==void 0?-1:0;if(T===void 0)return 1;if((T=qe(x,T))===0){if(C&&I)return 0;if(C)return 1;if(I)return-1}return T}(p.lower,_.lower,p.lowerOpen,_.lowerOpen)<=0&&0<=function(x,T,C,I){if(x===void 0)return T!==void 0?1:0;if(T===void 0)return-1;if((T=qe(x,T))===0){if(C&&I)return 0;if(C)return-1;if(I)return 1}return T}(p.upper,_.upper,p.upperOpen,_.upperOpen)}function rM(p,_,x,T){p.subscribers.add(x),T.addEventListener("abort",function(){var C,I;p.subscribers.delete(x),p.subscribers.size===0&&(C=p,I=_,setTimeout(function(){C.subscribers.size===0&&X(I,C)},3e3))})}var nM={stack:"dbcore",level:0,name:"Cache",create:function(p){var _=p.schema.name;return n(n({},p),{transaction:function(x,T,C){var I,L,N=p.transaction(x,T,C);return T==="readwrite"&&(L=(I=new AbortController).signal,C=function($){return function(){if(I.abort(),T==="readwrite"){for(var G=new Set,j=0,B=x;j<B.length;j++){var J=B[j],V=Go["idb://".concat(_,"/").concat(J)];if(V){var Y=p.table(J),Z=V.optimisticOps.filter(function(He){return He.trans===N});if(N._explicit&&$&&N.mutatedParts)for(var U=0,re=Object.values(V.queries.query);U<re.length;U++)for(var ie=0,ae=(Ce=re[U]).slice();ie<ae.length;ie++)$p((me=ae[ie]).obsSet,N.mutatedParts)&&(X(Ce,me),me.subscribers.forEach(function(He){return G.add(He)}));else if(0<Z.length){V.optimisticOps=V.optimisticOps.filter(function(He){return He.trans!==N});for(var ce=0,ge=Object.values(V.queries.query);ce<ge.length;ce++)for(var Ce,me,we,ke=0,De=(Ce=ge[ce]).slice();ke<De.length;ke++)(me=De[ke]).res!=null&&N.mutatedParts&&($&&!me.dirty?(we=Object.isFrozen(me.res),we=h_(me.res,me.req,Z,Y,me,we),me.dirty?(X(Ce,me),me.subscribers.forEach(function(He){return G.add(He)})):we!==me.res&&(me.res=we,me.promise=Ae.resolve({result:we}))):(me.dirty&&X(Ce,me),me.subscribers.forEach(function(He){return G.add(He)})))}}}G.forEach(function(He){return He()})}}},N.addEventListener("abort",C(!1),{signal:L}),N.addEventListener("error",C(!1),{signal:L}),N.addEventListener("complete",C(!0),{signal:L})),N},table:function(x){var T=p.table(x),C=T.schema.primaryKey;return n(n({},T),{mutate:function(I){var L=Ue.trans;if(C.outbound||L.db._options.cache==="disabled"||L.explicit||L.idbtrans.mode!=="readwrite")return T.mutate(I);var N=Go["idb://".concat(_,"/").concat(x)];return N?(L=T.mutate(I),I.type!=="add"&&I.type!=="put"||!(50<=I.values.length||qp(C,I).some(function($){return $==null}))?(N.optimisticOps.push(I),I.mutatedParts&&Zf(I.mutatedParts),L.then(function($){0<$.numFailures&&(X(N.optimisticOps,I),($=f_(0,I,$))&&N.optimisticOps.push($),I.mutatedParts&&Zf(I.mutatedParts))}),L.catch(function(){X(N.optimisticOps,I),I.mutatedParts&&Zf(I.mutatedParts)})):L.then(function($){var G=f_(0,n(n({},I),{values:I.values.map(function(j,B){var J;return $.failures[B]?j:(j=(J=C.keyPath)!==null&&J!==void 0&&J.includes(".")?z(j):n({},j),A(j,C.keyPath,$.results[B]),j)})}),$);N.optimisticOps.push(G),queueMicrotask(function(){return I.mutatedParts&&Zf(I.mutatedParts)})}),L):T.mutate(I)},query:function(I){if(!l_(Ue,T)||!c_("query",I))return T.query(I);var L=((G=Ue.trans)===null||G===void 0?void 0:G.db._options.cache)==="immutable",B=Ue,N=B.requery,$=B.signal,G=function(Y,Z,U,re){var ie=Go["idb://".concat(Y,"/").concat(Z)];if(!ie)return[];if(!(Z=ie.queries[U]))return[null,!1,ie,null];var ae=Z[(re.query?re.query.index.name:null)||""];if(!ae)return[null,!1,ie,null];switch(U){case"query":var ce=ae.find(function(ge){return ge.req.limit===re.limit&&ge.req.values===re.values&&d_(ge.req.query.range,re.query.range)});return ce?[ce,!0,ie,ae]:[ae.find(function(ge){return("limit"in ge.req?ge.req.limit:1/0)>=re.limit&&(!re.values||ge.req.values)&&tM(ge.req.query.range,re.query.range)}),!1,ie,ae];case"count":return ce=ae.find(function(ge){return d_(ge.req.query.range,re.query.range)}),[ce,!!ce,ie,ae]}}(_,x,"query",I),j=G[0],B=G[1],J=G[2],V=G[3];return j&&B?j.obsSet=I.obsSet:(B=T.query(I).then(function(Y){var Z=Y.result;if(j&&(j.res=Z),L){for(var U=0,re=Z.length;U<re;++U)Object.freeze(Z[U]);Object.freeze(Z)}else Y.result=z(Z);return Y}).catch(function(Y){return V&&j&&X(V,j),Promise.reject(Y)}),j={obsSet:I.obsSet,promise:B,subscribers:new Set,type:"query",req:I,dirty:!1},V?V.push(j):(V=[j],(J=J||(Go["idb://".concat(_,"/").concat(x)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[I.query.index.name||""]=V)),rM(j,V,N,$),j.promise.then(function(Y){return{result:h_(Y.result,I,J==null?void 0:J.optimisticOps,T,j,L)}})}})}})}};function Jf(p,_){return new Proxy(p,{get:function(x,T,C){return T==="db"?_:Reflect.get(x,T,C)}})}var ka=(Tr.prototype.version=function(p){if(isNaN(p)||p<.1)throw new ve.Type("Given version is not a positive number");if(p=Math.round(10*p)/10,this.idbdb||this._state.isBeingOpened)throw new ve.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,p);var _=this._versions,x=_.filter(function(T){return T._cfg.version===p})[0];return x||(x=new this.Version(p),_.push(x),_.sort(q9),x.stores({}),this._state.autoSchema=!1,x)},Tr.prototype._whenReady=function(p){var _=this;return this.idbdb&&(this._state.openComplete||Ue.letThrough||this._vip)?p():new Ae(function(x,T){if(_._state.openComplete)return T(new ve.DatabaseClosed(_._state.dbOpenError));if(!_._state.isBeingOpened){if(!_._state.autoOpen)return void T(new ve.DatabaseClosed);_.open().catch(be)}_._state.dbReadyPromise.then(x,T)}).then(p)},Tr.prototype.use=function(p){var _=p.stack,x=p.create,T=p.level,C=p.name;return C&&this.unuse({stack:_,name:C}),p=this._middlewares[_]||(this._middlewares[_]=[]),p.push({stack:_,create:x,level:T??10,name:C}),p.sort(function(I,L){return I.level-L.level}),this},Tr.prototype.unuse=function(p){var _=p.stack,x=p.name,T=p.create;return _&&this._middlewares[_]&&(this._middlewares[_]=this._middlewares[_].filter(function(C){return T?C.create!==T:!!x&&C.name!==x})),this},Tr.prototype.open=function(){var p=this;return Ea($r,function(){return Z9(p)})},Tr.prototype._close=function(){var p=this._state,_=eo.indexOf(this);if(0<=_&&eo.splice(_,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}p.isBeingOpened||(p.dbReadyPromise=new Ae(function(x){p.dbReadyResolve=x}),p.openCanceller=new Ae(function(x,T){p.cancelOpen=T}))},Tr.prototype.close=function(x){var _=(x===void 0?{disableAutoOpen:!0}:x).disableAutoOpen,x=this._state;_?(x.isBeingOpened&&x.cancelOpen(new ve.DatabaseClosed),this._close(),x.autoOpen=!1,x.dbOpenError=new ve.DatabaseClosed):(this._close(),x.autoOpen=this._options.autoOpen||x.isBeingOpened,x.openComplete=!1,x.dbOpenError=null)},Tr.prototype.delete=function(p){var _=this;p===void 0&&(p={disableAutoOpen:!0});var x=0<arguments.length&&typeof arguments[0]!="object",T=this._state;return new Ae(function(C,I){function L(){_.close(p);var N=_._deps.indexedDB.deleteDatabase(_.name);N.onsuccess=Qt(function(){var $,G,j;$=_._deps,G=_.name,j=$.indexedDB,$=$.IDBKeyRange,Fp(j)||G===Ho||Np(j,$).delete(G).catch(be),C()}),N.onerror=Yi(I),N.onblocked=_._fireOnBlocked}if(x)throw new ve.InvalidArgument("Invalid closeOptions argument to db.delete()");T.isBeingOpened?T.dbReadyPromise.then(L):L()})},Tr.prototype.backendDB=function(){return this.idbdb},Tr.prototype.isOpen=function(){return this.idbdb!==null},Tr.prototype.hasBeenClosed=function(){var p=this._state.dbOpenError;return p&&p.name==="DatabaseClosed"},Tr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Tr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Tr.prototype,"tables",{get:function(){var p=this;return o(this._allTables).map(function(_){return p._allTables[_]})},enumerable:!1,configurable:!0}),Tr.prototype.transaction=function(){var p=(function(_,x,T){var C=arguments.length;if(C<2)throw new ve.InvalidArgument("Too few arguments");for(var I=new Array(C-1);--C;)I[C-1]=arguments[C];return T=I.pop(),[_,P(I),T]}).apply(this,arguments);return this._transaction.apply(this,p)},Tr.prototype._transaction=function(p,_,x){var T=this,C=Ue.trans;C&&C.db===this&&p.indexOf("!")===-1||(C=null);var I,L,N=p.indexOf("?")!==-1;p=p.replace("!","").replace("?","");try{if(L=_.map(function(G){if(G=G instanceof T.Table?G.name:G,typeof G!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return G}),p=="r"||p===Zs)I=Zs;else{if(p!="rw"&&p!=Xs)throw new ve.InvalidArgument("Invalid transaction mode: "+p);I=Xs}if(C){if(C.mode===Zs&&I===Xs){if(!N)throw new ve.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C=null}C&&L.forEach(function(G){if(C&&C.storeNames.indexOf(G)===-1){if(!N)throw new ve.SubTransaction("Table "+G+" not included in parent transaction.");C=null}}),N&&C&&!C.active&&(C=null)}}catch(G){return C?C._promise(null,function(j,B){B(G)}):sr(G)}var $=(function G(j,B,J,V,Y){return Ae.resolve().then(function(){var Z=Ue.transless||Ue,U=j._createTransaction(B,J,j._dbSchema,V);if(U.explicit=!0,Z={trans:U,transless:Z},V)U.idbtrans=V.idbtrans;else try{U.create(),U.idbtrans._explicit=!0,j._state.PR1398_maxLoop=3}catch(ae){return ae.name===Ke.InvalidState&&j.isOpen()&&0<--j._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),j.close({disableAutoOpen:!1}),j.open().then(function(){return G(j,B,J,null,Y)})):sr(ae)}var re,ie=Q(Y);return ie&&Ja(),Z=Ae.follow(function(){var ae;(re=Y.call(U,U))&&(ie?(ae=ri.bind(null,null),re.then(ae,ae)):typeof re.next=="function"&&typeof re.throw=="function"&&(re=Wp(re)))},Z),(re&&typeof re.then=="function"?Ae.resolve(re).then(function(ae){return U.active?ae:sr(new ve.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Z.then(function(){return re})).then(function(ae){return V&&U._resolve(),U._completion.then(function(){return ae})}).catch(function(ae){return U._reject(ae),sr(ae)})})}).bind(null,this,I,L,C,x);return C?C._promise(I,$,"lock"):Ue.trans?Ea(Ue.transless,function(){return T._whenReady($)}):this._whenReady($)},Tr.prototype.table=function(p){if(!f(this._allTables,p))throw new ve.InvalidTable("Table ".concat(p," does not exist"));return this._allTables[p]},Tr);function Tr(p,_){var x=this;this._middlewares={},this.verno=0;var T=Tr.dependencies;this._options=_=n({addons:Tr.addons,autoOpen:!0,indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange,cache:"cloned"},_),this._deps={indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange},T=_.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var C,I,L,N,$,G={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:be,dbReadyPromise:null,cancelOpen:be,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:_.autoOpen};G.dbReadyPromise=new Ae(function(B){G.dbReadyResolve=B}),G.openCanceller=new Ae(function(B,J){G.cancelOpen=J}),this._state=G,this.name=p,this.on=Fr(this,"populate","blocked","versionchange","close",{ready:[Ne,be]}),this.on.ready.subscribe=w(this.on.ready.subscribe,function(B){return function(J,V){Tr.vip(function(){var Y,Z=x._state;Z.openComplete?(Z.dbOpenError||Ae.resolve().then(J),V&&B(J)):Z.onReadyBeingFired?(Z.onReadyBeingFired.push(J),V&&B(J)):(B(J),Y=x,V||B(function U(){Y.on.ready.unsubscribe(J),Y.on.ready.unsubscribe(U)}))})}}),this.Collection=(C=this,zr(B9.prototype,function(re,U){this.db=C;var V=$f,Y=null;if(U)try{V=U()}catch(ie){Y=ie}var Z=re._ctx,U=Z.table,re=U.hook.reading.fire;this._ctx={table:U,index:Z.index,isPrimKey:!Z.index||U.schema.primKey.keyPath&&Z.index===U.schema.primKey.name,range:V,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Y,or:Z.or,valueMapper:re!==xe?re:null}})),this.Table=(I=this,zr(er.prototype,function(B,J,V){this.db=I,this._tx=V,this.name=B,this.schema=J,this.hook=I._allTables[B]?I._allTables[B].hook:Fr(null,{creating:[ut,be],reading:[Se,xe],updating:[Kt,be],deleting:[dt,be]})})),this.Transaction=(L=this,zr(H9.prototype,function(B,J,V,Y,Z){var U=this;this.db=L,this.mode=B,this.storeNames=J,this.schema=V,this.chromeTransactionDurability=Y,this.idbtrans=null,this.on=Fr(this,"complete","error","abort"),this.parent=Z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae(function(re,ie){U._resolve=re,U._reject=ie}),this._completion.then(function(){U.active=!1,U.on.complete.fire()},function(re){var ie=U.active;return U.active=!1,U.on.error.fire(re),U.parent?U.parent._reject(re):ie&&U.idbtrans&&U.idbtrans.abort(),sr(re)})})),this.Version=(N=this,zr(K9.prototype,function(B){this.db=N,this._cfg={version:B,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=($=this,zr(Q2.prototype,function(B,J,V){if(this.db=$,this._ctx={table:B,index:J===":id"?null:J,or:V},this._cmp=this._ascending=qe,this._descending=function(Y,Z){return qe(Z,Y)},this._max=function(Y,Z){return 0<qe(Y,Z)?Y:Z},this._min=function(Y,Z){return qe(Y,Z)<0?Y:Z},this._IDBKeyRange=$._deps.IDBKeyRange,!this._IDBKeyRange)throw new ve.MissingAPI})),this.on("versionchange",function(B){0<B.newVersion?console.warn("Another connection wants to upgrade database '".concat(x.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(x.name,"'. Closing db now to resume the delete request.")),x.close({disableAutoOpen:!1})}),this.on("blocked",function(B){!B.newVersion||B.newVersion<B.oldVersion?console.warn("Dexie.delete('".concat(x.name,"') was blocked")):console.warn("Upgrade '".concat(x.name,"' blocked by other connection holding version ").concat(B.oldVersion/10))}),this._maxKey=Il(_.IDBKeyRange),this._createTransaction=function(B,J,V,Y){return new x.Transaction(B,J,V,x._options.chromeTransactionDurability,Y)},this._fireOnBlocked=function(B){x.on("blocked").fire(B),eo.filter(function(J){return J.name===x.name&&J!==x&&!J._state.vcFired}).map(function(J){return J.on("versionchange").fire(B)})},this.use(Q9),this.use(nM),this.use(eM),this.use(X9),this.use(J9);var j=new Proxy(this,{get:function(B,J,V){if(J==="_vip")return!0;if(J==="table")return function(Z){return Jf(x.table(Z),j)};var Y=Reflect.get(B,J,V);return Y instanceof er?Jf(Y,j):J==="tables"?Y.map(function(Z){return Jf(Z,j)}):J==="_createTransaction"?function(){return Jf(Y.apply(this,arguments),j)}:Y}});this.vip=j,T.forEach(function(B){return B(x)})}var Qf,ni=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",iM=(jp.prototype.subscribe=function(p,_,x){return this._subscribe(p&&typeof p!="function"?p:{next:p,error:_,complete:x})},jp.prototype[ni]=function(){return this},jp);function jp(p){this._subscribe=p}try{Qf={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Qf={indexedDB:null,IDBKeyRange:null}}function v_(p){var _,x=!1,T=new iM(function(C){var I=Q(p),L,N=!1,$={},G={},j={get closed(){return N},unsubscribe:function(){N||(N=!0,L&&L.abort(),B&&ro.storagemutated.unsubscribe(V))}};C.start&&C.start(j);var B=!1,J=function(){return js(Y)},V=function(Z){Kf($,Z),$p(G,$)&&J()},Y=function(){var Z,U,re;!N&&Qf.indexedDB&&($={},Z={},L&&L.abort(),L=new AbortController,re=function(ie){var ae=Aa();try{I&&Ja();var ce=ti(p,ie);return ce=I?ce.finally(ri):ce}finally{ae&&Hi()}}(U={subscr:Z,signal:L.signal,requery:J,querier:p,trans:null}),Promise.resolve(re).then(function(ie){x=!0,_=ie,N||U.signal.aborted||($={},function(ae){for(var ce in ae)if(f(ae,ce))return;return 1}(G=Z)||B||(ro(Al,V),B=!0),js(function(){return!N&&C.next&&C.next(ie)}))},function(ie){x=!1,["DatabaseClosedError","AbortError"].includes(ie==null?void 0:ie.name)||N||js(function(){N||C.error&&C.error(ie)})}))};return setTimeout(J,0),j});return T.hasValue=function(){return x},T.getValue=function(){return _},T}var Wo=ka;function Kp(p){var _=no;try{no=!0,ro.storagemutated.fire(p),Gp(p,!0)}finally{no=_}}h(Wo,n(n({},Ie),{delete:function(p){return new Wo(p,{addons:[]}).delete()},exists:function(p){return new Wo(p,{addons:[]}).open().then(function(_){return _.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(p){try{return _=Wo.dependencies,x=_.indexedDB,_=_.IDBKeyRange,(Fp(x)?Promise.resolve(x.databases()).then(function(T){return T.map(function(C){return C.name}).filter(function(C){return C!==Ho})}):Np(x,_).toCollection().primaryKeys()).then(p)}catch{return sr(new ve.MissingAPI)}var _,x},defineClass:function(){return function(p){u(this,p)}},ignoreTransaction:function(p){return Ue.trans?Ea(Ue.transless,p):p()},vip:zp,async:function(p){return function(){try{var _=Wp(p.apply(this,arguments));return _&&typeof _.then=="function"?_:Ae.resolve(_)}catch(x){return sr(x)}}},spawn:function(p,_,x){try{var T=Wp(p.apply(x,_||[]));return T&&typeof T.then=="function"?T:Ae.resolve(T)}catch(C){return sr(C)}},currentTransaction:{get:function(){return Ue.trans||null}},waitFor:function(p,_){return _=Ae.resolve(typeof p=="function"?Wo.ignoreTransaction(p):p).timeout(_||6e4),Ue.trans?Ue.trans.waitFor(_):_},Promise:Ae,debug:{get:function(){return se},set:function(p){Te(p)}},derive:g,extend:u,props:h,override:w,Events:Fr,on:ro,liveQuery:v_,extendObservabilitySet:Kf,getByKeyPath:M,setByKeyPath:A,delByKeyPath:function(p,_){typeof _=="string"?A(p,_,void 0):"length"in _&&[].map.call(_,function(x){A(p,x,void 0)})},shallowClone:k,deepClone:z,getObjectDiff:Up,cmp:qe,asap:D,minKey:-1/0,addons:[],connections:eo,errnames:Ke,dependencies:Qf,cache:Go,semVer:"4.0.11",version:"4.0.11".split(".").map(function(p){return parseInt(p)}).reduce(function(p,_,x){return p+_/Math.pow(10,2*x)})})),Wo.maxKey=Il(Wo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ro(Al,function(p){no||(p=new CustomEvent(Ip,{detail:p}),no=!0,dispatchEvent(p),no=!1)}),addEventListener(Ip,function(p){p=p.detail,no||Kp(p)}));var Qs,no=!1,p_=function(){};return typeof BroadcastChannel<"u"&&((p_=function(){(Qs=new BroadcastChannel(Ip)).onmessage=function(p){return p.data&&Kp(p.data)}})(),typeof Qs.unref=="function"&&Qs.unref(),ro(Al,function(p){no||Qs.postMessage(p)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(p){if(!ka.disableBfCache&&p.persisted){se&&console.debug("Dexie: handling persisted pagehide"),Qs!=null&&Qs.close();for(var _=0,x=eo;_<x.length;_++)x[_].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(p){!ka.disableBfCache&&p.persisted&&(se&&console.debug("Dexie: handling persisted pageshow"),p_(),Kp({all:new rn(-1/0,[[]])}))})),Ae.rejectionMapper=function(p,_){return!p||p instanceof pe||p instanceof TypeError||p instanceof SyntaxError||!p.name||!et[p.name]?p:(_=new et[p.name](_||p.message,p),"stack"in p&&v(_,"stack",{get:function(){return this.inner.stack}}),_)},Te(se),n(ka,Object.freeze({__proto__:null,Dexie:ka,liveQuery:v_,Entity:Vt,cmp:qe,PropModification:Dl,replacePrefix:function(p,_){return new Dl({replacePrefix:[p,_]})},add:function(p){return new Dl({add:p})},remove:function(p){return new Dl({remove:p})},default:ka,RangeSet:rn,mergeRanges:Ol,rangesOverlap:i_}),{default:ka}),ka})}(id)),id.exports}var mD=gD();const _g=eD(mD),I_=Symbol.for("Dexie"),Id=globalThis[I_]||(globalThis[I_]=_g);if(_g.semVer!==Id.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_g.semVer} and ${Id.semVer}`);const{liveQuery:yD,mergeRanges:Qq,rangesOverlap:eY,RangeSet:tY,cmp:rY,Entity:my,PropModification:nY,replacePrefix:iY,add:aY,remove:oY}=Id;class _D extends my{constructor(){super(...arguments);lt(this,"key");lt(this,"value")}}class bD extends my{constructor(){super(...arguments);lt(this,"id");lt(this,"position");lt(this,"type");lt(this,"title");lt(this,"status");lt(this,"parent_id");lt(this,"created_at");lt(this,"updated_at");lt(this,"archived");lt(this,"public");lt(this,"session_aim");lt(this,"course_title");lt(this,"course_code");lt(this,"course_weight");lt(this,"course_instructor")}}class wD extends my{constructor(){super(...arguments);lt(this,"id");lt(this,"date_finished");lt(this,"pauses");lt(this,"target_time");lt(this,"elapsed_time");lt(this,"vine_id");lt(this,"status");lt(this,"created_at");lt(this,"updated_at");lt(this,"pomo_type");lt(this,"cycle");lt(this,"paused_at")}}class xD extends Id{constructor(){super("KairosDB");lt(this,"settings");lt(this,"vines");lt(this,"history");this.version(1).stores({settings:"key",vines:"id, status, created_at, updated_at, title, parent_id, archived, type, public, session_aim, position",history:"id, date_finished, time_aim, time_real, vine_id, status, created_at, updated_at, pomo_type, cycle"}),this.settings.mapToClass(_D),this.vines.mapToClass(bD),this.history.mapToClass(wD)}}const SD=async()=>(typeof window<"u"&&await dy(()=>import("./Dc5z_-O9.js"),[],import.meta.url),await mt.export()),TD=async t=>{typeof window<"u"&&await dy(()=>import("./Dc5z_-O9.js"),[],import.meta.url),await mt.import(t)},mt=new xD;var pr=(t=>(t.Pomo="POMO",t.ShortBreak="SHORT_BREAK",t.LongBreak="LONG_BREAK",t))(pr||{}),At=(t=>(t.Active="ACTIVE",t.Paused="PAUSED",t.Ready="READY",t.Inactive="INACTIVE",t.Skipped="SKIPPED",t.Interrupted="INTERRUPTED",t))(At||{});class hi extends gy{}async function MD(t){if(t.target_time<=0)throw new hi({name:"SESSION_INVALID_TIME",message:t.target_time==0?"Target time equals 0":`Target time less than 0 (${t.target_time})`});if(Sn(t.elapsed_time)>t.target_time)throw new hi({name:"SESSION_INVALID_TIME",message:"Elapsed session time exceeded the time target"});return await mt.history.add({id:t.uuid,date_finished:[At.Skipped,At.Ready].includes(t.status)?new Date:void 0,pauses:t.pauses,elapsed_time:t.elapsed_time,target_time:t.target_time,vine_id:t.vine_id,status:t.status,created_at:new Date,updated_at:new Date,pomo_type:t.pomo_type,cycle:t.cycle,paused_at:t.paused_at}).catch(e=>{throw e.name=="ConstraintError"?new hi({name:"DUPLICATE_ENTRY",message:"Tried to add a session already present in the database.",cause:e}):new hi({name:"OTHER",message:"A not further specified error occured while adding an entry.",cause:e})})}async function bs(t,e){delete e.id,delete e.created_at;const r=await mt.history.get(t);if(!r)throw new hi({name:"NOT_PRESENT",message:"Tried to update an entry that doesn't exist in the database."});if(e.target_time){if(e.target_time<=0)throw new hi({name:"ENTRY_INVALID_TIME",message:e.target_time==0?"Target time equals 0":`Target time less than 0 (${e.target_time})`});if(Sn(r.elapsed_time)>e.target_time)throw new hi({name:"ENTRY_INVALID_TIME",message:"Elapsed session time exceeded the updated time target."})}if(e.elapsed_time){if(Sn(e.elapsed_time)<0)throw new hi({name:"ENTRY_INVALID_TIME",message:"Elapsed time smaller than 0"});if(Sn(e.elapsed_time)>r.target_time)throw new hi({name:"ENTRY_INVALID_TIME",message:"Updated elapsed session time exceeded the time target."})}if(e.status==At.Ready){const n=e.elapsed_time?Sn(e.elapsed_time):Sn(r.elapsed_time),i=e.target_time??r.target_time;if(n!=i)throw new hi({name:"ENTRY_INVALID_TIME",message:`Entry with 'READY' state should have a maximum elapsed time 
                (elapsed: ${n} != ${i})`})}return await mt.history.update(t,{...e,updated_at:new Date,date_finished:[At.Skipped,At.Ready].includes((e==null?void 0:e.status)??At.Active)?new Date:void 0}).catch(n=>{throw new hi({name:"OTHER",message:"A not further specified error occured while updating an entry.",cause:n})})}async function DD(){const t=[At.Active,At.Inactive,At.Paused,At.Interrupted],e=await mt.history.where("status").anyOf(t).toArray().catch(r=>{throw new hi({name:"OTHER",message:"A not further specified error occured while retrieving restoreable entries.",cause:r})});if(e.length>1){const r=e.toSorted((i,a)=>a.updated_at.getTime()-i.updated_at.getTime())[0];await Promise.all(e.map(i=>{i.id!=r.id&&bs(i.id,{status:At.Skipped})}));const n=new Ed(r.pomo_type,r.target_time-Sn(r.elapsed_time));return n.uuid=r.id,n.created_at=r.created_at,n.status=r.status,n.target_time=r.target_time,n.elapsed_time=r.elapsed_time,n.pauses=r.pauses,n.cycle=r.cycle,n.paused_at=r.paused_at,n}else if(e.length==1){const r=e[0],n=new Ed(r.pomo_type,r.target_time-Sn(r.elapsed_time));return n.uuid=r.id,n.created_at=r.created_at,n.status=r.status,n.target_time=r.target_time,n.elapsed_time=r.elapsed_time,n.pauses=r.pauses,n.cycle=r.cycle,n.paused_at=r.paused_at,n}else return}const da={pomo_time:25*60,short_break_time:5*60,long_break_time:15*60,ui_sounds:!0,tick_sound:!0,timer_sound:!0,ui_sounds_volume:100,tick_sound_volume:100,timer_sound_volume:100,theme_inactive:"light",theme_active:"dark"};var St=(t=>(t.pomo_time="pomo_time",t.short_break_time="short_break_time",t.long_break_time="long_break_time",t.ui_sounds="ui_sounds",t.ui_sounds_volume="ui_sounds_volume",t.tick_sound="tick_sound",t.tick_sound_volume="tick_sound_volume",t.timer_sound="timer_sound",t.timer_sound_volume="timer_sound_volume",t.theme_active="theme_active",t.theme_inactive="theme_inactive",t))(St||{});async function rr(t){return await mt.settings.get(t).then(e=>(e==null?void 0:e.value)??da[t])}class Ki extends gy{}var hf,df,vf,pf,gf,mf,yf;class Ed{constructor(e,r){lt(this,"uuid",crypto.randomUUID());io(this,hf,ft(Ou(At.Inactive)));io(this,df,ft(Ou(pr.Pomo)));io(this,vf,ft(0));io(this,pf,ft(Ou(new Map([[new Date().toDateString(),0]]))));lt(this,"pauses",[]);lt(this,"cycle",1);lt(this,"interval",0);lt(this,"time_end",0);io(this,gf,ft(0));io(this,mf,ft(0));io(this,yf,ft(void 0));lt(this,"created_at",new Date);lt(this,"paused_at");lt(this,"start",async()=>{if(this.status==At.Ready)throw new Ki({name:"FINISHED",message:"Tried to start a session that is already finished."});if(this.status==At.Skipped)throw new Ki({name:"FINISHED",message:"Tried to start a session that was skipped."});if(this.status==At.Active)throw new Ki({name:"ACTIVE",message:"Tried to start as session that is already active."});if(this.target_time<=0)throw new Ki({name:"INVALID_TIME",message:`Tried to start a session with a target time ${this.target_time==0?"equal to":"less than"} zero (${this.target_time})`});if(this.interval!=0&&clearInterval(this.interval),this.status==At.Paused&&this.paused_at){console.debug("Paused session detected, saving pause duration and adjusting end time.");const r=Date.now();this.pauses.push({timestamp:this.paused_at,duration:Math.floor((r-this.paused_at.getTime())/1e3)}),this.time_end=r+(this.target_time-Sn(this.elapsed_time))*1e3}else if(this.status==At.Interrupted){console.debug("Interrupted session detected, adjusting end time.");const r=Date.now();this.time_end=r+(this.target_time-Sn(this.elapsed_time))*1e3}else{const r=Date.now();this.time_end=r+this.target_time*1e3}this.pomo_type==pr.Pomo&&(this.cycle+=1,console.debug(`Adjusting Pomo cycle: ${this.cycle}`)),this.status=At.Active;const e=await mt.history.where("id").equals(this.uuid).count();if(e==0)await MD(this);else{if(e>1)throw new Error("Duplicate history entries found!");await bs(this.uuid,{status:this.status,pauses:S_(this.pauses)})}this.interval=setInterval(async()=>{if(this.target_time<=0)throw new Ki({name:"INVALID_TIME",message:`Tried to start a session with a target time ${this.target_time==0?"equal to":"less than"} zero (${this.target_time})`});const r=Math.max(0,Math.round((this.time_end-Date.now())/1e3));this.minutes=Math.floor(r/60),this.seconds=r%60;const n=new Date().toDateString(),i=this.target_time-r-Sn(this.elapsed_time);this.elapsed_time.set(n,(this.elapsed_time.get(n)??0)+i),await m6(),document.title=`${this.minutes}:${this.seconds<10?"0":""}${this.seconds} | Kairos`,await bs(this.uuid,{elapsed_time:this.elapsed_time}),r<1&&(console.debug(`Session ${this.uuid} finished.`),this.status=At.Ready,clearInterval(this.interval),document.title="Kairos",await y6(),await bs(this.uuid,{status:this.status,date_finished:new Date}),await this.next())},1e3)});lt(this,"pause",async()=>{if(this.status!=At.Active)throw new Ki({name:"NOT_ACTIVE",message:"Tried to pause a session that is not active."});await g6(),clearInterval(this.interval),this.status=At.Paused,this.paused_at=new Date,await bs(this.uuid,{status:this.status,paused_at:this.paused_at})});lt(this,"skip",async()=>{if(this.status==At.Ready)throw new Ki({name:"FINISHED",message:"Tried to skip a session that has already finished."});this.status==At.Paused&&this.paused_at&&this.pauses.push({timestamp:this.paused_at,duration:Math.floor((Date.now()-this.paused_at.getTime())/1e3)}),clearInterval(this.interval),this.status=At.Skipped,await bs(this.uuid,{status:this.status,pauses:S_(this.pauses),date_finished:new Date}),await this.next()});lt(this,"next",async()=>{console.debug("Preparing next session."),this.uuid=crypto.randomUUID(),this.status=At.Inactive,this.elapsed_time=new Map,this.target_time=0,this.created_at=new Date,this.paused_at=void 0,this.pauses=[];const e=await rr(St.long_break_time)??da.long_break_time,r=await rr(St.short_break_time)??da.short_break_time,n=await rr(St.pomo_time)??da.pomo_time;this.pomo_type==pr.Pomo?this.cycle>0&&this.cycle%4==0?(console.debug("Long break cycle."),this.pomo_type=pr.LongBreak,this.target_time=e):(console.debug("Short break cycle."),this.pomo_type=pr.ShortBreak,this.target_time=r):(this.pomo_type==pr.ShortBreak||this.pomo_type==pr.LongBreak)&&(console.debug("Pomo cycle."),this.pomo_type=pr.Pomo,this.target_time=n,this.cycle+=1),this.minutes=Math.floor(this.target_time/60),this.seconds=this.target_time%60});lt(this,"switch_vine",async e=>{if(e&&!await mt.vines.get(e))throw new Ki({name:"NO_VINE_WITH_ID",message:"Tried to switch to a vine that doesn't exist."});this.vine_id=e,await bs(this.uuid,{vine_id:e}).catch(r=>{if(r.name!="NOT_PRESENT")throw r})});if(r<=0)throw new Ki({name:"INVALID_TIME",message:`Provided time should be larger than 0 seconds (${r}).`});if(r>999*60)throw new Ki({name:"INVALID_TIME",message:`Provided time should be less than or equal 999 minutes (${r}).`});this.pomo_type=e,this.target_time=r,this.minutes=Math.floor(r/60),this.seconds=r%60}get status(){return E(_n(this,hf))}set status(e){Me(_n(this,hf),e,!0)}get pomo_type(){return E(_n(this,df))}set pomo_type(e){Me(_n(this,df),e,!0)}get target_time(){return E(_n(this,vf))}set target_time(e){Me(_n(this,vf),e,!0)}get elapsed_time(){return E(_n(this,pf))}set elapsed_time(e){Me(_n(this,pf),e,!0)}get minutes(){return E(_n(this,gf))}set minutes(e){Me(_n(this,gf),e,!0)}get seconds(){return E(_n(this,mf))}set seconds(e){Me(_n(this,mf),e,!0)}get vine_id(){return E(_n(this,yf))}set vine_id(e){Me(_n(this,yf),e,!0)}}hf=new WeakMap,df=new WeakMap,vf=new WeakMap,pf=new WeakMap,gf=new WeakMap,mf=new WeakMap,yf=new WeakMap;const g6=async()=>{const t=await rr(St.ui_sounds)??da.ui_sounds,e=await rr(St.ui_sounds_volume)??da.ui_sounds_volume;if(t){console.debug("Playing Click sound.");const r=new Audio("sounds/click.mp3");r.volume=e/100,r.play()}else console.debug("Skipped playing Click sound, user disabled this function")},m6=async()=>{const t=await rr(St.tick_sound)??da.tick_sound,e=await rr(St.tick_sound_volume)??da.tick_sound_volume;if(t){const r=new Audio("sounds/tick.wav");r.volume=e/100,r.play()}},y6=async()=>{const t=await rr(St.timer_sound)??da.timer_sound,e=await rr(St.timer_sound_volume)??da.timer_sound_volume;if(t){const r=new Audio("sounds/timer.wav");r.volume=e/100,r.play()}},Sn=t=>{let e=0;return t.forEach(r=>e+=r),e};/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const CD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var AD=hy("<svg><!><!></svg>");function mr(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]),n=nr(r,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);xa(e,!1);let i=Lt(e,"name",8,void 0),a=Lt(e,"color",8,"currentColor"),o=Lt(e,"size",8,24),s=Lt(e,"strokeWidth",8,2),u=Lt(e,"absoluteStrokeWidth",8,!1),l=Lt(e,"iconNode",24,()=>[]);const c=(...v)=>v.filter((g,m,y)=>!!g&&y.indexOf(g)===m).join(" ");s6();var f=AD();yg(f,(v,g)=>({...CD,...n,width:o(),height:o(),stroke:a(),"stroke-width":v,class:g}),[()=>(Li(u()),Li(s()),Li(o()),Hc(()=>u()?Number(s())*24/Number(o()):s())),()=>(Li(i()),Li(r),Hc(()=>c("lucide-icon","lucide",i()?`lucide-${i()}`:"",r.class)))]);var h=K(f);Ls(h,1,l,vy,(v,g)=>{var m=Ct(()=>YM(E(g),2));let y=()=>E(m)[0],b=()=>E(m)[1];var w=_t(),S=st(w);oD(S,y,!0,(D,M)=>{yg(D,()=>({...b()}))}),de(v,w)});var d=fe(h);lr(d,e,"default",{},null),q(f),de(t,f),Sa()}function ID(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"m16 3 4 4-4 4"}],["path",{d:"M20 7H4"}],["path",{d:"m8 21-4-4 4-4"}],["path",{d:"M4 17h16"}]];mr(t,gr({name:"arrow-right-left"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function a1(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}]];mr(t,gr({name:"volume"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function o1(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}]];mr(t,gr({name:"volume-1"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function s1(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]];mr(t,gr({name:"volume-2"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function u1(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15"}]];mr(t,gr({name:"volume-x"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function nl(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})}function il(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function E_(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function k_(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var ED=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function bf(t,e){var r=kD(t);if(typeof r.path!="string"){var n=t.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof e=="string"?e:typeof n=="string"&&n.length>0?n:t.name,writable:!1,configurable:!1,enumerable:!0})}return r}function kD(t){var e=t.name,r=e&&e.lastIndexOf(".")!==-1;if(r&&!t.type){var n=e.split(".").pop().toLowerCase(),i=ED.get(n);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var OD=[".DS_Store","Thumbs.db"];function PD(t){return nl(this,void 0,void 0,function(){return il(this,function(e){return kd(t)&&LD(t.dataTransfer)?[2,zD(t.dataTransfer,t.type)]:RD(t)?[2,ND(t)]:Array.isArray(t)&&t.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,FD(t)]:[2,[]]})})}function LD(t){return kd(t)}function RD(t){return kd(t)&&kd(t.target)}function kd(t){return typeof t=="object"&&t!==null}function ND(t){return bg(t.target.files).map(function(e){return bf(e)})}function FD(t){return nl(this,void 0,void 0,function(){var e;return il(this,function(r){switch(r.label){case 0:return[4,Promise.all(t.map(function(n){return n.getFile()}))];case 1:return e=r.sent(),[2,e.map(function(n){return bf(n)})]}})})}function zD(t,e){return nl(this,void 0,void 0,function(){var r,n;return il(this,function(i){switch(i.label){case 0:return t.items?(r=bg(t.items).filter(function(a){return a.kind==="file"}),e!=="drop"?[2,r]:[4,Promise.all(r.map(BD))]):[3,2];case 1:return n=i.sent(),[2,O_(_6(n))];case 2:return[2,O_(bg(t.files).map(function(a){return bf(a)}))]}})})}function O_(t){return t.filter(function(e){return OD.indexOf(e.name)===-1})}function bg(t){if(t===null)return[];for(var e=[],r=0;r<t.length;r++){var n=t[r];e.push(n)}return e}function BD(t){if(typeof t.webkitGetAsEntry!="function")return P_(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?b6(e):P_(t)}function _6(t){return t.reduce(function(e,r){return k_(k_([],E_(e),!1),E_(Array.isArray(r)?_6(r):[r]),!1)},[])}function P_(t){var e=t.getAsFile();if(!e)return Promise.reject("".concat(t," is not a File"));var r=bf(e);return Promise.resolve(r)}function $D(t){return nl(this,void 0,void 0,function(){return il(this,function(e){return[2,t.isDirectory?b6(t):VD(t)]})})}function b6(t){var e=t.createReader();return new Promise(function(r,n){var i=[];function a(){var o=this;e.readEntries(function(s){return nl(o,void 0,void 0,function(){var u,l,c;return il(this,function(f){switch(f.label){case 0:if(s.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return u=f.sent(),r(u),[3,4];case 3:return l=f.sent(),n(l),[3,4];case 4:return[3,6];case 5:c=Promise.all(s.map($D)),i.push(c),a(),f.label=6;case 6:return[2]}})})},function(s){n(s)})}a()})}function VD(t){return nl(this,void 0,void 0,function(){return il(this,function(e){return[2,new Promise(function(r,n){t.file(function(i){var a=bf(i,t.fullPath);r(a)},function(i){n(i)})})]})})}function HD(t,e){if(t&&e){const r=Array.isArray(e)?e:e.split(","),n=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return r.some(o=>{const s=o.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?a===s.replace(/\/.*$/,""):i===s})}return!0}const GD="file-invalid-type",WD="file-too-large",UD="file-too-small",qD="too-many-files",YD=t=>{t=Array.isArray(t)&&t.length===1?t[0]:t;const e=Array.isArray(t)?`one of ${t.join(", ")}`:t;return{code:GD,message:`File type must be ${e}`}},L_=t=>({code:WD,message:`File is larger than ${t} bytes`}),R_=t=>({code:UD,message:`File is smaller than ${t} bytes`}),jD={code:qD,message:"Too many files"};function KD(t,e){const r=t.type==="application/x-moz-file"||HD(t,e);return[r,r?null:YD(e)]}function ZD(t,e,r){if(Rl(t.size))if(Rl(e)&&Rl(r)){if(t.size>r)return[!1,L_(r)];if(t.size<e)return[!1,R_(e)]}else{if(Rl(e)&&t.size<e)return[!1,R_(e)];if(Rl(r)&&t.size>r)return[!1,L_(r)]}return[!0,null]}function Rl(t){return t!=null}function N_(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function nh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,e=>e==="Files"||e==="application/x-moz-file"):!!t.target&&!!t.target.files}function XD(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function JD(t){return t.indexOf("Edge/")!==-1}function QD(t=window.navigator.userAgent){return XD(t)||JD(t)}var eC=Je("<p> </p>"),tC=Je('<div><input type="file" autocomplete="off" tabindex="-1" style="display: none;"/> <!></div>');function rC(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]),n=nr(r,["accept","disabled","getFilesFromEvent","maxSize","minSize","multiple","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","containerClasses","containerStyles","disableDefaultStyles","name","inputElement","required"]);xa(e,!1);const i=_o(),a=_o(),o=_o(),s=_o();let u=Lt(e,"accept",8,void 0),l=Lt(e,"disabled",8,!1),c=Lt(e,"getFilesFromEvent",8,PD),f=Lt(e,"maxSize",8,1/0),h=Lt(e,"minSize",8,0),d=Lt(e,"multiple",8,!0),v=Lt(e,"preventDropOnDocument",8,!0),g=Lt(e,"noClick",8,!1),m=Lt(e,"noKeyboard",8,!1),y=Lt(e,"noDrag",8,!1),b=Lt(e,"noDragEventsBubbling",8,!1),w=Lt(e,"containerClasses",8,""),S=Lt(e,"containerStyles",8,""),D=Lt(e,"disableDefaultStyles",8,!1),M=Lt(e,"name",8,""),A=Lt(e,"inputElement",12,void 0),k=Lt(e,"required",8,!1);const O=pM();let P={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]},R=_o();function H(){P.isFileDialogActive=!1,P.isDragActive=!1,P.draggedFiles=[],P.acceptedFiles=[],P.fileRejections=[]}function z(){A()&&(A(A().value=null,!0),P.isFileDialogActive=!0,A().click())}function W(le){!E(R)||!E(R).isEqualNode(le.target)||(le.keyCode===32||le.keyCode===13)&&(le.preventDefault(),z())}function ee(){P.isFocused=!0}function ne(){P.isFocused=!1}function he(){g()||(QD()?setTimeout(z,0):z())}function X(le){le.preventDefault(),ue(le),Ee=[...Ee,le.target],nh(le)&&Promise.resolve(c()(le)).then(Ne=>{N_(le)&&!b()||(P.draggedFiles=Ne,P.isDragActive=!0,O("dragenter",{dragEvent:le}))})}function te(le){if(le.preventDefault(),ue(le),le.dataTransfer)try{le.dataTransfer.dropEffect="copy"}catch{}return nh(le)&&O("dragover",{dragEvent:le}),!1}function oe(le){le.preventDefault(),ue(le);const Ne=Ee.filter(Te=>E(R)&&E(R).contains(Te)),se=Ne.indexOf(le.target);se!==-1&&Ne.splice(se,1),Ee=Ne,!(Ne.length>0)&&(P.isDragActive=!1,P.draggedFiles=[],nh(le)&&O("dragleave",{dragEvent:le}))}function Q(le){le.preventDefault(),ue(le),Ee=[],nh(le)&&(O("filedropped",{event:le}),Promise.resolve(c()(le)).then(Ne=>{if(N_(le)&&!b())return;const se=[],Te=[];Ne.forEach(We=>{const[Ze,$e]=KD(We,u()),[Ve,tt]=ZD(We,h(),f());if(Ze&&Ve)se.push(We);else{const Dt=[$e,tt].filter(Zt=>Zt);Te.push({file:We,errors:Dt})}}),!d()&&se.length>1&&(se.forEach(We=>{Te.push({file:We,errors:[jD]})}),se.splice(0)),le.dataTransfer&&A(A().files=le.dataTransfer.files,!0),P.acceptedFiles=se,P.fileRejections=Te,O("drop",{acceptedFiles:se,fileRejections:Te,event:le}),Te.length>0&&O("droprejected",{fileRejections:Te,event:le}),se.length>0&&O("dropaccepted",{acceptedFiles:se,event:le})})),H()}function ue(le){b()&&le.stopPropagation()}function pe(le){v()&&le.preventDefault()}let Ee=[];function Be(le){v()&&(E(R)&&E(R).contains(le.target)||(le.preventDefault(),Ee=[]))}function Ye(){P.isFileDialogActive&&setTimeout(()=>{if(A()){const{files:le}=A();le.length||(P.isFileDialogActive=!1,O("filedialogcancel"))}},300)}gM(()=>{A(null)});function Ke(le){le.stopPropagation()}th(()=>Li(l()),()=>{Me(i,le=>l()?null:le)}),th(()=>(Li(m()),E(i)),()=>{Me(a,le=>m()?null:E(i)(le))}),th(()=>(Li(y()),E(i)),()=>{Me(o,le=>y()?null:E(i)(le))}),th(()=>Li(d()),()=>{Me(s,d()?"Drag 'n' drop some files here, or click to select files":"Drag 'n' drop a file here, or click to select a file")}),jM(),s6();var Ge=tC();_r("focus",Pu,Ye),_r("dragover",Pu,pe),_r("drop",Pu,Be);var ve=Ct(()=>E(a)(W)),et=Ct(()=>E(a)(ee)),Ie=Ct(()=>E(a)(ne)),be=Ct(()=>E(i)(he)),xe=Ct(()=>E(o)(X)),Se=Ct(()=>E(o)(te)),Re=Ct(()=>E(o)(oe)),ut=Ct(()=>E(o)(Q));yg(Ge,()=>({tabindex:"0",role:"button",class:`${D()?"":"dropzone"}
  ${w()??""}`,style:S(),...n}),void 0,void 0,"svelte-817dg2");var dt=K(Ge);yi(dt,le=>A(le),()=>A());var Kt=fe(dt,2);lr(Kt,e,"default",{},le=>{var Ne=eC(),se=K(Ne,!0);q(Ne),rt(()=>Pe(se,E(s))),de(le,Ne)}),q(Ge),yi(Ge,le=>Me(R,le),()=>E(R)),rt(le=>{pn(dt,"accept",le),dt.multiple=d(),dt.required=k(),pn(dt,"name",M())},[()=>(Li(u()),Hc(()=>{var le;return(le=u())==null?void 0:le.toString()}))]),_r("change",dt,Q),_r("click",dt,Ke),_r("keydown",Ge,function(...le){var Ne;(Ne=E(ve))==null||Ne.apply(this,le)}),_r("focus",Ge,function(...le){var Ne;(Ne=E(et))==null||Ne.apply(this,le)}),_r("blur",Ge,function(...le){var Ne;(Ne=E(Ie))==null||Ne.apply(this,le)}),_r("click",Ge,function(...le){var Ne;(Ne=E(be))==null||Ne.apply(this,le)}),_r("dragenter",Ge,function(...le){var Ne;(Ne=E(xe))==null||Ne.apply(this,le)}),_r("dragover",Ge,function(...le){var Ne;(Ne=E(Se))==null||Ne.apply(this,le)}),_r("dragleave",Ge,function(...le){var Ne;(Ne=E(Re))==null||Ne.apply(this,le)}),_r("drop",Ge,function(...le){var Ne;(Ne=E(ut))==null||Ne.apply(this,le)}),de(t,Ge),Sa()}function Or(t,e){const r=Ou({current:void 0});return ha(()=>(e==null||e(),yD(t).subscribe(n=>{n!==void 0&&(r.current=n)}).unsubscribe)),r}var wg=(t=>(t.LIGHT="light",t.DARK="dark",t.CUPCAKE="cupcake",t.BUMBLEBEE="bumblebee",t.EMERALD="emerald",t.CORPORATE="corporate",t.SYNTHWAVE="synthwave",t.RETRO="retro",t.CYBERPUNK="cyberpunk",t.VALENTINE="valentine",t.HALLOWEEN="halloween",t.GARDEN="garden",t.FOREST="forest",t.AQUA="aqua",t.LOFI="lofi",t.PASTEL="pastel",t.FANTASY="fantasy",t.WIREFRAME="wireframe",t.BLACK="black",t.LUXURY="luxury",t.DRACULA="dracula",t.CMYK="cmyk",t.AUTUMN="autumn",t.BUSINESS="business",t.ACID="acid",t.LEMONADE="lemonade",t.NIGHT="night",t.COFFEE="coffee",t.WINTER="winter",t.DIM="dim",t.NORD="nord",t.SUNSET="sunset",t.CARAMELLATTE="caramellatte",t.ABYSS="abyss",t.SILK="silk",t))(wg||{}),nC=async(t,e)=>await e(St.pomo_time,parseInt(t.target.value)*60),iC=async(t,e)=>await e(St.short_break_time,parseInt(t.target.value)*60),aC=async(t,e)=>await e(St.long_break_time,parseInt(t.target.value)*60),oC=async(t,e)=>await e(St.ui_sounds,t.target.checked),sC=async()=>await g6(),uC=async(t,e)=>await e(St.ui_sounds_volume,parseInt(t.target.value)),lC=async(t,e)=>await e(St.tick_sound,t.target.checked),cC=async()=>await m6(),fC=async(t,e)=>await e(St.tick_sound_volume,parseInt(t.target.value)),hC=async(t,e)=>await e(St.timer_sound,t.target.checked),dC=async()=>await y6(),vC=async(t,e)=>await e(St.timer_sound_volume,parseInt(t.target.value)),pC=async(t,e,r)=>{var n;((n=e.session)==null?void 0:n.status)!=At.Active&&document.documentElement.setAttribute("data-theme",t.target.value),await r(St.theme_inactive,t.target.value)},gC=Je("<option> </option>"),mC=async(t,e,r)=>{var n;((n=e.session)==null?void 0:n.status)==At.Active&&document.documentElement.setAttribute("data-theme",t.target.value),await r(St.theme_active,t.target.value)},yC=Je("<option> </option>"),_C=async(t,e)=>await e(),bC=Je('<span class="text-success"> </span> <span> </span> <progress class="progress w-56" max="100"></progress>',1),wC=Je('<span class="text-error"> </span>'),xC=Je("<span> </span>"),SC=Je('<dialog id="settings" class="modal"><div class="modal-box max-h-[90dvh]"><div class="flex flex-row items-center justify-between mb-2"><h3 class="text-lg font-bold"> </h3> <form method="dialog"><button class="btn btn-sm btn-circle btn-ghost">â</button></form></div> <div class="tabs tabs-border"><input type="radio" name="settings-tabs" class="tab" checked/> <div class="tab-content"><fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend"> </legend> <div class="flex flex-col md:flex-row gap-2"><div class="flex flex-col"><label for="pomo" class="label"> </label> <input id="pomo" type="number" class="input text-center" placeholder="25"/></div> <div class="flex flex-col"><label for="short_break" class="label"> </label> <input id="short_break" type="number" class="input text-center" placeholder="5"/></div> <div class="flex flex-col"><label for="long_break" class="label"> </label> <input id="long_break" type="number" class="input text-center" placeholder="15"/></div></div></fieldset> <fieldset class="fieldset bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend"> </legend> <div class="flex flex-col md:flex-row gap-2 justify-evenly items-center"><label class="label"><input type="checkbox" class="toggle"/> </label> <div class="flex flex-row items-center gap-2 w-full md:contents"><button class="btn btn-primary btn-circle w-1/4"><!></button> <input type="range" min="0" max="100" class="range w-3/4 md:w-[30%]"/></div></div> <div class="divider"></div> <div class="flex flex-col md:flex-row justify-evenly items-center"><label class="label"><input type="checkbox" class="toggle"/> </label> <div class="flex flex-row items-center gap-2 w-full md:contents"><button class="btn btn-primary btn-circle w-1/4"><!></button> <input type="range" min="0" max="100" class="range w-3/4 md:w-[30%]"/></div></div> <div class="divider"></div> <div class="flex flex-col md:flex-row justify-evenly items-center"><label class="label"><input type="checkbox" class="toggle"/> </label> <div class="flex flex-row items-center gap-2 w-full md:contents"><button class="btn btn-primary w-1/4 btn-circle"><!></button> <input type="range" min="0" max="100" class="range w-3/4 md:w-[30%]"/></div></div></fieldset> <fieldset class="fieldset flex flex-row justify-evenly bg-base-100 border-base-300 rounded-box w-full border p-4"><legend class="fieldset-legend"> </legend> <div class="flex flex-col gap-2 items-center"><fieldset class="fieldset w-full"><legend class="fieldset-legend"> </legend> <select class="select"></select></fieldset> <!></div> <!> <div class="flex flex-col gap-2 items-center"><fieldset class="fieldset w-full"><legend class="fieldset-legend"> </legend> <select class="select"></select></fieldset> <!></div></fieldset></div> <input type="radio" name="settings-tabs" class="tab"/> <div class="tab-content"><div class="flex flex-row justify-evenly mt-5 items-center"><button class="btn btn-primary">Exporteer data</button> <div class="divider divider-horizontal"></div> <!></div></div></div></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog>');function TC(t,e){xa(e,!0);const[r,n]=Ns(),i=()=>Fs(fr,"$_",r);let a=Lt(e,"settings_modal",15);const o=Or(async()=>rr(St.pomo_time),()=>[]),s=Or(async()=>rr(St.short_break_time),()=>[]),u=Or(async()=>rr(St.long_break_time),()=>[]),l=Or(async()=>rr(St.theme_active),()=>[]),c=Or(async()=>rr(St.theme_inactive),()=>[]),f=Or(async()=>rr(St.ui_sounds),()=>[]),h=Or(async()=>rr(St.ui_sounds_volume),()=>[]),d=Or(async()=>rr(St.tick_sound),()=>[]),v=Or(async()=>rr(St.tick_sound_volume),()=>[]),g=Or(async()=>rr(St.timer_sound),()=>[]),m=Or(async()=>rr(St.timer_sound_volume),()=>[]),y=Ct(()=>o.current),b=Ct(()=>s.current),w=Ct(()=>u.current),S=Ct(()=>l.current),D=Ct(()=>c.current),M=Ct(()=>f.current),A=Ct(()=>h.current),k=Ct(()=>d.current),O=Ct(()=>v.current),P=Ct(()=>g.current),R=Ct(()=>m.current);ly(async()=>{await dy(()=>import("./Dc5z_-O9.js"),[],import.meta.url)});async function H(){const at=document.createElement("a"),Vt=await SD(),qe=URL.createObjectURL(Vt);at.href=qe,at.download="Kairos Data.json",document.body.appendChild(at),at.click()}let z={accepted:[],rejected:[]},W=ft(!1),ee=ft(!1),ne=ft(0),he=ft(100);const X=()=>{Me(he,Math.max(0,Math.min(100,(E(ne)-Date.now())/5e3*100)),!0),E(he)<100&&E(ne)>Date.now()&&requestAnimationFrame(X),E(he)<=0&&(window.location.reload(),Me(he,100))};async function te(at){Me(W,!1),Me(ee,!1);const{acceptedFiles:Vt,fileRejections:qe}=at.detail;if(z.accepted=[...z.accepted,...Vt],z.rejected=[...z.rejected,...qe],z.accepted.length>0){const Vr=z.accepted[0];try{await mt.delete(),await mt.open(),await TD(Vr),Me(W,!0),Me(ne,Date.now()+5e3),requestAnimationFrame(X)}catch(Er){console.error(Er)}}}const oe=async(at,Vt)=>{try{await mt.settings.put({value:Vt,key:at})}catch{console.error(`Failed to update setting: ${at}`)}};var Q=SC(),ue=K(Q),pe=K(ue),Ee=K(pe),Be=K(Ee,!0);q(Ee),Va(2),q(pe);var Ye=fe(pe,2),Ke=K(Ye);jn(Ke);var Ge=fe(Ke,2),ve=K(Ge),et=K(ve),Ie=K(et,!0);q(et);var be=fe(et,2),xe=K(be),Se=K(xe),Re=K(Se,!0);q(Se);var ut=fe(Se,2);jn(ut),ut.__change=[nC,oe],q(xe);var dt=fe(xe,2),Kt=K(dt),le=K(Kt,!0);q(Kt);var Ne=fe(Kt,2);jn(Ne),Ne.__change=[iC,oe],q(dt);var se=fe(dt,2),Te=K(se),We=K(Te,!0);q(Te);var Ze=fe(Te,2);jn(Ze),Ze.__change=[aC,oe],q(se),q(be),q(ve);var $e=fe(ve,2),Ve=K($e),tt=K(Ve,!0);q(Ve);var Dt=fe(Ve,2),Zt=K(Dt),dr=K(Zt);jn(dr),dr.__change=[oC,oe];var ir=fe(dr);q(Zt);var Pt=fe(Zt,2),mn=K(Pt);mn.__click=[sC];var Nr=K(mn);{var $r=at=>{a1(at,{class:"size-[1.2em]"})},Ue=at=>{var Vt=_t(),qe=st(Vt);{var Vr=er=>{o1(er,{class:"size-[1.2em]"})},Er=er=>{var pt=_t(),Fr=st(pt);{var zr=Ft=>{s1(Ft,{class:"size-[1.2em]"})},Hr=Ft=>{u1(Ft,{class:"size-[1.2em]"})};xt(Fr,Ft=>{E(M)&&E(A)>=75?Ft(zr):Ft(Hr,!1)},!0)}de(er,pt)};xt(qe,er=>{E(M)&&E(A)>=25&&E(A)<75?er(Vr):er(Er,!1)},!0)}de(at,Vt)};xt(Nr,at=>{E(M)&&E(A)<25?at($r):at(Ue,!1)})}q(mn);var An=fe(mn,2);jn(An),An.__change=[uC,oe],q(Pt),q(Dt);var Gn=fe(Dt,4),ei=K(Gn),Ae=K(ei);jn(Ae),Ae.__change=[lC,oe];var wl=fe(Ae);q(ei);var xl=fe(ei,2),Za=K(xl);Za.__click=[cC];var zf=K(Za);{var Sl=at=>{a1(at,{class:"size-[1.2em]"})},Dp=at=>{var Vt=_t(),qe=st(Vt);{var Vr=er=>{o1(er,{class:"size-[1.2em]"})},Er=er=>{var pt=_t(),Fr=st(pt);{var zr=Ft=>{s1(Ft,{class:"size-[1.2em]"})},Hr=Ft=>{u1(Ft,{class:"size-[1.2em]"})};xt(Fr,Ft=>{E(k)&&E(O)>=75?Ft(zr):Ft(Hr,!1)},!0)}de(er,pt)};xt(qe,er=>{E(k)&&E(O)>=25&&E(O)<75?er(Vr):er(Er,!1)},!0)}de(at,Vt)};xt(zf,at=>{E(k)&&E(O)<25?at(Sl):at(Dp,!1)})}q(Za);var Gs=fe(Za,2);jn(Gs),Gs.__change=[fC,oe],q(xl),q(Gn);var Aa=fe(Gn,4),Hi=K(Aa),Xa=K(Hi);jn(Xa),Xa.__change=[hC,oe];var Ws=fe(Xa);q(Hi);var Qt=fe(Hi,2),vr=K(Qt);vr.__click=[dC];var Cp=K(vr);{var Us=at=>{a1(at,{class:"size-[1.2em]"})},qs=at=>{var Vt=_t(),qe=st(Vt);{var Vr=er=>{o1(er,{class:"size-[1.2em]"})},Er=er=>{var pt=_t(),Fr=st(pt);{var zr=Ft=>{s1(Ft,{class:"size-[1.2em]"})},Hr=Ft=>{u1(Ft,{class:"size-[1.2em]"})};xt(Fr,Ft=>{E(P)&&E(R)>=75?Ft(zr):Ft(Hr,!1)},!0)}de(er,pt)};xt(qe,er=>{E(P)&&E(R)>=25&&E(R)<75?er(Vr):er(Er,!1)},!0)}de(at,Vt)};xt(Cp,at=>{E(P)&&E(R)<25?at(Us):at(qs,!1)})}q(vr);var Ia=fe(vr,2);jn(Ia),Ia.__change=[vC,oe],q(Qt),q(Aa),q($e);var Bf=fe($e,2),ti=K(Bf),Ja=K(ti,!0);q(ti);var ri=fe(ti,2),Qa=K(ri),Tl=K(Qa),Gi=K(Tl,!0);q(Tl);var Ys=fe(Tl,2);Ys.__change=[pC,e,oe],Ls(Ys,20,()=>Object.values(wg),at=>at,(at,Vt)=>{var qe=gC(),Vr=K(qe,!0);q(qe);var Er={};rt(()=>{mg(qe,E(D)==Vt),Pe(Vr,Vt),Er!==(Er=Vt)&&(qe.value=(qe.__value=Vt)??"")}),de(at,qe)}),q(Ys),q(Qa);var Ea=fe(Qa,2);C_(Ea,{get theme(){return E(D)}}),q(ri);var Ml=fe(ri,2);ID(Ml,{class:"size-[2.5em] self-center"});var js=fe(Ml,2),sr=K(js),Ti=K(sr),Mi=K(Ti,!0);q(Ti);var Ks=fe(Ti,2);Ks.__change=[mC,e,oe],Ls(Ks,20,()=>Object.values(wg),at=>at,(at,Vt)=>{var qe=yC(),Vr=K(qe,!0);q(qe);var Er={};rt(()=>{mg(qe,E(S)==Vt),Pe(Vr,Vt),Er!==(Er=Vt)&&(qe.value=(qe.__value=Vt)??"")}),de(at,qe)}),q(Ks),q(sr);var eo=fe(sr,2);C_(eo,{get theme(){return E(S)}}),q(js),q(Bf),q(Ge);var Ho=fe(Ge,2),Zs=fe(Ho,2),Xs=K(Zs),Wi=K(Xs);Wi.__click=[_C,H];var $f=fe(Wi,4);rC($f,{accept:"application/json",containerClasses:"!bg-base-100 !border-base-300",multiple:!1,$$events:{drop:te},children:(at,Vt)=>{var qe=_t(),Vr=st(qe);{var Er=pt=>{var Fr=bC(),zr=st(Fr),Hr=K(zr,!0);q(zr);var Ft=fe(zr,2),In=K(Ft,!0);q(Ft);var tn=fe(Ft,2);rt((Ui,qi)=>{Pe(Hr,Ui),Pe(In,qi),qo(tn,E(he))},[()=>i()("database_import_success"),()=>i()("reloading_in")]),de(pt,Fr)},er=pt=>{var Fr=_t(),zr=st(Fr);{var Hr=In=>{var tn=wC(),Ui=K(tn,!0);q(tn),rt(qi=>Pe(Ui,qi),[()=>i()("database_import_error")]),de(In,tn)},Ft=In=>{var tn=xC(),Ui=K(tn,!0);q(tn),rt(qi=>Pe(Ui,qi),[()=>i()("database_import_dropzone")]),de(In,tn)};xt(zr,In=>{E(ee)?In(Hr):In(Ft,!1)},!0)}de(pt,Fr)};xt(Vr,pt=>{E(W)?pt(Er):pt(er,!1)})}de(at,qe)},$$slots:{default:!0}}),q(Xs),q(Zs),q(Ye),q(ue),Va(2),q(Q),yi(Q,at=>a(at),()=>a()),rt((at,Vt,qe,Vr,Er,er,pt,Fr,zr,Hr,Ft,In,tn,Ui)=>{Pe(Be,at),pn(Ke,"aria-label",Vt),Pe(Ie,qe),Pe(Re,Vr),qo(ut,E(y)/60),Pe(le,Er),qo(Ne,E(b)/60),Pe(We,er),qo(Ze,E(w)/60),Pe(tt,pt),nd(dr,E(M)),Pe(ir,` ${Fr??""}`),An.disabled=!E(M),qo(An,E(A)),nd(Ae,E(k)),Pe(wl,` ${zr??""}`),Gs.disabled=!E(k),qo(Gs,E(O)),nd(Xa,E(P)),Pe(Ws,` ${Hr??""}`),Ia.disabled=!E(P),qo(Ia,E(R)),Pe(Ja,Ft),Pe(Gi,In),Pe(Mi,tn),pn(Ho,"aria-label",Ui)},[()=>i()("settings"),()=>i()("general"),()=>i()("focus_times"),()=>i()("pomodoro"),()=>i()("break"),()=>i()("long_break"),()=>i()("sound"),()=>i()("ui_sounds"),()=>i()("tick_sound"),()=>i()("timer_sound"),()=>i()("appearance"),()=>i()("inactive"),()=>i()("active"),()=>i()("import")+"/"+i()("export")]),de(t,Q),Sa(),n()}Vo(["change","click"]);const w6=(t,e)=>{if(typeof t=="number"){if(e===3)return{mode:"rgb",r:(t>>8&15|t>>4&240)/255,g:(t>>4&15|t&240)/255,b:(t&15|t<<4&240)/255};if(e===4)return{mode:"rgb",r:(t>>12&15|t>>8&240)/255,g:(t>>8&15|t>>4&240)/255,b:(t>>4&15|t&240)/255,alpha:(t&15|t<<4&240)/255};if(e===6)return{mode:"rgb",r:(t>>16&255)/255,g:(t>>8&255)/255,b:(t&255)/255};if(e===8)return{mode:"rgb",r:(t>>24&255)/255,g:(t>>16&255)/255,b:(t>>8&255)/255,alpha:(t&255)/255}}},MC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},DC=t=>w6(MC[t.toLowerCase()],6),CC=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,AC=t=>{let e;return(e=t.match(CC))?w6(parseInt(e[1],16),e[1].length):void 0},To="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",xc=`${To}%`,yy=`(?:${To}%|${To})`,IC=`(?:${To}(deg|grad|rad|turn)|${To})`,Ku="\\s*,\\s*",EC=new RegExp(`^rgba?\\(\\s*${To}${Ku}${To}${Ku}${To}\\s*(?:,\\s*${yy}\\s*)?\\)$`),kC=new RegExp(`^rgba?\\(\\s*${xc}${Ku}${xc}${Ku}${xc}\\s*(?:,\\s*${yy}\\s*)?\\)$`),OC=t=>{let e={mode:"rgb"},r;if(r=t.match(EC))r[1]!==void 0&&(e.r=r[1]/255),r[2]!==void 0&&(e.g=r[2]/255),r[3]!==void 0&&(e.b=r[3]/255);else if(r=t.match(kC))r[1]!==void 0&&(e.r=r[1]/100),r[2]!==void 0&&(e.g=r[2]/100),r[3]!==void 0&&(e.b=r[3]/100);else return;return r[4]!==void 0?e.alpha=Math.max(0,Math.min(1,r[4]/100)):r[5]!==void 0&&(e.alpha=Math.max(0,Math.min(1,+r[5]))),e},PC=(t,e)=>t===void 0?void 0:typeof t!="object"?GC(t):t.mode!==void 0?t:e?{...t,mode:e}:void 0,x6=(t="rgb")=>e=>(e=PC(e,t))!==void 0?e.mode===t?e:ia[e.mode][t]?ia[e.mode][t](e):t==="rgb"?ia[e.mode].rgb(e):ia.rgb[t](ia[e.mode].rgb(e)):void 0,ia={},S6={},Od=[],T6={},LC=t=>t,Yt=t=>(ia[t.mode]={...ia[t.mode],...t.toMode},Object.keys(t.fromMode||{}).forEach(e=>{ia[e]||(ia[e]={}),ia[e][t.mode]=t.fromMode[e]}),t.ranges||(t.ranges={}),t.difference||(t.difference={}),t.channels.forEach(e=>{if(t.ranges[e]===void 0&&(t.ranges[e]=[0,1]),!t.interpolate[e])throw new Error(`Missing interpolator for: ${e}`);typeof t.interpolate[e]=="function"&&(t.interpolate[e]={use:t.interpolate[e]}),t.interpolate[e].fixup||(t.interpolate[e].fixup=LC)}),S6[t.mode]=t,(t.parse||[]).forEach(e=>{NC(e,t.mode)}),x6(t.mode)),RC=t=>S6[t],NC=(t,e)=>{if(typeof t=="string"){if(!e)throw new Error("'mode' required when 'parser' is a string");T6[t]=e}else typeof t=="function"&&Od.indexOf(t)<0&&Od.push(t)},xg=/[^\x00-\x7F]|[a-zA-Z_]/,FC=/[^\x00-\x7F]|[-\w]/,ye={Function:"function",Ident:"ident",Number:"number",Percentage:"percentage",ParenClose:")",None:"none",Hue:"hue",Alpha:"alpha"};let ot=0;function ih(t){let e=t[ot],r=t[ot+1];return e==="-"||e==="+"?/\d/.test(r)||r==="."&&/\d/.test(t[ot+2]):e==="."?/\d/.test(r):/\d/.test(e)}function Sg(t){if(ot>=t.length)return!1;let e=t[ot];if(xg.test(e))return!0;if(e==="-"){if(t.length-ot<2)return!1;let r=t[ot+1];return!!(r==="-"||xg.test(r))}return!1}const zC={deg:1,rad:180/Math.PI,grad:9/10,turn:360};function Nl(t){let e="";if((t[ot]==="-"||t[ot]==="+")&&(e+=t[ot++]),e+=ah(t),t[ot]==="."&&/\d/.test(t[ot+1])&&(e+=t[ot++]+ah(t)),(t[ot]==="e"||t[ot]==="E")&&((t[ot+1]==="-"||t[ot+1]==="+")&&/\d/.test(t[ot+2])?e+=t[ot++]+t[ot++]+ah(t):/\d/.test(t[ot+1])&&(e+=t[ot++]+ah(t))),Sg(t)){let r=Pd(t);return r==="deg"||r==="rad"||r==="turn"||r==="grad"?{type:ye.Hue,value:e*zC[r]}:void 0}return t[ot]==="%"?(ot++,{type:ye.Percentage,value:+e}):{type:ye.Number,value:+e}}function ah(t){let e="";for(;/\d/.test(t[ot]);)e+=t[ot++];return e}function Pd(t){let e="";for(;ot<t.length&&FC.test(t[ot]);)e+=t[ot++];return e}function BC(t){let e=Pd(t);return t[ot]==="("?(ot++,{type:ye.Function,value:e}):e==="none"?{type:ye.None,value:void 0}:{type:ye.Ident,value:e}}function $C(t=""){let e=t.trim(),r=[],n;for(ot=0;ot<e.length;){if(n=e[ot++],n===`
`||n==="	"||n===" "){for(;ot<e.length&&(e[ot]===`
`||e[ot]==="	"||e[ot]===" ");)ot++;continue}if(n===",")return;if(n===")"){r.push({type:ye.ParenClose});continue}if(n==="+"){if(ot--,ih(e)){r.push(Nl(e));continue}return}if(n==="-"){if(ot--,ih(e)){r.push(Nl(e));continue}if(Sg(e)){r.push({type:ye.Ident,value:Pd(e)});continue}return}if(n==="."){if(ot--,ih(e)){r.push(Nl(e));continue}return}if(n==="/"){for(;ot<e.length&&(e[ot]===`
`||e[ot]==="	"||e[ot]===" ");)ot++;let i;if(ih(e)&&(i=Nl(e),i.type!==ye.Hue)){r.push({type:ye.Alpha,value:i});continue}if(Sg(e)&&Pd(e)==="none"){r.push({type:ye.Alpha,value:{type:ye.None,value:void 0}});continue}return}if(/\d/.test(n)){ot--,r.push(Nl(e));continue}if(xg.test(n)){ot--,r.push(BC(e));continue}return}return r}function VC(t){t._i=0;let e=t[t._i++];if(!e||e.type!==ye.Function||e.value!=="color"||(e=t[t._i++],e.type!==ye.Ident))return;const r=T6[e.value];if(!r)return;const n={mode:r},i=M6(t,!1);if(!i)return;const a=RC(r).channels;for(let o=0,s,u;o<a.length;o++)s=i[o],u=a[o],s.type!==ye.None&&(n[u]=s.type===ye.Number?s.value:s.value/100,u==="alpha"&&(n[u]=Math.max(0,Math.min(1,n[u]))));return n}function M6(t,e){const r=[];let n;for(;t._i<t.length;){if(n=t[t._i++],n.type===ye.None||n.type===ye.Number||n.type===ye.Alpha||n.type===ye.Percentage||e&&n.type===ye.Hue){r.push(n);continue}if(n.type===ye.ParenClose){if(t._i<t.length)return;continue}return}if(!(r.length<3||r.length>4)){if(r.length===4){if(r[3].type!==ye.Alpha)return;r[3]=r[3].value}return r.length===3&&r.push({type:ye.None,value:void 0}),r.every(i=>i.type!==ye.Alpha)?r:void 0}}function HC(t,e){t._i=0;let r=t[t._i++];if(!r||r.type!==ye.Function)return;let n=M6(t,e);if(n)return n.unshift(r.value),n}const GC=t=>{if(typeof t!="string")return;const e=$C(t),r=e?HC(e,!0):void 0;let n,i=0,a=Od.length;for(;i<a;)if((n=Od[i++](t,r))!==void 0)return n;return e?VC(e):void 0};function WC(t,e){if(!e||e[0]!=="rgb"&&e[0]!=="rgba")return;const r={mode:"rgb"},[,n,i,a,o]=e;if(!(n.type===ye.Hue||i.type===ye.Hue||a.type===ye.Hue))return n.type!==ye.None&&(r.r=n.type===ye.Number?n.value/255:n.value/100),i.type!==ye.None&&(r.g=i.type===ye.Number?i.value/255:i.value/100),a.type!==ye.None&&(r.b=a.type===ye.Number?a.value/255:a.value/100),o.type!==ye.None&&(r.alpha=Math.min(1,Math.max(0,o.type===ye.Number?o.value:o.value/100))),r}const UC=t=>t==="transparent"?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,qC=(t,e,r)=>t+r*(e-t),YC=t=>{let e=[];for(let r=0;r<t.length-1;r++){let n=t[r],i=t[r+1];n===void 0&&i===void 0?e.push(void 0):n!==void 0&&i!==void 0?e.push([n,i]):e.push(n!==void 0?[n,n]:[i,i])}return e},jC=t=>e=>{let r=YC(e);return n=>{let i=n*r.length,a=n>=1?r.length-1:Math.max(Math.floor(i),0),o=r[a];return o===void 0?void 0:t(o[0],o[1],i-a)}},Oe=jC(qC),Br=t=>{let e=!1,r=t.map(n=>n!==void 0?(e=!0,n):1);return e?r:t},al={mode:"rgb",channels:["r","g","b","alpha"],parse:[WC,AC,OC,DC,UC,"srgb"],serialize:"srgb",interpolate:{r:Oe,g:Oe,b:Oe,alpha:{use:Oe,fixup:Br}},gamut:!0,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},l1=(t=0)=>Math.pow(Math.abs(t),563/256)*Math.sign(t),F_=t=>{let e=l1(t.r),r=l1(t.g),n=l1(t.b),i={mode:"xyz65",x:.5766690429101305*e+.1855582379065463*r+.1882286462349947*n,y:.297344975250536*e+.6273635662554661*r+.0752914584939979*n,z:.0270313613864123*e+.0706888525358272*r+.9913375368376386*n};return t.alpha!==void 0&&(i.alpha=t.alpha),i},c1=t=>Math.pow(Math.abs(t),256/563)*Math.sign(t),z_=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i={mode:"a98",r:c1(t*2.0415879038107465-e*.5650069742788597-.3447313507783297*r),g:c1(t*-.9692436362808798+e*1.8759675015077206+.0415550574071756*r),b:c1(t*.0134442806320312-e*.1183623922310184+1.0151749943912058*r)};return n!==void 0&&(i.alpha=n),i},f1=(t=0)=>{const e=Math.abs(t);return e<=.04045?t/12.92:(Math.sign(t)||1)*Math.pow((e+.055)/1.055,2.4)},ol=({r:t,g:e,b:r,alpha:n})=>{let i={mode:"lrgb",r:f1(t),g:f1(e),b:f1(r)};return n!==void 0&&(i.alpha=n),i},zs=t=>{let{r:e,g:r,b:n,alpha:i}=ol(t),a={mode:"xyz65",x:.4123907992659593*e+.357584339383878*r+.1804807884018343*n,y:.2126390058715102*e+.715168678767756*r+.0721923153607337*n,z:.0193308187155918*e+.119194779794626*r+.9505321522496607*n};return i!==void 0&&(a.alpha=i),a},h1=(t=0)=>{const e=Math.abs(t);return e>.0031308?(Math.sign(t)||1)*(1.055*Math.pow(e,1/2.4)-.055):t*12.92},sl=({r:t,g:e,b:r,alpha:n},i="rgb")=>{let a={mode:i,r:h1(t),g:h1(e),b:h1(r)};return n!==void 0&&(a.alpha=n),a},Bs=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=sl({r:t*3.2409699419045226-e*1.537383177570094-.4986107602930034*r,g:t*-.9692436362808796+e*1.8759675015077204+.0415550574071756*r,b:t*.0556300796969936-e*.2039769588889765+1.0569715142428784*r});return n!==void 0&&(i.alpha=n),i},KC={...al,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:t=>z_(zs(t)),xyz65:z_},toMode:{rgb:t=>Bs(F_(t)),xyz65:F_}},en=t=>(t=t%360)<0?t+360:t,ZC=(t,e)=>t.map((r,n,i)=>{if(r===void 0)return r;let a=en(r);return n===0||t[n-1]===void 0?a:e(a-en(i[n-1]))}).reduce((r,n)=>!r.length||n===void 0||r[r.length-1]===void 0?(r.push(n),r):(r.push(n+r[r.length-1]),r),[]),qa=t=>ZC(t,e=>Math.abs(e)<=180?e:e-360*Math.sign(e)),Ur=[-.14861,1.78277,-.29227,-.90649,1.97294,0],XC=Math.PI/180,JC=180/Math.PI;let B_=Ur[3]*Ur[4],$_=Ur[1]*Ur[4],V_=Ur[1]*Ur[2]-Ur[0]*Ur[3];const QC=({r:t,g:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=(V_*r+t*B_-e*$_)/(V_+B_-$_),a=r-i,o=(Ur[4]*(e-i)-Ur[2]*a)/Ur[3],s={mode:"cubehelix",l:i,s:i===0||i===1?void 0:Math.sqrt(a*a+o*o)/(Ur[4]*i*(1-i))};return s.s&&(s.h=Math.atan2(o,a)*JC-120),n!==void 0&&(s.alpha=n),s},eA=({h:t,s:e,l:r,alpha:n})=>{let i={mode:"rgb"};t=(t===void 0?0:t+120)*XC,r===void 0&&(r=0);let a=e===void 0?0:e*r*(1-r),o=Math.cos(t),s=Math.sin(t);return i.r=r+a*(Ur[0]*o+Ur[1]*s),i.g=r+a*(Ur[2]*o+Ur[3]*s),i.b=r+a*(Ur[4]*o+Ur[5]*s),n!==void 0&&(i.alpha=n),i},Cv=(t,e)=>{if(t.h===void 0||e.h===void 0||!t.s||!e.s)return 0;let r=en(t.h),n=en(e.h),i=Math.sin((n-r+360)/2*Math.PI/180);return 2*Math.sqrt(t.s*e.s)*i},tA=(t,e)=>{if(t.h===void 0||e.h===void 0)return 0;let r=en(t.h),n=en(e.h);return Math.abs(n-r)>180?r-(n-360*Math.sign(n-r)):n-r},Av=(t,e)=>{if(t.h===void 0||e.h===void 0||!t.c||!e.c)return 0;let r=en(t.h),n=en(e.h),i=Math.sin((n-r+360)/2*Math.PI/180);return 2*Math.sqrt(t.c*e.c)*i},Ya=t=>{let e=t.reduce((n,i)=>{if(i!==void 0){let a=i*Math.PI/180;n.sin+=Math.sin(a),n.cos+=Math.cos(a)}return n},{sin:0,cos:0}),r=Math.atan2(e.sin,e.cos)*180/Math.PI;return r<0?360+r:r},rA={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:QC},toMode:{rgb:eA},interpolate:{h:{use:Oe,fixup:qa},s:Oe,l:Oe,alpha:{use:Oe,fixup:Br}},difference:{h:Cv},average:{h:Ya}},Eo=({l:t,a:e,b:r,alpha:n},i="lch")=>{e===void 0&&(e=0),r===void 0&&(r=0);let a=Math.sqrt(e*e+r*r),o={mode:i,l:t,c:a};return a&&(o.h=en(Math.atan2(r,e)*180/Math.PI)),n!==void 0&&(o.alpha=n),o},ko=({l:t,c:e,h:r,alpha:n},i="lab")=>{r===void 0&&(r=0);let a={mode:i,l:t,a:e?e*Math.cos(r/180*Math.PI):0,b:e?e*Math.sin(r/180*Math.PI):0};return n!==void 0&&(a.alpha=n),a},D6=Math.pow(29,3)/Math.pow(3,3),C6=Math.pow(6,3)/Math.pow(29,3),Rr={X:.3457/.3585,Y:1,Z:(1-.3457-.3585)/.3585},Lu={X:.3127/.329,Y:1,Z:(1-.3127-.329)/.329};let d1=t=>Math.pow(t,3)>C6?Math.pow(t,3):(116*t-16)/D6;const A6=({l:t,a:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=(t+16)/116,a=e/500+i,o=i-r/200,s={mode:"xyz65",x:d1(a)*Lu.X,y:d1(i)*Lu.Y,z:d1(o)*Lu.Z};return n!==void 0&&(s.alpha=n),s},Iv=t=>Bs(A6(t)),v1=t=>t>C6?Math.cbrt(t):(D6*t+16)/116,I6=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=v1(t/Lu.X),a=v1(e/Lu.Y),o=v1(r/Lu.Z),s={mode:"lab65",l:116*a-16,a:500*(i-a),b:200*(a-o)};return n!==void 0&&(s.alpha=n),s},Ev=t=>{let e=I6(zs(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},Ld=1,E6=1,Wc=26/180*Math.PI,Rd=Math.cos(Wc),Nd=Math.sin(Wc),k6=100/Math.log(139/100),Tg=({l:t,c:e,h:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i={mode:"lab65",l:(Math.exp(t*Ld/k6)-1)/.0039},a=(Math.exp(.0435*e*E6*Ld)-1)/.075,o=a*Math.cos(r/180*Math.PI-Wc),s=a*Math.sin(r/180*Math.PI-Wc);return i.a=o*Rd-s/.83*Nd,i.b=o*Nd+s/.83*Rd,n!==void 0&&(i.alpha=n),i},Mg=({l:t,a:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=e*Rd+r*Nd,a=.83*(r*Rd-e*Nd),o=Math.sqrt(i*i+a*a),s={mode:"dlch",l:k6/Ld*Math.log(1+.0039*t),c:Math.log(1+.075*o)/(.0435*E6*Ld)};return s.c&&(s.h=en((Math.atan2(a,i)+Wc)/Math.PI*180)),n!==void 0&&(s.alpha=n),s},H_=t=>Tg(Eo(t,"dlch")),G_=t=>ko(Mg(t),"dlab"),nA={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:H_,rgb:t=>Iv(H_(t))},fromMode:{lab65:G_,rgb:t=>G_(Ev(t))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:Oe,a:Oe,b:Oe,alpha:{use:Oe,fixup:Br}}},iA={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:Tg,dlab:t=>ko(t,"dlab"),rgb:t=>Iv(Tg(t))},fromMode:{lab65:Mg,dlab:t=>Eo(t,"dlch"),rgb:t=>Mg(Ev(t))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:Oe,c:Oe,h:{use:Oe,fixup:qa},alpha:{use:Oe,fixup:Br}},difference:{h:Av},average:{h:Ya}};function aA({h:t,s:e,i:r,alpha:n}){t=en(t!==void 0?t:0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.abs(t/60%2-1),a;switch(Math.floor(t/60)){case 0:a={r:r*(1+e*(3/(2-i)-1)),g:r*(1+e*(3*(1-i)/(2-i)-1)),b:r*(1-e)};break;case 1:a={r:r*(1+e*(3*(1-i)/(2-i)-1)),g:r*(1+e*(3/(2-i)-1)),b:r*(1-e)};break;case 2:a={r:r*(1-e),g:r*(1+e*(3/(2-i)-1)),b:r*(1+e*(3*(1-i)/(2-i)-1))};break;case 3:a={r:r*(1-e),g:r*(1+e*(3*(1-i)/(2-i)-1)),b:r*(1+e*(3/(2-i)-1))};break;case 4:a={r:r*(1+e*(3*(1-i)/(2-i)-1)),g:r*(1-e),b:r*(1+e*(3/(2-i)-1))};break;case 5:a={r:r*(1+e*(3/(2-i)-1)),g:r*(1-e),b:r*(1+e*(3*(1-i)/(2-i)-1))};break;default:a={r:r*(1-e),g:r*(1-e),b:r*(1-e)}}return a.mode="rgb",n!==void 0&&(a.alpha=n),a}function oA({r:t,g:e,b:r,alpha:n}){t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.max(t,e,r),a=Math.min(t,e,r),o={mode:"hsi",s:t+e+r===0?0:1-3*a/(t+e+r),i:(t+e+r)/3};return i-a!==0&&(o.h=(i===t?(e-r)/(i-a)+(e<r)*6:i===e?(r-t)/(i-a)+2:(t-e)/(i-a)+4)*60),n!==void 0&&(o.alpha=n),o}const sA={mode:"hsi",toMode:{rgb:aA},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:oA},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:Oe,fixup:qa},s:Oe,i:Oe,alpha:{use:Oe,fixup:Br}},difference:{h:Cv},average:{h:Ya}};function uA({h:t,s:e,l:r,alpha:n}){t=en(t!==void 0?t:0),e===void 0&&(e=0),r===void 0&&(r=0);let i=r+e*(r<.5?r:1-r),a=i-(i-r)*2*Math.abs(t/60%2-1),o;switch(Math.floor(t/60)){case 0:o={r:i,g:a,b:2*r-i};break;case 1:o={r:a,g:i,b:2*r-i};break;case 2:o={r:2*r-i,g:i,b:a};break;case 3:o={r:2*r-i,g:a,b:i};break;case 4:o={r:a,g:2*r-i,b:i};break;case 5:o={r:i,g:2*r-i,b:a};break;default:o={r:2*r-i,g:2*r-i,b:2*r-i}}return o.mode="rgb",n!==void 0&&(o.alpha=n),o}function lA({r:t,g:e,b:r,alpha:n}){t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.max(t,e,r),a=Math.min(t,e,r),o={mode:"hsl",s:i===a?0:(i-a)/(1-Math.abs(i+a-1)),l:.5*(i+a)};return i-a!==0&&(o.h=(i===t?(e-r)/(i-a)+(e<r)*6:i===e?(r-t)/(i-a)+2:(t-e)/(i-a)+4)*60),n!==void 0&&(o.alpha=n),o}const cA=(t,e)=>{switch(e){case"deg":return+t;case"rad":return t/Math.PI*180;case"grad":return t/10*9;case"turn":return t*360}},fA=new RegExp(`^hsla?\\(\\s*${IC}${Ku}${xc}${Ku}${xc}\\s*(?:,\\s*${yy}\\s*)?\\)$`),hA=t=>{let e=t.match(fA);if(!e)return;let r={mode:"hsl"};return e[3]!==void 0?r.h=+e[3]:e[1]!==void 0&&e[2]!==void 0&&(r.h=cA(e[1],e[2])),e[4]!==void 0&&(r.s=Math.min(Math.max(0,e[4]/100),1)),e[5]!==void 0&&(r.l=Math.min(Math.max(0,e[5]/100),1)),e[6]!==void 0?r.alpha=Math.max(0,Math.min(1,e[6]/100)):e[7]!==void 0&&(r.alpha=Math.max(0,Math.min(1,+e[7]))),r};function dA(t,e){if(!e||e[0]!=="hsl"&&e[0]!=="hsla")return;const r={mode:"hsl"},[,n,i,a,o]=e;if(n.type!==ye.None){if(n.type===ye.Percentage)return;r.h=n.value}if(i.type!==ye.None){if(i.type===ye.Hue)return;r.s=i.value/100}if(a.type!==ye.None){if(a.type===ye.Hue)return;r.l=a.value/100}return o.type!==ye.None&&(r.alpha=Math.min(1,Math.max(0,o.type===ye.Number?o.value:o.value/100))),r}const O6={mode:"hsl",toMode:{rgb:uA},fromMode:{rgb:lA},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[dA,hA],serialize:t=>`hsl(${t.h!==void 0?t.h:"none"} ${t.s!==void 0?t.s*100+"%":"none"} ${t.l!==void 0?t.l*100+"%":"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:Oe,fixup:qa},s:Oe,l:Oe,alpha:{use:Oe,fixup:Br}},difference:{h:Cv},average:{h:Ya}};function P6({h:t,s:e,v:r,alpha:n}){t=en(t!==void 0?t:0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.abs(t/60%2-1),a;switch(Math.floor(t/60)){case 0:a={r,g:r*(1-e*i),b:r*(1-e)};break;case 1:a={r:r*(1-e*i),g:r,b:r*(1-e)};break;case 2:a={r:r*(1-e),g:r,b:r*(1-e*i)};break;case 3:a={r:r*(1-e),g:r*(1-e*i),b:r};break;case 4:a={r:r*(1-e*i),g:r*(1-e),b:r};break;case 5:a={r,g:r*(1-e),b:r*(1-e*i)};break;default:a={r:r*(1-e),g:r*(1-e),b:r*(1-e)}}return a.mode="rgb",n!==void 0&&(a.alpha=n),a}function L6({r:t,g:e,b:r,alpha:n}){t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.max(t,e,r),a=Math.min(t,e,r),o={mode:"hsv",s:i===0?0:1-a/i,v:i};return i-a!==0&&(o.h=(i===t?(e-r)/(i-a)+(e<r)*6:i===e?(r-t)/(i-a)+2:(t-e)/(i-a)+4)*60),n!==void 0&&(o.alpha=n),o}const R6={mode:"hsv",toMode:{rgb:P6},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:L6},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:Oe,fixup:qa},s:Oe,v:Oe,alpha:{use:Oe,fixup:Br}},difference:{h:Cv},average:{h:Ya}};function vA({h:t,w:e,b:r,alpha:n}){if(e===void 0&&(e=0),r===void 0&&(r=0),e+r>1){let i=e+r;e/=i,r/=i}return P6({h:t,s:r===1?1:1-e/(1-r),v:1-r,alpha:n})}function pA(t){let e=L6(t);if(e===void 0)return;let r=e.s!==void 0?e.s:0,n=e.v!==void 0?e.v:0,i={mode:"hwb",w:(1-r)*n,b:1-n};return e.h!==void 0&&(i.h=e.h),e.alpha!==void 0&&(i.alpha=e.alpha),i}function gA(t,e){if(!e||e[0]!=="hwb")return;const r={mode:"hwb"},[,n,i,a,o]=e;if(n.type!==ye.None){if(n.type===ye.Percentage)return;r.h=n.value}if(i.type!==ye.None){if(i.type===ye.Hue)return;r.w=i.value/100}if(a.type!==ye.None){if(a.type===ye.Hue)return;r.b=a.value/100}return o.type!==ye.None&&(r.alpha=Math.min(1,Math.max(0,o.type===ye.Number?o.value:o.value/100))),r}const mA={mode:"hwb",toMode:{rgb:vA},fromMode:{rgb:pA},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[gA],serialize:t=>`hwb(${t.h!==void 0?t.h:"none"} ${t.w!==void 0?t.w*100+"%":"none"} ${t.b!==void 0?t.b*100+"%":"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:Oe,fixup:qa},w:Oe,b:Oe,alpha:{use:Oe,fixup:Br}},difference:{h:tA},average:{h:Ya}},N6=203,kv=.1593017578125,F6=78.84375,Ov=.8359375,Pv=18.8515625,Lv=18.6875;function p1(t){if(t<0)return 0;const e=Math.pow(t,1/F6);return 1e4*Math.pow(Math.max(0,e-Ov)/(Pv-Lv*e),1/kv)}function g1(t){if(t<0)return 0;const e=Math.pow(t/1e4,kv);return Math.pow((Ov+Pv*e)/(1+Lv*e),F6)}const m1=t=>Math.max(t/N6,0),W_=({i:t,t:e,p:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);const i=p1(t+.008609037037932761*e+.11102962500302593*r),a=p1(t-.00860903703793275*e-.11102962500302599*r),o=p1(t+.5600313357106791*e-.32062717498731885*r),s={mode:"xyz65",x:m1(2.070152218389422*i-1.3263473389671556*a+.2066510476294051*o),y:m1(.3647385209748074*i+.680566024947227*a-.0453045459220346*o),z:m1(-.049747207535812*i-.0492609666966138*a+1.1880659249923042*o)};return n!==void 0&&(s.alpha=n),s},y1=(t=0)=>Math.max(t*N6,0),U_=({x:t,y:e,z:r,alpha:n})=>{const i=y1(t),a=y1(e),o=y1(r),s=g1(.3592832590121217*i+.6976051147779502*a-.0358915932320289*o),u=g1(-.1920808463704995*i+1.1004767970374323*a+.0753748658519118*o),l=g1(.0070797844607477*i+.0748396662186366*a+.8433265453898765*o),c=.5*s+.5*u,f=1.61376953125*s-3.323486328125*u+1.709716796875*l,h=4.378173828125*s-4.24560546875*u-.132568359375*l,d={mode:"itp",i:c,t:f,p:h};return n!==void 0&&(d.alpha=n),d},yA={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:W_,rgb:t=>Bs(W_(t))},fromMode:{xyz65:U_,rgb:t=>U_(zs(t))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:Oe,t:Oe,p:Oe,alpha:{use:Oe,fixup:Br}}},_A=134.03437499999998,bA=16295499532821565e-27,_1=t=>{if(t<0)return 0;let e=Math.pow(t/1e4,kv);return Math.pow((Ov+Pv*e)/(1+Lv*e),_A)},b1=(t=0)=>Math.max(t*203,0),z6=({x:t,y:e,z:r,alpha:n})=>{t=b1(t),e=b1(e),r=b1(r);let i=1.15*t-.15*r,a=.66*e+.34*t,o=_1(.41478972*i+.579999*a+.014648*r),s=_1(-.20151*i+1.120649*a+.0531008*r),u=_1(-.0166008*i+.2648*a+.6684799*r),l=(o+s)/2,c={mode:"jab",j:.44*l/(1-.56*l)-bA,a:3.524*o-4.066708*s+.542708*u,b:.199076*o+1.096799*s-1.295875*u};return n!==void 0&&(c.alpha=n),c},wA=134.03437499999998,q_=16295499532821565e-27,w1=t=>{if(t<0)return 0;let e=Math.pow(t,1/wA);return 1e4*Math.pow((Ov-e)/(Lv*e-Pv),1/kv)},x1=t=>t/203,B6=({j:t,a:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=(t+q_)/(.44+.56*(t+q_)),a=w1(i+.13860504*e+.058047316*r),o=w1(i-.13860504*e-.058047316*r),s=w1(i-.096019242*e-.8118919*r),u={mode:"xyz65",x:x1(1.661373024652174*a-.914523081304348*o+.23136208173913045*s),y:x1(-.3250758611844533*a+1.571847026732543*o-.21825383453227928*s),z:x1(-.090982811*a-.31272829*o+1.5227666*s)};return n!==void 0&&(u.alpha=n),u},$6=t=>{let e=z6(zs(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},V6=t=>Bs(B6(t)),xA={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:$6,xyz65:z6},toMode:{rgb:V6,xyz65:B6},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:Oe,a:Oe,b:Oe,alpha:{use:Oe,fixup:Br}}},Y_=({j:t,a:e,b:r,alpha:n})=>{e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.sqrt(e*e+r*r),a={mode:"jch",j:t,c:i};return i&&(a.h=en(Math.atan2(r,e)*180/Math.PI)),n!==void 0&&(a.alpha=n),a},j_=({j:t,c:e,h:r,alpha:n})=>{r===void 0&&(r=0);let i={mode:"jab",j:t,a:e?e*Math.cos(r/180*Math.PI):0,b:e?e*Math.sin(r/180*Math.PI):0};return n!==void 0&&(i.alpha=n),i},SA={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:j_,rgb:t=>V6(j_(t))},fromMode:{rgb:t=>Y_($6(t)),jab:Y_},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:Oe,fixup:qa},c:Oe,j:Oe,alpha:{use:Oe,fixup:Br}},difference:{h:Av},average:{h:Ya}},Rv=Math.pow(29,3)/Math.pow(3,3),_y=Math.pow(6,3)/Math.pow(29,3);let S1=t=>Math.pow(t,3)>_y?Math.pow(t,3):(116*t-16)/Rv;const by=({l:t,a:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=(t+16)/116,a=e/500+i,o=i-r/200,s={mode:"xyz50",x:S1(a)*Rr.X,y:S1(i)*Rr.Y,z:S1(o)*Rr.Z};return n!==void 0&&(s.alpha=n),s},wf=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=sl({r:t*3.1341359569958707-e*1.6173863321612538-.4906619460083532*r,g:t*-.978795502912089+e*1.916254567259524+.03344273116131949*r,b:t*.07195537988411677-e*.2289768264158322+1.405386058324125*r});return n!==void 0&&(i.alpha=n),i},H6=t=>wf(by(t)),xf=t=>{let{r:e,g:r,b:n,alpha:i}=ol(t),a={mode:"xyz50",x:.436065742824811*e+.3851514688337912*r+.14307845442264197*n,y:.22249319175623702*e+.7168870538238823*r+.06061979053616537*n,z:.013923904500943465*e+.09708128566574634*r+.7140993584005155*n};return i!==void 0&&(a.alpha=i),a},T1=t=>t>_y?Math.cbrt(t):(Rv*t+16)/116,wy=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=T1(t/Rr.X),a=T1(e/Rr.Y),o=T1(r/Rr.Z),s={mode:"lab",l:116*a-16,a:500*(i-a),b:200*(a-o)};return n!==void 0&&(s.alpha=n),s},G6=t=>{let e=wy(xf(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e};function TA(t,e){if(!e||e[0]!=="lab")return;const r={mode:"lab"},[,n,i,a,o]=e;if(!(n.type===ye.Hue||i.type===ye.Hue||a.type===ye.Hue))return n.type!==ye.None&&(r.l=Math.min(Math.max(0,n.value),100)),i.type!==ye.None&&(r.a=i.type===ye.Number?i.value:i.value*125/100),a.type!==ye.None&&(r.b=a.type===ye.Number?a.value:a.value*125/100),o.type!==ye.None&&(r.alpha=Math.min(1,Math.max(0,o.type===ye.Number?o.value:o.value/100))),r}const xy={mode:"lab",toMode:{xyz50:by,rgb:H6},fromMode:{xyz50:wy,rgb:G6},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-125,125],b:[-125,125]},parse:[TA],serialize:t=>`lab(${t.l!==void 0?t.l:"none"} ${t.a!==void 0?t.a:"none"} ${t.b!==void 0?t.b:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{l:Oe,a:Oe,b:Oe,alpha:{use:Oe,fixup:Br}}},MA={...xy,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:A6,rgb:Iv},fromMode:{xyz65:I6,rgb:Ev},ranges:{l:[0,100],a:[-125,125],b:[-125,125]}};function DA(t,e){if(!e||e[0]!=="lch")return;const r={mode:"lch"},[,n,i,a,o]=e;if(n.type!==ye.None){if(n.type===ye.Hue)return;r.l=Math.min(Math.max(0,n.value),100)}if(i.type!==ye.None&&(r.c=Math.max(0,i.type===ye.Number?i.value:i.value*150/100)),a.type!==ye.None){if(a.type===ye.Percentage)return;r.h=a.value}return o.type!==ye.None&&(r.alpha=Math.min(1,Math.max(0,o.type===ye.Number?o.value:o.value/100))),r}const Sy={mode:"lch",toMode:{lab:ko,rgb:t=>H6(ko(t))},fromMode:{rgb:t=>Eo(G6(t)),lab:Eo},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[DA],serialize:t=>`lch(${t.l!==void 0?t.l:"none"} ${t.c!==void 0?t.c:"none"} ${t.h!==void 0?t.h:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:Oe,fixup:qa},c:Oe,l:Oe,alpha:{use:Oe,fixup:Br}},difference:{h:Av},average:{h:Ya}},CA={...Sy,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:t=>ko(t,"lab65"),rgb:t=>Iv(ko(t,"lab65"))},fromMode:{rgb:t=>Eo(Ev(t),"lch65"),lab65:t=>Eo(t,"lch65")},ranges:{l:[0,100],c:[0,150],h:[0,360]}},W6=({l:t,u:e,v:r,alpha:n})=>{e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.sqrt(e*e+r*r),a={mode:"lchuv",l:t,c:i};return i&&(a.h=en(Math.atan2(r,e)*180/Math.PI)),n!==void 0&&(a.alpha=n),a},U6=({l:t,c:e,h:r,alpha:n})=>{r===void 0&&(r=0);let i={mode:"luv",l:t,u:e?e*Math.cos(r/180*Math.PI):0,v:e?e*Math.sin(r/180*Math.PI):0};return n!==void 0&&(i.alpha=n),i},q6=(t,e,r)=>4*t/(t+15*e+3*r),Y6=(t,e,r)=>9*e/(t+15*e+3*r),AA=q6(Rr.X,Rr.Y,Rr.Z),IA=Y6(Rr.X,Rr.Y,Rr.Z),EA=t=>t<=_y?Rv*t:116*Math.cbrt(t)-16,Dg=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=EA(e/Rr.Y),a=q6(t,e,r),o=Y6(t,e,r);!isFinite(a)||!isFinite(o)?i=a=o=0:(a=13*i*(a-AA),o=13*i*(o-IA));let s={mode:"luv",l:i,u:a,v:o};return n!==void 0&&(s.alpha=n),s},kA=(t,e,r)=>4*t/(t+15*e+3*r),OA=(t,e,r)=>9*e/(t+15*e+3*r),PA=kA(Rr.X,Rr.Y,Rr.Z),LA=OA(Rr.X,Rr.Y,Rr.Z),Cg=({l:t,u:e,v:r,alpha:n})=>{if(t===void 0&&(t=0),t===0)return{mode:"xyz50",x:0,y:0,z:0};e===void 0&&(e=0),r===void 0&&(r=0);let i=e/(13*t)+PA,a=r/(13*t)+LA,o=Rr.Y*(t<=8?t/Rv:Math.pow((t+16)/116,3)),s=o*(9*i)/(4*a),u=o*(12-3*i-20*a)/(4*a),l={mode:"xyz50",x:s,y:o,z:u};return n!==void 0&&(l.alpha=n),l},RA=t=>W6(Dg(xf(t))),NA=t=>wf(Cg(U6(t))),FA={mode:"lchuv",toMode:{luv:U6,rgb:NA},fromMode:{rgb:RA,luv:W6},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:Oe,fixup:qa},c:Oe,l:Oe,alpha:{use:Oe,fixup:Br}},difference:{h:Av},average:{h:Ya}},zA={...al,mode:"lrgb",toMode:{rgb:sl},fromMode:{rgb:ol},parse:["srgb-linear"],serialize:"srgb-linear"},BA={mode:"luv",toMode:{xyz50:Cg,rgb:t=>wf(Cg(t))},fromMode:{xyz50:Dg,rgb:t=>Dg(xf(t))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:Oe,u:Oe,v:Oe,alpha:{use:Oe,fixup:Br}}},j6=({r:t,g:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.cbrt(.412221469470763*t+.5363325372617348*e+.0514459932675022*r),a=Math.cbrt(.2119034958178252*t+.6806995506452344*e+.1073969535369406*r),o=Math.cbrt(.0883024591900564*t+.2817188391361215*e+.6299787016738222*r),s={mode:"oklab",l:.210454268309314*i+.7936177747023054*a-.0040720430116193*o,a:1.9779985324311684*i-2.42859224204858*a+.450593709617411*o,b:.0259040424655478*i+.7827717124575296*a-.8086757549230774*o};return n!==void 0&&(s.alpha=n),s},Nv=t=>{let e=j6(ol(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},Sf=({l:t,a:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.pow(t+.3963377773761749*e+.2158037573099136*r,3),a=Math.pow(t-.1055613458156586*e-.0638541728258133*r,3),o=Math.pow(t-.0894841775298119*e-1.2914855480194092*r,3),s={mode:"lrgb",r:4.076741636075957*i-3.3077115392580616*a+.2309699031821044*o,g:-1.2684379732850317*i+2.6097573492876887*a-.3413193760026573*o,b:-.0041960761386756*i-.7034186179359362*a+1.7076146940746117*o};return n!==void 0&&(s.alpha=n),s},Fv=t=>sl(Sf(t));function Ag(t){const n=1.170873786407767;return .5*(n*t-.206+Math.sqrt((n*t-.206)*(n*t-.206)+4*.03*n*t))}function Fd(t){return(t*t+.206*t)/(1.170873786407767*(t+.03))}function $A(t,e){let r,n,i,a,o,s,u,l;-1.88170328*t-.80936493*e>1?(r=1.19086277,n=1.76576728,i=.59662641,a=.75515197,o=.56771245,s=4.0767416621,u=-3.3077115913,l=.2309699292):1.81444104*t-1.19445276*e>1?(r=.73956515,n=-.45954404,i=.08285427,a=.1254107,o=.14503204,s=-1.2684380046,u=2.6097574011,l=-.3413193965):(r=1.35733652,n=-.00915799,i=-1.1513021,a=-.50559606,o=.00692167,s=-.0041960863,u=-.7034186147,l=1.707614701);let c=r+n*t+i*e+a*t*t+o*t*e,f=.3963377774*t+.2158037573*e,h=-.1055613458*t-.0638541728*e,d=-.0894841775*t-1.291485548*e;{let v=1+c*f,g=1+c*h,m=1+c*d,y=v*v*v,b=g*g*g,w=m*m*m,S=3*f*v*v,D=3*h*g*g,M=3*d*m*m,A=6*f*f*v,k=6*h*h*g,O=6*d*d*m,P=s*y+u*b+l*w,R=s*S+u*D+l*M,H=s*A+u*k+l*O;c=c-P*R/(R*R-.5*P*H)}return c}function Ty(t,e){let r=$A(t,e),n=Sf({l:1,a:r*t,b:r*e}),i=Math.cbrt(1/Math.max(n.r,n.g,n.b)),a=i*r;return[i,a]}function VA(t,e,r,n,i,a=null){a||(a=Ty(t,e));let o;if((r-i)*a[1]-(a[0]-i)*n<=0)o=a[1]*i/(n*a[0]+a[1]*(i-r));else{o=a[1]*(i-1)/(n*(a[0]-1)+a[1]*(i-r));{let s=r-i,u=n,l=.3963377774*t+.2158037573*e,c=-.1055613458*t-.0638541728*e,f=-.0894841775*t-1.291485548*e,h=s+u*l,d=s+u*c,v=s+u*f;{let g=i*(1-o)+o*r,m=o*n,y=g+m*l,b=g+m*c,w=g+m*f,S=y*y*y,D=b*b*b,M=w*w*w,A=3*h*y*y,k=3*d*b*b,O=3*v*w*w,P=6*h*h*y,R=6*d*d*b,H=6*v*v*w,z=4.0767416621*S-3.3077115913*D+.2309699292*M-1,W=4.0767416621*A-3.3077115913*k+.2309699292*O,ee=4.0767416621*P-3.3077115913*R+.2309699292*H,ne=W/(W*W-.5*z*ee),he=-z*ne,X=-1.2684380046*S+2.6097574011*D-.3413193965*M-1,te=-1.2684380046*A+2.6097574011*k-.3413193965*O,oe=-1.2684380046*P+2.6097574011*R-.3413193965*H,Q=te/(te*te-.5*X*oe),ue=-X*Q,pe=-.0041960863*S-.7034186147*D+1.707614701*M-1,Ee=-.0041960863*A-.7034186147*k+1.707614701*O,Be=-.0041960863*P-.7034186147*R+1.707614701*H,Ye=Ee/(Ee*Ee-.5*pe*Be),Ke=-pe*Ye;he=ne>=0?he:1e6,ue=Q>=0?ue:1e6,Ke=Ye>=0?Ke:1e6,o+=Math.min(he,Math.min(ue,Ke))}}}return o}function My(t,e,r=null){r||(r=Ty(t,e));let n=r[0],i=r[1];return[i/n,i/(1-n)]}function K6(t,e,r){let n=Ty(e,r),i=VA(e,r,t,1,t,n),a=My(e,r,n),o=.11516993+1/(7.4477897+4.1590124*r+e*(-2.19557347+1.75198401*r+e*(-2.13704948-10.02301043*r+e*(-4.24894561+5.38770819*r+4.69891013*e)))),s=.11239642+1/(1.6132032-.68124379*r+e*(.40370612+.90148123*r+e*(-.27087943+.6122399*r+e*(.00299215-.45399568*r-.14661872*e)))),u=i/Math.min(t*a[0],(1-t)*a[1]),l=t*o,c=(1-t)*s,f=.9*u*Math.sqrt(Math.sqrt(1/(1/(l*l*l*l)+1/(c*c*c*c))));return l=t*.4,c=(1-t)*.8,[Math.sqrt(1/(1/(l*l)+1/(c*c))),f,i]}function K_(t){const e=t.l!==void 0?t.l:0,r=t.a!==void 0?t.a:0,n=t.b!==void 0?t.b:0,i={mode:"okhsl",l:Ag(e)};t.alpha!==void 0&&(i.alpha=t.alpha);let a=Math.sqrt(r*r+n*n);if(!a)return i.s=0,i;let[o,s,u]=K6(e,r/a,n/a),l;if(a<s){let c=0,f=.8*o,h=1-f/s;l=(a-c)/(f+h*(a-c))*.8}else{let c=s,f=.2*s*s*1.25*1.25/o,h=1-f/(u-s);l=.8+.2*((a-c)/(f+h*(a-c)))}return l&&(i.s=l,i.h=en(Math.atan2(n,r)*180/Math.PI)),i}function Z_(t){let e=t.h!==void 0?t.h:0,r=t.s!==void 0?t.s:0,n=t.l!==void 0?t.l:0;const i={mode:"oklab",l:Fd(n)};if(t.alpha!==void 0&&(i.alpha=t.alpha),!r||n===1)return i.a=i.b=0,i;let a=Math.cos(e/180*Math.PI),o=Math.sin(e/180*Math.PI),[s,u,l]=K6(i.l,a,o),c,f,h,d;r<.8?(c=1.25*r,f=0,h=.8*s,d=1-h/u):(c=5*(r-.8),f=u,h=.2*u*u*1.25*1.25/s,d=1-h/(l-u));let v=f+c*h/(1-d*c);return i.a=v*a,i.b=v*o,i}const HA={...O6,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:K_,rgb:t=>K_(Nv(t))},toMode:{oklab:Z_,rgb:t=>Fv(Z_(t))}};function X_(t){let e=t.l!==void 0?t.l:0,r=t.a!==void 0?t.a:0,n=t.b!==void 0?t.b:0,i=Math.sqrt(r*r+n*n),a=i?r/i:1,o=i?n/i:1,[s,u]=My(a,o),l=.5,c=1-l/s,f=u/(i+e*u),h=f*e,d=f*i,v=Fd(h),g=d*v/h,m=Sf({l:v,a:a*g,b:o*g}),y=Math.cbrt(1/Math.max(m.r,m.g,m.b,0));e=e/y,i=i/y*Ag(e)/e,e=Ag(e);const b={mode:"okhsv",s:i?(l+u)*d/(u*l+u*c*d):0,v:e?e/h:0};return b.s&&(b.h=en(Math.atan2(n,r)*180/Math.PI)),t.alpha!==void 0&&(b.alpha=t.alpha),b}function J_(t){const e={mode:"oklab"};t.alpha!==void 0&&(e.alpha=t.alpha);const r=t.h!==void 0?t.h:0,n=t.s!==void 0?t.s:0,i=t.v!==void 0?t.v:0,a=Math.cos(r/180*Math.PI),o=Math.sin(r/180*Math.PI),[s,u]=My(a,o),l=.5,c=1-l/s,f=1-n*l/(l+u-u*c*n),h=n*u*l/(l+u-u*c*n),d=Fd(f),v=h*d/f,g=Sf({l:d,a:a*v,b:o*v}),m=Math.cbrt(1/Math.max(g.r,g.g,g.b,0)),y=Fd(i*f),b=h*y/f;return e.l=y*m,e.a=b*a*m,e.b=b*o*m,e}const GA={...R6,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:X_,rgb:t=>X_(Nv(t))},toMode:{oklab:J_,rgb:t=>Fv(J_(t))}};function WA(t,e){if(!e||e[0]!=="oklab")return;const r={mode:"oklab"},[,n,i,a,o]=e;if(!(n.type===ye.Hue||i.type===ye.Hue||a.type===ye.Hue))return n.type!==ye.None&&(r.l=Math.min(Math.max(0,n.type===ye.Number?n.value:n.value/100),1)),i.type!==ye.None&&(r.a=i.type===ye.Number?i.value:i.value*.4/100),a.type!==ye.None&&(r.b=a.type===ye.Number?a.value:a.value*.4/100),o.type!==ye.None&&(r.alpha=Math.min(1,Math.max(0,o.type===ye.Number?o.value:o.value/100))),r}const UA={...xy,mode:"oklab",toMode:{lrgb:Sf,rgb:Fv},fromMode:{lrgb:j6,rgb:Nv},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[WA],serialize:t=>`oklab(${t.l!==void 0?t.l:"none"} ${t.a!==void 0?t.a:"none"} ${t.b!==void 0?t.b:"none"}${t.alpha<1?` / ${t.alpha}`:""})`};function qA(t,e){if(!e||e[0]!=="oklch")return;const r={mode:"oklch"},[,n,i,a,o]=e;if(n.type!==ye.None){if(n.type===ye.Hue)return;r.l=Math.min(Math.max(0,n.type===ye.Number?n.value:n.value/100),1)}if(i.type!==ye.None&&(r.c=Math.max(0,i.type===ye.Number?i.value:i.value*.4/100)),a.type!==ye.None){if(a.type===ye.Percentage)return;r.h=a.value}return o.type!==ye.None&&(r.alpha=Math.min(1,Math.max(0,o.type===ye.Number?o.value:o.value/100))),r}const YA={...Sy,mode:"oklch",toMode:{oklab:t=>ko(t,"oklab"),rgb:t=>Fv(ko(t,"oklab"))},fromMode:{rgb:t=>Eo(Nv(t),"oklch"),oklab:t=>Eo(t,"oklch")},parse:[qA],serialize:t=>`oklch(${t.l!==void 0?t.l:"none"} ${t.c!==void 0?t.c:"none"} ${t.h!==void 0?t.h:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},Q_=t=>{let{r:e,g:r,b:n,alpha:i}=ol(t),a={mode:"xyz65",x:.486570948648216*e+.265667693169093*r+.1982172852343625*n,y:.2289745640697487*e+.6917385218365062*r+.079286914093745*n,z:0*e+.0451133818589026*r+1.043944368900976*n};return i!==void 0&&(a.alpha=i),a},eb=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=sl({r:t*2.4934969119414263-e*.9313836179191242-.402710784450717*r,g:t*-.8294889695615749+e*1.7626640603183465+.0236246858419436*r,b:t*.0358458302437845-e*.0761723892680418+.9568845240076871*r},"p3");return n!==void 0&&(i.alpha=n),i},jA={...al,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:t=>eb(zs(t)),xyz65:eb},toMode:{rgb:t=>Bs(Q_(t)),xyz65:Q_}},M1=t=>{let e=Math.abs(t);return e>=1/512?Math.sign(t)*Math.pow(e,1/1.8):16*t},tb=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i={mode:"prophoto",r:M1(t*1.3457868816471585-e*.2555720873797946-.0511018649755453*r),g:M1(t*-.5446307051249019+e*1.5082477428451466+.0205274474364214*r),b:M1(t*0+e*0+1.2119675456389452*r)};return n!==void 0&&(i.alpha=n),i},D1=(t=0)=>{let e=Math.abs(t);return e>=16/512?Math.sign(t)*Math.pow(e,1.8):t/16},rb=t=>{let e=D1(t.r),r=D1(t.g),n=D1(t.b),i={mode:"xyz50",x:.7977666449006423*e+.1351812974005331*r+.0313477341283922*n,y:.2880748288194013*e+.7118352342418731*r+899369387256e-16*n,z:0*e+0*r+.8251046025104602*n};return t.alpha!==void 0&&(i.alpha=t.alpha),i},KA={...al,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:tb,rgb:t=>tb(xf(t))},toMode:{xyz50:rb,rgb:t=>wf(rb(t))}},nb=1.09929682680944,ZA=.018053968510807,C1=t=>{const e=Math.abs(t);return e>ZA?(Math.sign(t)||1)*(nb*Math.pow(e,.45)-(nb-1)):4.5*t},ib=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i={mode:"rec2020",r:C1(t*1.7166511879712683-e*.3556707837763925-.2533662813736599*r),g:C1(t*-.6666843518324893+e*1.6164812366349395+.0157685458139111*r),b:C1(t*.0176398574453108-e*.0427706132578085+.9421031212354739*r)};return n!==void 0&&(i.alpha=n),i},ab=1.09929682680944,XA=.018053968510807,A1=(t=0)=>{let e=Math.abs(t);return e<XA*4.5?t/4.5:(Math.sign(t)||1)*Math.pow((e+ab-1)/ab,1/.45)},ob=t=>{let e=A1(t.r),r=A1(t.g),n=A1(t.b),i={mode:"xyz65",x:.6369580483012911*e+.1446169035862083*r+.1688809751641721*n,y:.262700212011267*e+.6779980715188708*r+.059301716469862*n,z:0*e+.0280726930490874*r+1.0609850577107909*n};return t.alpha!==void 0&&(i.alpha=t.alpha),i},JA={...al,mode:"rec2020",fromMode:{xyz65:ib,rgb:t=>ib(zs(t))},toMode:{xyz65:ob,rgb:t=>Bs(ob(t))},parse:["rec2020"],serialize:"rec2020"},Is=.0037930732552754493,Z6=Math.cbrt(Is),I1=t=>Math.cbrt(t)-Z6,QA=t=>{const{r:e,g:r,b:n,alpha:i}=ol(t),a=I1(.3*e+.622*r+.078*n+Is),o=I1(.23*e+.692*r+.078*n+Is),s=I1(.2434226892454782*e+.2047674442449682*r+.5518098665095535*n+Is),u={mode:"xyb",x:(a-o)/2,y:(a+o)/2,b:s-(a+o)/2};return i!==void 0&&(u.alpha=i),u},E1=t=>Math.pow(t+Z6,3),eI=({x:t,y:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);const i=E1(t+e)-Is,a=E1(e-t)-Is,o=E1(r+e)-Is,s=sl({r:11.031566904639861*i-9.866943908131562*a-.16462299650829934*o,g:-3.2541473810744237*i+4.418770377582723*a-.16462299650829934*o,b:-3.6588512867136815*i+2.7129230459360922*a+1.9459282407775895*o});return n!==void 0&&(s.alpha=n),s},tI={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:eI},fromMode:{rgb:QA},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:Oe,y:Oe,b:Oe,alpha:{use:Oe,fixup:Br}}},rI={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:wf,lab:wy},fromMode:{rgb:xf,lab:by},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:Oe,y:Oe,z:Oe,alpha:{use:Oe,fixup:Br}}},nI=t=>{let{x:e,y:r,z:n,alpha:i}=t;e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0);let a={mode:"xyz50",x:1.0479298208405488*e+.0229467933410191*r-.0501922295431356*n,y:.0296278156881593*e+.990434484573249*r-.0170738250293851*n,z:-.0092430581525912*e+.0150551448965779*r+.7518742899580008*n};return i!==void 0&&(a.alpha=i),a},iI=t=>{let{x:e,y:r,z:n,alpha:i}=t;e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0);let a={mode:"xyz65",x:.9554734527042182*e-.0230985368742614*r+.0632593086610217*n,y:-.0283697069632081*e+1.0099954580058226*r+.021041398966943*n,z:.0123140016883199*e-.0205076964334779*r+1.3303659366080753*n};return i!==void 0&&(a.alpha=i),a},aI={mode:"xyz65",toMode:{rgb:Bs,xyz50:nI},fromMode:{rgb:zs,xyz50:iI},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:Oe,y:Oe,z:Oe,alpha:{use:Oe,fixup:Br}}},oI=({r:t,g:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);const i={mode:"yiq",y:.29889531*t+.58662247*e+.11448223*r,i:.59597799*t-.2741761*e-.32180189*r,q:.21147017*t-.52261711*e+.31114694*r};return n!==void 0&&(i.alpha=n),i},sI=({y:t,i:e,q:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);const i={mode:"rgb",r:t+.95608445*e+.6208885*r,g:t-.27137664*e-.6486059*r,b:t-1.10561724*e+1.70250126*r};return n!==void 0&&(i.alpha=n),i},uI={mode:"yiq",toMode:{rgb:sI},fromMode:{rgb:oI},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:Oe,i:Oe,q:Oe,alpha:{use:Oe,fixup:Br}}},lI=t=>Math.max(0,Math.min(1,t||0)),k1=t=>Math.round(lI(t)*255),cI=x6("rgb"),fI=t=>{if(t===void 0)return;let e=k1(t.r),r=k1(t.g),n=k1(t.b);return"#"+(1<<24|e<<16|r<<8|n).toString(16).slice(1)},tr=t=>fI(cI(t));Yt(KC);Yt(rA);Yt(nA);Yt(iA);Yt(sA);Yt(O6);Yt(R6);Yt(mA);Yt(yA);Yt(xA);Yt(SA);Yt(xy);Yt(MA);Yt(Sy);Yt(CA);Yt(FA);Yt(zA);Yt(BA);Yt(HA);Yt(GA);Yt(UA);Yt(YA);Yt(jA);Yt(KA);Yt(JA);Yt(al);Yt(tI);Yt(rI);Yt(aI);Yt(uI);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ig=function(t,e){return Ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ig(t,e)};function ze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ig(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Dy=12,hI="sans-serif",Rs=Dy+"px "+hI,dI=20,vI=100,pI="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function gI(t){var e={};if(typeof JSON>"u")return e;for(var r=0;r<t.length;r++){var n=String.fromCharCode(r+32),i=(t.charCodeAt(r)-dI)/vI;e[n]=i}return e}var mI=gI(pI),ul={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(r,n){if(!t){var i=ul.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==n&&(e=t.font=n||Rs),t.measureText(r);r=r||"",n=n||Rs;var a=/((?:\d+)?\.?\d*)px/.exec(n),o=a&&+a[1]||Dy,s=0;if(n.indexOf("mono")>=0)s=o*r.length;else for(var u=0;u<r.length;u++){var l=mI[r[u]];s+=l==null?o:l*o}return{width:s}}}(),loadImage:function(t,e,r){var n=new Image;return n.onload=e,n.onerror=r,n.src=t,n}},X6=Oo(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),J6=Oo(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),ll=Object.prototype.toString,zv=Array.prototype,yI=zv.forEach,_I=zv.filter,Cy=zv.slice,bI=zv.map,sb=(function(){}).constructor,oh=sb?sb.prototype:null,Ay="__proto__",wI=2311;function Q6(){return wI++}function Iy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function kt(t){if(t==null||typeof t!="object")return t;var e=t,r=ll.call(t);if(r==="[object Array]"){if(!Tc(t)){e=[];for(var n=0,i=t.length;n<i;n++)e[n]=kt(t[n])}}else if(J6[r]){if(!Tc(t)){var a=t.constructor;if(a.from)e=a.from(t);else{e=new a(t.length);for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}}}else if(!X6[r]&&!Tc(t)&&!Uc(t)){e={};for(var o in t)t.hasOwnProperty(o)&&o!==Ay&&(e[o]=kt(t[o]))}return e}function qt(t,e,r){if(!it(e)||!it(t))return r?kt(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==Ay){var i=t[n],a=e[n];it(a)&&it(i)&&!Fe(a)&&!Fe(i)&&!Uc(a)&&!Uc(i)&&!ub(a)&&!ub(i)&&!Tc(a)&&!Tc(i)?qt(i,a,r):(r||!(n in t))&&(t[n]=kt(e[n]))}return t}function _e(t,e){if(Object.assign)Object.assign(t,e);else for(var r in e)e.hasOwnProperty(r)&&r!==Ay&&(t[r]=e[r]);return t}function It(t,e,r){for(var n=or(e),i=0,a=n.length;i<a;i++){var o=n[i];t[o]==null&&(t[o]=e[o])}return t}function Ut(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1}function xI(t,e){var r=t.prototype;function n(){}n.prototype=e.prototype,t.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.prototype.constructor=t,t.superClass=e}function Ta(t,e,r){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&t[a]==null&&(t[a]=e[a])}else It(t,e)}function Dn(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function F(t,e,r){if(t&&e)if(t.forEach&&t.forEach===yI)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(r,t[a],a,t)}function Xe(t,e,r){if(!t)return[];if(!e)return Ey(t);if(t.map&&t.map===bI)return t.map(e,r);for(var n=[],i=0,a=t.length;i<a;i++)n.push(e.call(r,t[i],i,t));return n}function Oo(t,e,r,n){if(t&&e){for(var i=0,a=t.length;i<a;i++)r=e.call(n,r,t[i],i,t);return r}}function xr(t,e,r){if(!t)return[];if(!e)return Ey(t);if(t.filter&&t.filter===_I)return t.filter(e,r);for(var n=[],i=0,a=t.length;i<a;i++)e.call(r,t[i],i,t)&&n.push(t[i]);return n}function or(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}function SI(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return t.apply(e,r.concat(Cy.call(arguments)))}}var ur=oh&&wt(oh.bind)?oh.call.bind(oh.bind):SI;function Cr(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(){return t.apply(this,e.concat(Cy.call(arguments)))}}function Fe(t){return Array.isArray?Array.isArray(t):ll.call(t)==="[object Array]"}function wt(t){return typeof t=="function"}function je(t){return typeof t=="string"}function Eg(t){return ll.call(t)==="[object String]"}function Jt(t){return typeof t=="number"}function it(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function ub(t){return!!X6[ll.call(t)]}function Vn(t){return!!J6[ll.call(t)]}function Uc(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function Bv(t){return t.colorStops!=null}function TI(t){return t.image!=null}function MI(t){return ll.call(t)==="[object RegExp]"}function zd(t){return t!==t}function qc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,n=t.length;r<n;r++)if(t[r]!=null)return t[r]}function bt(t,e){return t??e}function Sc(t,e,r){return t??e??r}function Ey(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return Cy.apply(t,e)}function ex(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function Ga(t,e){if(!t)throw new Error(e)}function la(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var tx="__ec_primitive__";function Bd(t){t[tx]=!0}function Tc(t){return t[tx]}var DI=function(){function t(){this.data={}}return t.prototype.delete=function(e){var r=this.has(e);return r&&delete this.data[e],r},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){return this.data[e]=r,this},t.prototype.keys=function(){return or(this.data)},t.prototype.forEach=function(e){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&e(r[n],n)},t}(),rx=typeof Map=="function";function CI(){return rx?new Map:new DI}var AI=function(){function t(e){var r=Fe(e);this.data=CI();var n=this;e instanceof t?e.each(i):e&&F(e,i);function i(a,o){r?n.set(a,o):n.set(o,a)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,r){return this.data.set(e,r),r},t.prototype.each=function(e,r){this.data.forEach(function(n,i){e.call(r,n,i)})},t.prototype.keys=function(){var e=this.data.keys();return rx?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function vt(t){return new AI(t)}function II(t,e){for(var r=new t.constructor(t.length+e.length),n=0;n<t.length;n++)r[n]=t[n];for(var i=t.length,n=0;n<e.length;n++)r[n+i]=e[n];return r}function $v(t,e){var r;if(Object.create)r=Object.create(t);else{var n=function(){};n.prototype=t,r=new n}return e&&_e(r,e),r}function nx(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function ya(t,e){return t.hasOwnProperty(e)}function Bn(){}var EI=180/Math.PI,kI=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),OI=function(){function t(){this.browser=new kI,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),ht=new OI;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(ht.wxa=!0,ht.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?ht.worker=!0:!ht.hasGlobalWindow||"Deno"in window?(ht.node=!0,ht.svgSupported=!0):PI(navigator.userAgent,ht);function PI(t,e){var r=e.browser,n=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),a&&(r.edge=!0,r.version=a[1],r.newEdge=+a[1].split(".")[0]>18),o&&(r.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}var LI=".",Yo="___EC__COMPONENT__CONTAINER___",ix="___EC__EXTENDED_CLASS___";function ca(t){var e={main:"",sub:""};if(t){var r=t.split(LI);e.main=r[0]||"",e.sub=r[1]||""}return e}function RI(t){Ga(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function NI(t){return!!(t&&t[ix])}function ky(t,e){t.$constructor=t,t.extend=function(r){var n=this,i;return FI(n)?i=function(a){ze(o,a);function o(){return a.apply(this,arguments)||this}return o}(n):(i=function(){(r.$constructor||n).apply(this,arguments)},xI(i,this)),_e(i.prototype,r),i[ix]=!0,i.extend=this.extend,i.superCall=$I,i.superApply=VI,i.superClass=n,i}}function FI(t){return wt(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function ax(t,e){t.extend=e.extend}var zI=Math.round(Math.random()*10);function BI(t){var e=["__\0is_clz",zI++].join("_");t.prototype[e]=!0,t.isInstance=function(r){return!!(r&&r[e])}}function $I(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,r)}function VI(t,e,r){return this.superClass.prototype[e].apply(t,r)}function Vv(t){var e={};t.registerClass=function(n){var i=n.type||n.prototype.type;if(i){RI(i),n.prototype.type=i;var a=ca(i);if(!a.sub)e[a.main]=n;else if(a.sub!==Yo){var o=r(a);o[a.sub]=n}}return n},t.getClass=function(n,i,a){var o=e[n];if(o&&o[Yo]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return o},t.getClassesByMainType=function(n){var i=ca(n),a=[],o=e[i.main];return o&&o[Yo]?F(o,function(s,u){u!==Yo&&a.push(s)}):a.push(o),a},t.hasClass=function(n){var i=ca(n);return!!e[i.main]},t.getAllClassMainTypes=function(){var n=[];return F(e,function(i,a){n.push(a)}),n},t.hasSubTypes=function(n){var i=ca(n),a=e[i.main];return a&&a[Yo]};function r(n){var i=e[n.main];return(!i||!i[Yo])&&(i=e[n.main]={},i[Yo]=!0),i}}function Yc(t,e){for(var r=0;r<t.length;r++)t[r][1]||(t[r][1]=t[r][0]);return e=e||!1,function(n,i,a){for(var o={},s=0;s<t.length;s++){var u=t[s][1];if(!(i&&Ut(i,u)>=0||a&&Ut(a,u)<0)){var l=n.getShallow(u,e);l!=null&&(o[t[s][0]]=l)}}return o}}var HI=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],GI=Yc(HI),WI=function(){function t(){}return t.prototype.getAreaStyle=function(e,r){return GI(this,e,r)},t}(),ox=function(){function t(e){this.value=e}return t}(),UI=function(){function t(){this._len=0}return t.prototype.insert=function(e){var r=new ox(e);return this.insertEntry(r),r},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var r=e.prev,n=e.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),Tf=function(){function t(e){this._list=new UI,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,r){var n=this._list,i=this._map,a=null;if(i[e]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=n.head;n.remove(u),delete i[u.key],a=u.value,this._lastRemovedEntry=u}s?s.value=r:s=new ox(r),s.key=e,n.insertEntry(s),i[e]=s}return a},t.prototype.get=function(e){var r=this._map[e],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),kg=new Tf(50);function qI(t){if(typeof t=="string"){var e=kg.get(t);return e&&e.image}else return t}function sx(t,e,r,n,i){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!r)return e;var a=kg.get(t),o={hostEl:r,cb:n,cbPayload:i};return a?(e=a.image,!Hv(e)&&a.pending.push(o)):(e=ul.loadImage(t,lb,lb),e.__zrImageSrc=t,kg.put(t,e.__cachedImgObj={image:e,pending:[o]})),e}else return t;else return e}function lb(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function Hv(t){return t&&t.width&&t.height}function Ru(){return[1,0,0,1,0,0]}function Oy(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function YI(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Nu(t,e,r){var n=e[0]*r[0]+e[2]*r[1],i=e[1]*r[0]+e[3]*r[1],a=e[0]*r[2]+e[2]*r[3],o=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],u=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t}function Og(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function Py(t,e,r,n){n===void 0&&(n=[0,0]);var i=e[0],a=e[2],o=e[4],s=e[1],u=e[3],l=e[5],c=Math.sin(r),f=Math.cos(r);return t[0]=i*f+s*c,t[1]=-i*c+s*f,t[2]=a*f+u*c,t[3]=-a*c+f*u,t[4]=f*(o-n[0])+c*(l-n[1])+n[0],t[5]=f*(l-n[1])-c*(o-n[0])+n[1],t}function jI(t,e,r){var n=r[0],i=r[1];return t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i,t}function Gv(t,e){var r=e[0],n=e[2],i=e[4],a=e[1],o=e[3],s=e[5],u=r*o-a*n;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-n*u,t[3]=r*u,t[4]=(n*s-o*i)*u,t[5]=(a*i-r*s)*u,t):null}var nt=function(){function t(e,r){this.x=e||0,this.y=r||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,r){this.x+=e.x*r,this.y+=e.y*r},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)},t.prototype.distanceSquare=function(e){var r=this.x-e.x,n=this.y-e.y;return r*r+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var r=this.x,n=this.y;return this.x=e[0]*r+e[2]*n+e[4],this.y=e[1]*r+e[3]*n+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,r,n){e.x=r,e.y=n},t.copy=function(e,r){e.x=r.x,e.y=r.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,r){return e.x*r.x+e.y*r.y},t.add=function(e,r,n){e.x=r.x+n.x,e.y=r.y+n.y},t.sub=function(e,r,n){e.x=r.x-n.x,e.y=r.y-n.y},t.scale=function(e,r,n){e.x=r.x*n,e.y=r.y*n},t.scaleAndAdd=function(e,r,n,i){e.x=r.x+n.x*i,e.y=r.y+n.y*i},t.lerp=function(e,r,n,i){var a=1-i;e.x=a*r.x+i*n.x,e.y=a*r.y+i*n.y},t}(),sh=Math.min,uh=Math.max,jo=new nt,Ko=new nt,Zo=new nt,Xo=new nt,Fl=new nt,zl=new nt,Nt=function(){function t(e,r,n,i){n<0&&(e=e+n,n=-n),i<0&&(r=r+i,i=-i),this.x=e,this.y=r,this.width=n,this.height=i}return t.prototype.union=function(e){var r=sh(e.x,this.x),n=sh(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=uh(e.x+e.width,this.x+this.width)-r:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=uh(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=r,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var r=this,n=e.width/r.width,i=e.height/r.height,a=Ru();return Og(a,a,[-r.x,-r.y]),jI(a,a,[n,i]),Og(a,a,[e.x,e.y]),a},t.prototype.intersect=function(e,r){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,i=n.x,a=n.x+n.width,o=n.y,s=n.y+n.height,u=e.x,l=e.x+e.width,c=e.y,f=e.y+e.height,h=!(a<u||l<i||s<c||f<o);if(r){var d=1/0,v=0,g=Math.abs(a-u),m=Math.abs(l-i),y=Math.abs(s-c),b=Math.abs(f-o),w=Math.min(g,m),S=Math.min(y,b);a<u||l<i?w>v&&(v=w,g<m?nt.set(zl,-g,0):nt.set(zl,m,0)):w<d&&(d=w,g<m?nt.set(Fl,g,0):nt.set(Fl,-m,0)),s<c||f<o?S>v&&(v=S,y<b?nt.set(zl,0,-y):nt.set(zl,0,b)):w<d&&(d=w,y<b?nt.set(Fl,0,y):nt.set(Fl,0,-b))}return r&&nt.copy(r,h?Fl:zl),h},t.prototype.contain=function(e,r){var n=this;return e>=n.x&&e<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,r){e.x=r.x,e.y=r.y,e.width=r.width,e.height=r.height},t.applyTransform=function(e,r,n){if(!n){e!==r&&t.copy(e,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],o=n[4],s=n[5];e.x=r.x*i+o,e.y=r.y*a+s,e.width=r.width*i,e.height=r.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}jo.x=Zo.x=r.x,jo.y=Xo.y=r.y,Ko.x=Xo.x=r.x+r.width,Ko.y=Zo.y=r.y+r.height,jo.transform(n),Xo.transform(n),Ko.transform(n),Zo.transform(n),e.x=sh(jo.x,Ko.x,Zo.x,Xo.x),e.y=sh(jo.y,Ko.y,Zo.y,Xo.y);var u=uh(jo.x,Ko.x,Zo.x,Xo.x),l=uh(jo.y,Ko.y,Zo.y,Xo.y);e.width=u-e.x,e.height=l-e.y},t}(),cb={};function Zn(t,e){e=e||Rs;var r=cb[e];r||(r=cb[e]=new Tf(500));var n=r.get(t);return n==null&&(n=ul.measureText(t,e).width,r.put(t,n)),n}function fb(t,e,r,n){var i=Zn(t,e),a=Ry(e),o=sc(0,i,r),s=wu(0,a,n),u=new Nt(o,s,i,a);return u}function Ly(t,e,r,n){var i=((t||"")+"").split(`
`),a=i.length;if(a===1)return fb(i[0],e,r,n);for(var o=new Nt(0,0,0,0),s=0;s<i.length;s++){var u=fb(i[s],e,r,n);s===0?o.copy(u):o.union(u)}return o}function sc(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function wu(t,e,r){return r==="middle"?t-=e/2:r==="bottom"&&(t-=e),t}function Ry(t){return Zn("å½",t)}function Po(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function $d(t,e,r){var n=e.position||"inside",i=e.distance!=null?e.distance:5,a=r.height,o=r.width,s=a/2,u=r.x,l=r.y,c="left",f="top";if(n instanceof Array)u+=Po(n[0],r.width),l+=Po(n[1],r.height),c=null,f=null;else switch(n){case"left":u-=i,l+=s,c="right",f="middle";break;case"right":u+=i+o,l+=s,f="middle";break;case"top":u+=o/2,l-=i,c="center",f="bottom";break;case"bottom":u+=o/2,l+=a+i,c="center";break;case"inside":u+=o/2,l+=s,c="center",f="middle";break;case"insideLeft":u+=i,l+=s,f="middle";break;case"insideRight":u+=o-i,l+=s,c="right",f="middle";break;case"insideTop":u+=o/2,l+=i,c="center";break;case"insideBottom":u+=o/2,l+=a-i,c="center",f="bottom";break;case"insideTopLeft":u+=i,l+=i;break;case"insideTopRight":u+=o-i,l+=i,c="right";break;case"insideBottomLeft":u+=i,l+=a-i,f="bottom";break;case"insideBottomRight":u+=o-i,l+=a-i,c="right",f="bottom";break}return t=t||{},t.x=u,t.y=l,t.align=c,t.verticalAlign=f,t}var O1=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function KI(t,e,r,n,i,a){if(!r){t.text="",t.isTruncated=!1;return}var o=(e+"").split(`
`);a=ux(r,n,i,a);for(var s=!1,u={},l=0,c=o.length;l<c;l++)lx(u,o[l],a),o[l]=u.textLine,s=s||u.isTruncated;t.text=o.join(`
`),t.isTruncated=s}function ux(t,e,r,n){n=n||{};var i=_e({},n);i.font=e,r=bt(r,"..."),i.maxIterations=bt(n.maxIterations,2);var a=i.minChar=bt(n.minChar,0);i.cnCharWidth=Zn("å½",e);var o=i.ascCharWidth=Zn("a",e);i.placeholder=bt(n.placeholder,"");for(var s=t=Math.max(0,t-1),u=0;u<a&&s>=o;u++)s-=o;var l=Zn(r,e);return l>s&&(r="",l=0),s=t-l,i.ellipsis=r,i.ellipsisWidth=l,i.contentWidth=s,i.containerWidth=t,i}function lx(t,e,r){var n=r.containerWidth,i=r.font,a=r.contentWidth;if(!n){t.textLine="",t.isTruncated=!1;return}var o=Zn(e,i);if(o<=n){t.textLine=e,t.isTruncated=!1;return}for(var s=0;;s++){if(o<=a||s>=r.maxIterations){e+=r.ellipsis;break}var u=s===0?ZI(e,a,r.ascCharWidth,r.cnCharWidth):o>0?Math.floor(e.length*a/o):0;e=e.substr(0,u),o=Zn(e,i)}e===""&&(e=r.placeholder),t.textLine=e,t.isTruncated=!0}function ZI(t,e,r,n){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?r:n}return a}function XI(t,e){t!=null&&(t+="");var r=e.overflow,n=e.padding,i=e.font,a=r==="truncate",o=Ry(i),s=bt(e.lineHeight,o),u=!!e.backgroundColor,l=e.lineOverflow==="truncate",c=!1,f=e.width,h;f!=null&&(r==="break"||r==="breakAll")?h=t?cx(t,e.font,f,r==="breakAll",0).lines:[]:h=t?t.split(`
`):[];var d=h.length*s,v=bt(e.height,d);if(d>v&&l){var g=Math.floor(v/s);c=c||h.length>g,h=h.slice(0,g)}if(t&&a&&f!=null)for(var m=ux(f,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),y={},b=0;b<h.length;b++)lx(y,h[b],m),h[b]=y.textLine,c=c||y.isTruncated;for(var w=v,S=0,b=0;b<h.length;b++)S=Math.max(Zn(h[b],i),S);f==null&&(f=S);var D=S;return n&&(w+=n[0]+n[2],D+=n[1]+n[3],f+=n[1]+n[3]),u&&(D=f),{lines:h,height:v,outerWidth:D,outerHeight:w,lineHeight:s,calculatedLineHeight:o,contentWidth:S,contentHeight:d,width:f,isTruncated:c}}var JI=function(){function t(){}return t}(),hb=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),QI=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return t}();function eE(t,e){var r=new QI;if(t!=null&&(t+=""),!t)return r;for(var n=e.width,i=e.height,a=e.overflow,o=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,s=O1.lastIndex=0,u;(u=O1.exec(t))!=null;){var l=u.index;l>s&&P1(r,t.substring(s,l),e,o),P1(r,u[2],e,o,u[1]),s=O1.lastIndex}s<t.length&&P1(r,t.substring(s,t.length),e,o);var c=[],f=0,h=0,d=e.padding,v=a==="truncate",g=e.lineOverflow==="truncate",m={};function y(oe,Q,ue){oe.width=Q,oe.lineHeight=ue,f+=ue,h=Math.max(h,Q)}e:for(var b=0;b<r.lines.length;b++){for(var w=r.lines[b],S=0,D=0,M=0;M<w.tokens.length;M++){var A=w.tokens[M],k=A.styleName&&e.rich[A.styleName]||{},O=A.textPadding=k.padding,P=O?O[1]+O[3]:0,R=A.font=k.font||e.font;A.contentHeight=Ry(R);var H=bt(k.height,A.contentHeight);if(A.innerHeight=H,O&&(H+=O[0]+O[2]),A.height=H,A.lineHeight=Sc(k.lineHeight,e.lineHeight,H),A.align=k&&k.align||e.align,A.verticalAlign=k&&k.verticalAlign||"middle",g&&i!=null&&f+A.lineHeight>i){var z=r.lines.length;M>0?(w.tokens=w.tokens.slice(0,M),y(w,D,S),r.lines=r.lines.slice(0,b+1)):r.lines=r.lines.slice(0,b),r.isTruncated=r.isTruncated||r.lines.length<z;break e}var W=k.width,ee=W==null||W==="auto";if(typeof W=="string"&&W.charAt(W.length-1)==="%")A.percentWidth=W,c.push(A),A.contentWidth=Zn(A.text,R);else{if(ee){var ne=k.backgroundColor,he=ne&&ne.image;he&&(he=qI(he),Hv(he)&&(A.width=Math.max(A.width,he.width*H/he.height)))}var X=v&&n!=null?n-D:null;X!=null&&X<A.width?!ee||X<P?(A.text="",A.width=A.contentWidth=0):(KI(m,A.text,X-P,R,e.ellipsis,{minChar:e.truncateMinChar}),A.text=m.text,r.isTruncated=r.isTruncated||m.isTruncated,A.width=A.contentWidth=Zn(A.text,R)):A.contentWidth=Zn(A.text,R)}A.width+=P,D+=A.width,k&&(S=Math.max(S,A.lineHeight))}y(w,D,S)}r.outerWidth=r.width=bt(n,h),r.outerHeight=r.height=bt(i,f),r.contentHeight=f,r.contentWidth=h,d&&(r.outerWidth+=d[1]+d[3],r.outerHeight+=d[0]+d[2]);for(var b=0;b<c.length;b++){var A=c[b],te=A.percentWidth;A.width=parseInt(te,10)/100*r.width}return r}function P1(t,e,r,n,i){var a=e==="",o=i&&r.rich[i]||{},s=t.lines,u=o.font||r.font,l=!1,c,f;if(n){var h=o.padding,d=h?h[1]+h[3]:0;if(o.width!=null&&o.width!=="auto"){var v=Po(o.width,n.width)+d;s.length>0&&v+n.accumWidth>n.width&&(c=e.split(`
`),l=!0),n.accumWidth=v}else{var g=cx(e,u,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+d,f=g.linesWidths,c=g.lines}}else c=e.split(`
`);for(var m=0;m<c.length;m++){var y=c[m],b=new JI;if(b.styleName=i,b.text=y,b.isLineHolder=!y&&!a,typeof o.width=="number"?b.width=o.width:b.width=f?f[m]:Zn(y,u),!m&&!l){var w=(s[s.length-1]||(s[0]=new hb)).tokens,S=w.length;S===1&&w[0].isLineHolder?w[0]=b:(y||!S||a)&&w.push(b)}else s.push(new hb([b]))}}function tE(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var rE=Oo(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function nE(t){return tE(t)?!!rE[t]:!0}function cx(t,e,r,n,i){for(var a=[],o=[],s="",u="",l=0,c=0,f=0;f<t.length;f++){var h=t.charAt(f);if(h===`
`){u&&(s+=u,c+=l),a.push(s),o.push(c),s="",u="",l=0,c=0;continue}var d=Zn(h,e),v=n?!1:!nE(h);if(a.length?c+d>r:i+c+d>r){c?(s||u)&&(v?(s||(s=u,u="",l=0,c=l),a.push(s),o.push(c-l),u+=h,l+=d,s="",c=l):(u&&(s+=u,u="",l=0),a.push(s),o.push(c),s=h,c=d)):v?(a.push(u),o.push(l),u=h,l=d):(a.push(h),o.push(d));continue}c+=d,v?(u+=h,l+=d):(u&&(s+=u,u="",l=0),s+=h)}return!a.length&&!s&&(s=t,u="",l=0),u&&(s+=u),s&&(a.push(s),o.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:o}}function cl(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function iE(t){return[t[0],t[1]]}function db(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function aE(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function oE(t){return Math.sqrt(sE(t))}function sE(t){return t[0]*t[0]+t[1]*t[1]}function L1(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function uE(t,e){var r=oE(e);return r===0?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}function Pg(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Lg=Pg;function lE(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Fu=lE;function ad(t,e,r,n){return t[0]=e[0]+n*(r[0]-e[0]),t[1]=e[1]+n*(r[1]-e[1]),t}function _i(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function Su(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function Tu(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}var vb=Oy,cE=5e-5;function Jo(t){return t>cE||t<-5e-5}var Qo=[],eu=[],R1=Ru(),N1=Math.abs,Mf=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return Jo(this.rotation)||Jo(this.x)||Jo(this.y)||Jo(this.scaleX-1)||Jo(this.scaleY-1)||Jo(this.skewX)||Jo(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||e)){n&&(vb(n),this.invTransform=null);return}n=n||Ru(),r?this.getLocalTransform(n):vb(n),e&&(r?Nu(n,e,n):YI(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},t.prototype._resolveGlobalScaleRatio=function(e){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Qo);var n=Qo[0]<0?-1:1,i=Qo[1]<0?-1:1,a=((Qo[0]-n)*r+n)/Qo[0]||0,o=((Qo[1]-i)*r+i)/Qo[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||Ru(),Gv(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,r=[];e;)r.push(e),e=e.parent;for(;e=r.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var r=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a),r=Math.sqrt(r),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,r=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Ru(),Nu(eu,e.invTransform,r),r=eu);var n=this.originX,i=this.originY;(n||i)&&(R1[4]=n,R1[5]=i,Nu(eu,r,R1),eu[4]-=n,eu[5]-=i,r=eu),this.setLocalTransform(r)}},t.prototype.getGlobalScale=function(e){var r=this.transform;return e=e||[],r?(e[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),e[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(e[0]=-e[0]),r[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,r){var n=[e,r],i=this.invTransform;return i&&_i(n,n,i),n},t.prototype.transformCoordToGlobal=function(e,r){var n=[e,r],i=this.transform;return i&&_i(n,n,i),n},t.prototype.getLineScale=function(){var e=this.transform;return e&&N1(e[0]-1)>1e-10&&N1(e[3]-1)>1e-10?Math.sqrt(N1(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){fE(this,e)},t.getLocalTransform=function(e,r){r=r||[];var n=e.originX||0,i=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,u=e.anchorY,l=e.rotation||0,c=e.x,f=e.y,h=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(n||i||s||u){var v=n+s,g=i+u;r[4]=-v*a-h*g*o,r[5]=-g*o-d*v*a}else r[4]=r[5]=0;return r[0]=a,r[3]=o,r[1]=d*a,r[2]=h*o,l&&Py(r,r,l),r[4]+=n+c,r[5]+=i+f,r},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),jc=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function fE(t,e){for(var r=0;r<jc.length;r++){var n=jc[r];t[n]=e[n]}}var Mc={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Mc.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?Mc.bounceIn(t*2)*.5:Mc.bounceOut(t*2-1)*.5+.5}},lh=Math.pow,Mo=Math.sqrt,fx=1e-8,hx=1e-4,pb=Mo(3),ch=1/3,aa=cl(),di=cl(),zu=cl();function wo(t){return t>-1e-8&&t<fx}function dx(t){return t>fx||t<-1e-8}function Xr(t,e,r,n,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*n+3*a*r)}function gb(t,e,r,n,i){var a=1-i;return 3*(((e-t)*a+2*(r-e)*i)*a+(n-r)*i*i)}function vx(t,e,r,n,i,a){var o=n+3*(e-r)-t,s=3*(r-e*2+t),u=3*(e-t),l=t-i,c=s*s-3*o*u,f=s*u-9*o*l,h=u*u-3*s*l,d=0;if(wo(c)&&wo(f))if(wo(s))a[0]=0;else{var v=-u/s;v>=0&&v<=1&&(a[d++]=v)}else{var g=f*f-4*c*h;if(wo(g)){var m=f/c,v=-s/o+m,y=-m/2;v>=0&&v<=1&&(a[d++]=v),y>=0&&y<=1&&(a[d++]=y)}else if(g>0){var b=Mo(g),w=c*s+1.5*o*(-f+b),S=c*s+1.5*o*(-f-b);w<0?w=-lh(-w,ch):w=lh(w,ch),S<0?S=-lh(-S,ch):S=lh(S,ch);var v=(-s-(w+S))/(3*o);v>=0&&v<=1&&(a[d++]=v)}else{var D=(2*c*s-3*o*f)/(2*Mo(c*c*c)),M=Math.acos(D)/3,A=Mo(c),k=Math.cos(M),v=(-s-2*A*k)/(3*o),y=(-s+A*(k+pb*Math.sin(M)))/(3*o),O=(-s+A*(k-pb*Math.sin(M)))/(3*o);v>=0&&v<=1&&(a[d++]=v),y>=0&&y<=1&&(a[d++]=y),O>=0&&O<=1&&(a[d++]=O)}}return d}function px(t,e,r,n,i){var a=6*r-12*e+6*t,o=9*e+3*n-3*t-9*r,s=3*e-3*t,u=0;if(wo(o)){if(dx(a)){var l=-s/a;l>=0&&l<=1&&(i[u++]=l)}}else{var c=a*a-4*o*s;if(wo(c))i[0]=-a/(2*o);else if(c>0){var f=Mo(c),l=(-a+f)/(2*o),h=(-a-f)/(2*o);l>=0&&l<=1&&(i[u++]=l),h>=0&&h<=1&&(i[u++]=h)}}return u}function Lo(t,e,r,n,i,a){var o=(e-t)*i+t,s=(r-e)*i+e,u=(n-r)*i+r,l=(s-o)*i+o,c=(u-s)*i+s,f=(c-l)*i+l;a[0]=t,a[1]=o,a[2]=l,a[3]=f,a[4]=f,a[5]=c,a[6]=u,a[7]=n}function gx(t,e,r,n,i,a,o,s,u,l,c){var f,h=.005,d=1/0,v,g,m,y;aa[0]=u,aa[1]=l;for(var b=0;b<1;b+=.05)di[0]=Xr(t,r,i,o,b),di[1]=Xr(e,n,a,s,b),m=Fu(aa,di),m<d&&(f=b,d=m);d=1/0;for(var w=0;w<32&&!(h<hx);w++)v=f-h,g=f+h,di[0]=Xr(t,r,i,o,v),di[1]=Xr(e,n,a,s,v),m=Fu(di,aa),v>=0&&m<d?(f=v,d=m):(zu[0]=Xr(t,r,i,o,g),zu[1]=Xr(e,n,a,s,g),y=Fu(zu,aa),g<=1&&y<d?(f=g,d=y):h*=.5);return c&&(c[0]=Xr(t,r,i,o,f),c[1]=Xr(e,n,a,s,f)),Mo(d)}function hE(t,e,r,n,i,a,o,s,u){for(var l=t,c=e,f=0,h=1/u,d=1;d<=u;d++){var v=d*h,g=Xr(t,r,i,o,v),m=Xr(e,n,a,s,v),y=g-l,b=m-c;f+=Math.sqrt(y*y+b*b),l=g,c=m}return f}function cn(t,e,r,n){var i=1-n;return i*(i*t+2*n*e)+n*n*r}function mb(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))}function dE(t,e,r,n,i){var a=t-2*e+r,o=2*(e-t),s=t-n,u=0;if(wo(a)){if(dx(o)){var l=-s/o;l>=0&&l<=1&&(i[u++]=l)}}else{var c=o*o-4*a*s;if(wo(c)){var l=-o/(2*a);l>=0&&l<=1&&(i[u++]=l)}else if(c>0){var f=Mo(c),l=(-o+f)/(2*a),h=(-o-f)/(2*a);l>=0&&l<=1&&(i[u++]=l),h>=0&&h<=1&&(i[u++]=h)}}return u}function mx(t,e,r){var n=t+r-2*e;return n===0?.5:(t-e)/n}function Vd(t,e,r,n,i){var a=(e-t)*n+t,o=(r-e)*n+e,s=(o-a)*n+a;i[0]=t,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=r}function yx(t,e,r,n,i,a,o,s,u){var l,c=.005,f=1/0;aa[0]=o,aa[1]=s;for(var h=0;h<1;h+=.05){di[0]=cn(t,r,i,h),di[1]=cn(e,n,a,h);var d=Fu(aa,di);d<f&&(l=h,f=d)}f=1/0;for(var v=0;v<32&&!(c<hx);v++){var g=l-c,m=l+c;di[0]=cn(t,r,i,g),di[1]=cn(e,n,a,g);var d=Fu(di,aa);if(g>=0&&d<f)l=g,f=d;else{zu[0]=cn(t,r,i,m),zu[1]=cn(e,n,a,m);var y=Fu(zu,aa);m<=1&&y<f?(l=m,f=y):c*=.5}}return u&&(u[0]=cn(t,r,i,l),u[1]=cn(e,n,a,l)),Mo(f)}function vE(t,e,r,n,i,a,o){for(var s=t,u=e,l=0,c=1/o,f=1;f<=o;f++){var h=f*c,d=cn(t,r,i,h),v=cn(e,n,a,h),g=d-s,m=v-u;l+=Math.sqrt(g*g+m*m),s=d,u=v}return l}var pE=/cubic-bezier\(([0-9,\.e ]+)\)/;function _x(t){var e=t&&pE.exec(t);if(e){var r=e[1].split(","),n=+la(r[0]),i=+la(r[1]),a=+la(r[2]),o=+la(r[3]);if(isNaN(n+i+a+o))return;var s=[];return function(u){return u<=0?0:u>=1?1:vx(0,n,a,1,u,s)&&Xr(0,i,o,1,s[0])}}}var gE=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Bn,this.ondestroy=e.ondestroy||Bn,this.onrestart=e.onrestart||Bn,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,r){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=e-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var u=i%n;this._startTime=e-u,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=wt(e)?e:Mc[e]||_x(e)},t}(),yb={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Dc(t){return t=Math.round(t),t<0?0:t>255?255:t}function _b(t){return t<0?0:t>1?1:t}function F1(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?Dc(parseFloat(e)/100*255):Dc(parseInt(e,10))}function Cc(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?_b(parseFloat(e)/100):_b(parseFloat(e))}function z1(t,e,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(e-t)*r*6:r*2<1?e:r*3<2?t+(e-t)*(2/3-r)*6:t}function si(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function Rg(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var bx=new Tf(20),fh=null;function tu(t,e){fh&&Rg(fh,e),fh=bx.put(t,fh||e.slice())}function Es(t,e){if(t){e=e||[];var r=bx.get(t);if(r)return Rg(e,r);t=t+"";var n=t.replace(/ /g,"").toLowerCase();if(n in yb)return Rg(e,yb[n]),tu(t,e),e;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){si(e,0,0,0,1);return}return si(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),tu(t,e),e}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){si(e,0,0,0,1);return}return si(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),tu(t,e),e}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===i){var u=n.substr(0,o),l=n.substr(o+1,s-(o+1)).split(","),c=1;switch(u){case"rgba":if(l.length!==4)return l.length===3?si(e,+l[0],+l[1],+l[2],1):si(e,0,0,0,1);c=Cc(l.pop());case"rgb":if(l.length>=3)return si(e,F1(l[0]),F1(l[1]),F1(l[2]),l.length===3?c:Cc(l[3])),tu(t,e),e;si(e,0,0,0,1);return;case"hsla":if(l.length!==4){si(e,0,0,0,1);return}return l[3]=Cc(l[3]),bb(l,e),tu(t,e),e;case"hsl":if(l.length!==3){si(e,0,0,0,1);return}return bb(l,e),tu(t,e),e;default:return}}si(e,0,0,0,1)}}function bb(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=Cc(t[1]),i=Cc(t[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return e=e||[],si(e,Dc(z1(o,a,r+1/3)*255),Dc(z1(o,a,r)*255),Dc(z1(o,a,r-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function wb(t,e){var r=Es(t);if(r){for(var n=0;n<3;n++)r[n]=r[n]*(1-e)|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return Ny(r,r.length===4?"rgba":"rgb")}}function Ny(t,e){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(r+=","+t[3]),e+"("+r+")"}}function Hd(t,e){var r=Es(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}var xb=new Tf(100);function Sb(t){if(je(t)){var e=xb.get(t);return e||(e=wb(t,-.1),xb.put(t,e)),e}else if(Bv(t)){var r=_e({},t);return r.colorStops=Xe(t.colorStops,function(n){return{offset:n.offset,color:wb(n.color,-.1)}}),r}return t}function mE(t){return t.type==="linear"}function yE(t){return t.type==="radial"}(function(){return ht.hasGlobalWindow&&wt(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}})();var Ng=Array.prototype.slice;function Ra(t,e,r){return(e-t)*r+t}function B1(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=Ra(e[a],r[a],n);return t}function _E(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=Ra(e[o][s],r[o][s],n)}return t}function hh(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=e[a]+r[a]*n;return t}function Tb(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=e[o][s]+r[o][s]*n}return t}function bE(t,e){for(var r=t.length,n=e.length,i=r>n?e:t,a=Math.min(r,n),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(r,n);s++)i.push({offset:o.offset,color:o.color.slice()})}function wE(t,e,r){var n=t,i=e;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var u=a;u<o;u++)n.push(r===1?i[u]:Ng.call(i[u]))}for(var l=n[0]&&n[0].length,u=0;u<n.length;u++)if(r===1)isNaN(n[u])&&(n[u]=i[u]);else for(var c=0;c<l;c++)isNaN(n[u][c])&&(n[u][c]=i[u][c])}}function od(t){if(Dn(t)){var e=t.length;if(Dn(t[0])){for(var r=[],n=0;n<e;n++)r.push(Ng.call(t[n]));return r}return Ng.call(t)}return t}function sd(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function xE(t){return Dn(t&&t[0])?2:1}var dh=0,ud=1,xx=2,uc=3,Fg=4,zg=5,Mb=6;function Db(t){return t===Fg||t===zg}function vh(t){return t===ud||t===xx}var Bl=[0,0,0,0],SE=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,r,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=Mb,u=r;if(Dn(r)){var l=xE(r);s=l,(l===1&&!Jt(r[0])||l===2&&!Jt(r[0][0]))&&(o=!0)}else if(Jt(r)&&!zd(r))s=dh;else if(je(r))if(!isNaN(+r))s=dh;else{var c=Es(r);c&&(u=c,s=uc)}else if(Bv(r)){var f=_e({},u);f.colorStops=Xe(r.colorStops,function(d){return{offset:d.offset,color:Es(d.color)}}),mE(r)?s=Fg:yE(r)&&(s=zg),u=f}a===0?this.valType=s:(s!==this.valType||s===Mb)&&(o=!0),this.discrete=this.discrete||o;var h={time:e,value:u,rawValue:r,percent:0};return n&&(h.easing=n,h.easingFunc=wt(n)?n:Mc[n]||_x(n)),i.push(h),h},t.prototype.prepare=function(e,r){var n=this.keyframes;this._needsSort&&n.sort(function(g,m){return g.time-m.time});for(var i=this.valType,a=n.length,o=n[a-1],s=this.discrete,u=vh(i),l=Db(i),c=0;c<a;c++){var f=n[c],h=f.value,d=o.value;f.percent=f.time/e,s||(u&&c!==a-1?wE(h,d,i):l&&bE(h.colorStops,d.colorStops))}if(!s&&i!==zg&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var v=n[0].value,c=0;c<a;c++)i===dh?n[c].additiveValue=n[c].value-v:i===uc?n[c].additiveValue=hh([],n[c].value,v,-1):vh(i)&&(n[c].additiveValue=i===ud?hh([],n[c].value,v,-1):Tb([],n[c].value,v,-1))}},t.prototype.step=function(e,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,u=this.propName,l=a===uc,c,f=this._lastFr,h=Math.min,d,v;if(s===1)d=v=o[0];else{if(r<0)c=0;else if(r<this._lastFrP){var g=h(f+1,s-1);for(c=g;c>=0&&!(o[c].percent<=r);c--);c=h(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>r);c++);c=h(c-1,s-2)}v=o[c+1],d=o[c]}if(d&&v){this._lastFr=c,this._lastFrP=r;var m=v.percent-d.percent,y=m===0?1:h((r-d.percent)/m,1);v.easingFunc&&(y=v.easingFunc(y));var b=n?this._additiveValue:l?Bl:e[u];if((vh(a)||l)&&!b&&(b=this._additiveValue=[]),this.discrete)e[u]=y<1?d.rawValue:v.rawValue;else if(vh(a))a===ud?B1(b,d[i],v[i],y):_E(b,d[i],v[i],y);else if(Db(a)){var w=d[i],S=v[i],D=a===Fg;e[u]={type:D?"linear":"radial",x:Ra(w.x,S.x,y),y:Ra(w.y,S.y,y),colorStops:Xe(w.colorStops,function(A,k){var O=S.colorStops[k];return{offset:Ra(A.offset,O.offset,y),color:sd(B1([],A.color,O.color,y))}}),global:S.global},D?(e[u].x2=Ra(w.x2,S.x2,y),e[u].y2=Ra(w.y2,S.y2,y)):e[u].r=Ra(w.r,S.r,y)}else if(l)B1(b,d[i],v[i],y),n||(e[u]=sd(b));else{var M=Ra(d[i],v[i],y);n?this._additiveValue=M:e[u]=M}n&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var r=this.valType,n=this.propName,i=this._additiveValue;r===dh?e[n]=e[n]+i:r===uc?(Es(e[n],Bl),hh(Bl,Bl,i,1),e[n]=sd(Bl)):r===ud?hh(e[n],e[n],i,1):r===xx&&Tb(e[n],e[n],i,1)},t}(),Fy=function(){function t(e,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=r,r&&i){Iy("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,r,n){return this.whenWithKeys(e,r,or(r),n)},t.prototype.whenWithKeys=function(e,r,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],u=a[s];if(!u){u=a[s]=new SE(s);var l=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,h=f[f.length-1];l=h&&h.value,c.valType===uc&&l&&(l=sd(l))}else l=this._target[s];if(l==null)continue;e>0&&u.addKeyframe(0,od(l),i),this._trackKeys.push(s)}u.addKeyframe(e,od(r[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var r=e.length,n=0;n<r;n++)e[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,r=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)e[r[n]].setFinished()},t.prototype._getAdditiveTrack=function(e){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(e);a&&(r=a)}return r},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],u=this._getAdditiveTrack(o),l=s.keyframes,c=l.length;if(s.prepare(i,u),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=l[c-1];f&&(r._target[s.propName]=f.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var h=new gE({life:i,loop:this._loop,delay:this._delay||0,onframe:function(d){r._started=2;var v=r._additiveAnimators;if(v){for(var g=!1,m=0;m<v.length;m++)if(v[m]._clip){g=!0;break}g||(r._additiveAnimators=null)}for(var m=0;m<n.length;m++)n[m].step(r._target,d);var y=r._onframeCbs;if(y)for(var m=0;m<y.length;m++)y[m](r._target,d)},ondestroy:function(){r._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var r=this._clip;e&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return Xe(this._trackKeys,function(r){return e._tracks[r]})},t.prototype.stopTracks=function(e,r){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var o=n[e[a]];o&&!o.isFinished()&&(r?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,r,n){if(e){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var a=r[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,u=s[n?0:s.length-1];u&&(e[a]=od(u.rawValue))}}}},t.prototype.__changeFinalValue=function(e,r){r=r||or(e);for(var n=0;n<r.length;n++){var i=r[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},t}(),Ma=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,r,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!e)return this;var o=this._$eventProcessor;r!=null&&o&&o.normalizeQuery&&(r=o.normalizeQuery(r)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===n)return this;var u={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=a[e].length-1,c=a[e][l];return c&&c.callAtLast?a[e].splice(l,0,u):a[e].push(u),this},t.prototype.isSilent=function(e){var r=this._$handlers;return!r||!r[e]||!r[e].length},t.prototype.off=function(e,r){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(r){if(n[e]){for(var i=[],a=0,o=n[e].length;a<o;a++)n[e][a].h!==r&&i.push(n[e][a]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},t.prototype.trigger=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=i.length,u=0;u<s;u++){var l=i[u];if(!(a&&a.filter&&l.query!=null&&!a.filter(e,l.query)))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,r[0]);break;case 2:l.h.call(l.ctx,r[0],r[1]);break;default:l.h.apply(l.ctx,r);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=r[o-1],u=i.length,l=0;l<u;l++){var c=i[l];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,r[0]);break;case 2:c.h.call(s,r[0],r[1]);break;default:c.h.apply(s,r.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t}(),Sx=1;ht.hasGlobalWindow&&(Sx=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Gd=Sx,Bg=.4,$g="#333",Vg="#ccc",TE="#eee",va=1,ld=2,lc=4,$1="__zr_normal__",V1=jc.concat(["ignore"]),ME=Oo(jc,function(t,e){return t[e]=!0,t},{ignore:!1}),ru={},DE=new Nt(0,0,0,0),Wv=function(){function t(e){this.id=Q6(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var r=this._textContent;if(r&&(!r.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=r.innerTransformable,o=void 0,s=void 0,u=!1;a.parent=i?this:null;var l=!1;if(a.copyTransform(r),n.position!=null){var c=DE;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(ru,n,c):$d(ru,n,c),a.x=ru.x,a.y=ru.y,o=ru.align,s=ru.verticalAlign;var f=n.origin;if(f&&n.rotation!=null){var h=void 0,d=void 0;f==="center"?(h=c.width*.5,d=c.height*.5):(h=Po(f[0],c.width),d=Po(f[1],c.height)),l=!0,a.originX=-a.x+h+(i?0:c.x),a.originY=-a.y+d+(i?0:c.y)}}n.rotation!=null&&(a.rotation=n.rotation);var v=n.offset;v&&(a.x+=v[0],a.y+=v[1],l||(a.originX=-v[0],a.originY=-v[1]));var g=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,b=void 0,w=void 0;g&&this.canBeInsideText()?(y=n.insideFill,b=n.insideStroke,(y==null||y==="auto")&&(y=this.getInsideTextFill()),(b==null||b==="auto")&&(b=this.getInsideTextStroke(y),w=!0)):(y=n.outsideFill,b=n.outsideStroke,(y==null||y==="auto")&&(y=this.getOutsideFill()),(b==null||b==="auto")&&(b=this.getOutsideStroke(y),w=!0)),y=y||"#000",(y!==m.fill||b!==m.stroke||w!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(u=!0,m.fill=y,m.stroke=b,m.autoStroke=w,m.align=o,m.verticalAlign=s,r.setDefaultTextStyle(m)),r.__dirty|=va,u&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Vg:$g},t.prototype.getOutsideStroke=function(e){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&Es(r);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(a?0:255)*(1-i);return n[3]=1,Ny(n,"rgba")},t.prototype.traverse=function(e,r){},t.prototype.attrKV=function(e,r){e==="textConfig"?this.setTextConfig(r):e==="textContent"?this.setTextContent(r):e==="clipPath"?this.setClipPath(r):e==="extra"?(this.extra=this.extra||{},_e(this.extra,r)):this[e]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,r){if(typeof e=="string")this.attrKV(e,r);else if(it(e))for(var n=e,i=or(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,e[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==$1)){var o=i.targetName,s=o?r[o]:r;i.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var r=this._normalState;r||(r=this._normalState={}),e.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(e,r,V1)},t.prototype._savePrimaryToNormal=function(e,r,n){for(var i=0;i<n.length;i++){var a=n[i];e[a]!=null&&!(a in r)&&(r[a]=this[a])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var r=this.states;return r[e]||(r[e]={}),r[e]},t.prototype.clearStates=function(e){this.useState($1,!1,e)},t.prototype.useState=function(e,r,n,i){var a=e===$1,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,u=this.stateTransition;if(!(Ut(s,e)>=0&&(r||s.length===1))){var l;if(this.stateProxy&&!a&&(l=this.stateProxy(e)),l||(l=this.states&&this.states[e]),!l&&!a){Iy("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(l);var c=!!(l&&l.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,l,this._normalState,r,!n&&!this.__inHover&&u&&u.duration>0,u);var f=this._textContent,h=this._textGuide;return f&&f.useState(e,r,n,c),h&&h.useState(e,r,n,c),a?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),l}}},t.prototype.useStates=function(e,r,n){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,o=e.length,s=o===a.length;if(s){for(var u=0;u<o;u++)if(e[u]!==a[u]){s=!1;break}}if(s)return;for(var u=0;u<o;u++){var l=e[u],c=void 0;this.stateProxy&&(c=this.stateProxy(l,e)),c||(c=this.states[l]),c&&i.push(c)}var f=i[o-1],h=!!(f&&f.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(i),v=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!r&&!this.__inHover&&v&&v.duration>0,v);var g=this._textContent,m=this._textGuide;g&&g.useStates(e,r,h),m&&m.useStates(e,r,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},t.prototype.isSilent=function(){for(var e=this.silent,r=this.parent;!e&&r;){if(r.silent){e=!0;break}r=r.parent}return e},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var r=this.animators[e];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(e){var r=Ut(this.currentStates,e);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},t.prototype.replaceState=function(e,r,n){var i=this.currentStates.slice(),a=Ut(i,e),o=Ut(i,r)>=0;a>=0?o?i.splice(a,1):i[a]=r:n&&!o&&i.push(r),this.useStates(i)},t.prototype.toggleState=function(e,r){r?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var r={},n,i=0;i<e.length;i++){var a=e[i];_e(r,a),a.textConfig&&(n=n||{},_e(n,a.textConfig))}return n&&(r.textConfig=n),r},t.prototype._applyStateObj=function(e,r,n,i,a,o){var s=!(r&&i);r&&r.textConfig?(this.textConfig=_e({},i?this.textConfig:n.textConfig),_e(this.textConfig,r.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var u={},l=!1,c=0;c<V1.length;c++){var f=V1[c],h=a&&ME[f];r&&r[f]!=null?h?(l=!0,u[f]=r[f]):this[f]=r[f]:s&&n[f]!=null&&(h?(l=!0,u[f]=n[f]):this[f]=n[f])}if(!a)for(var c=0;c<this.animators.length;c++){var d=this.animators[c],v=d.targetName;d.getLoop()||d.__changeFinalValue(v?(r||n)[v]:r||n)}l&&this._transitionState(e,u,o)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var r=this.__zr;r&&e.addSelfToZr(r),e.__zr=r,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var r=this._textContent;r!==e&&(r&&r!==e&&this.removeTextContent(),e.innerTransformable=new Mf,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),_e(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=va;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=e),n&&(n.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,r,n){var i=e?this[e]:this,a=new Fy(i,r,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},t.prototype.addAnimator=function(e,r){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(r)}).done(function(){var a=i.animators,o=Ut(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,r){for(var n=this.animators,i=n.length,a=[],o=0;o<i;o++){var s=n[o];!e||e===s.scope?s.stop(r):a.push(s)}return this.animators=a,this},t.prototype.animateTo=function(e,r,n){H1(this,e,r,n)},t.prototype.animateFrom=function(e,r,n){H1(this,e,r,n,!0)},t.prototype._transitionState=function(e,r,n,i){for(var a=H1(this,r,n,i),o=0;o<a.length;o++)a[o].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=va;function r(n,i,a,o){Object.defineProperty(e,n,{get:function(){if(!this[i]){var u=this[i]=[];s(this,u)}return this[i]},set:function(u){this[a]=u[0],this[o]=u[1],this[i]=u,s(this,u)}});function s(u,l){Object.defineProperty(l,0,{get:function(){return u[a]},set:function(c){u[a]=c}}),Object.defineProperty(l,1,{get:function(){return u[o]},set:function(c){u[o]=c}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();Ta(Wv,Ma);Ta(Wv,Mf);function H1(t,e,r,n,i){r=r||{};var a=[];Tx(t,"",t,e,r,n,a,i);var o=a.length,s=!1,u=r.done,l=r.aborted,c=function(){s=!0,o--,o<=0&&(s?u&&u():l&&l())},f=function(){o--,o<=0&&(s?u&&u():l&&l())};o||u&&u(),a.length>0&&r.during&&a[0].during(function(v,g){r.during(g)});for(var h=0;h<a.length;h++){var d=a[h];c&&d.done(c),f&&d.aborted(f),r.force&&d.duration(r.duration),d.start(r.easing)}return a}function G1(t,e,r){for(var n=0;n<r;n++)t[n]=e[n]}function CE(t){return Dn(t[0])}function AE(t,e,r){if(Dn(e[r]))if(Dn(t[r])||(t[r]=[]),Vn(e[r])){var n=e[r].length;t[r].length!==n&&(t[r]=new e[r].constructor(n),G1(t[r],e[r],n))}else{var i=e[r],a=t[r],o=i.length;if(CE(i))for(var s=i[0].length,u=0;u<o;u++)a[u]?G1(a[u],i[u],s):a[u]=Array.prototype.slice.call(i[u]);else G1(a,i,o);a.length=i.length}else t[r]=e[r]}function IE(t,e){return t===e||Dn(t)&&Dn(e)&&EE(t,e)}function EE(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Tx(t,e,r,n,i,a,o,s){for(var u=or(n),l=i.duration,c=i.delay,f=i.additive,h=i.setToFinal,d=!it(a),v=t.animators,g=[],m=0;m<u.length;m++){var y=u[m],b=n[y];if(b!=null&&r[y]!=null&&(d||a[y]))if(it(b)&&!Dn(b)&&!Bv(b)){if(e){s||(r[y]=b,t.updateDuringAnimation(e));continue}Tx(t,y,r[y],b,i,a&&a[y],o,s)}else g.push(y);else s||(r[y]=b,t.updateDuringAnimation(e),g.push(y))}var w=g.length;if(!f&&w)for(var S=0;S<v.length;S++){var D=v[S];if(D.targetName===e){var M=D.stopTracks(g);if(M){var A=Ut(v,D);v.splice(A,1)}}}if(i.force||(g=xr(g,function(R){return!IE(n[R],r[R])}),w=g.length),w>0||i.force&&!o.length){var k=void 0,O=void 0,P=void 0;if(s){O={},h&&(k={});for(var S=0;S<w;S++){var y=g[S];O[y]=r[y],h?k[y]=n[y]:r[y]=n[y]}}else if(h){P={};for(var S=0;S<w;S++){var y=g[S];P[y]=od(r[y]),AE(r,n,y)}}var D=new Fy(r,!1,!1,f?xr(v,function(H){return H.targetName===e}):null);D.targetName=e,i.scope&&(D.scope=i.scope),h&&k&&D.whenWithKeys(0,k,g),P&&D.whenWithKeys(0,P,g),D.whenWithKeys(l??500,s?O:n,g).delay(c||0),t.addAnimator(D,e),o.push(D)}}var Hg="__zr_style_"+Math.round(Math.random()*10),ks={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Uv={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};ks[Hg]=!0;var Cb=["z","z2","invisible"],kE=["invisible"],fl=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype._init=function(r){for(var n=or(r),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(r[a]):t.prototype.attrKV.call(this,a,r[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(r,n,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&OE(this,r,n)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},e.prototype.contain=function(r,n){return this.rectContain(r,n)},e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,u=a.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Nt(0,0,0,0)),n?Nt.applyTransform(r,i,n):r.copy(i),(o||s||u)&&(r.width+=o*2+Math.abs(s),r.height+=o*2+Math.abs(u),r.x=Math.min(r.x,r.x+s-o),r.y=Math.min(r.y,r.y+u-o));var l=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-l),r.y=Math.floor(r.y-l),r.width=Math.ceil(r.width+1+l*2),r.height=Math.ceil(r.height+1+l*2))}return r},e.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Nt(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(r){return this.animate("style",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(r,n){r!=="style"?t.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:_e(this.style,r),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=ld,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&ld)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(r){return $v(ks,r)},e.prototype.useStyle=function(r){r[Hg]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},e.prototype.isStyleObject=function(r){return r[Hg]},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,Cb)},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var u=!(n&&a),l;if(n&&n.style?o?a?l=n.style:(l=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(l,n.style)):(l=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(l,n.style)):u&&(l=i.style),l)if(o){var c=this.style;if(this.style=this.createStyle(u?{}:c),u)for(var f=or(c),h=0;h<f.length;h++){var d=f[h];d in l&&(l[d]=l[d],this.style[d]=c[d])}for(var v=or(l),h=0;h<v.length;h++){var d=v[h];this.style[d]=this.style[d]}this._transitionState(r,{style:l},s,this.getAnimationStyleProps())}else this.useStyle(l);for(var g=this.__inHover?kE:Cb,h=0;h<g.length;h++){var d=g[h];n&&n[d]!=null?this[d]=n[d]:u&&i[d]!=null&&(this[d]=i[d])}},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(r,n){return _e(r,n),r},e.prototype.getAnimationStyleProps=function(){return Uv},e.initDefaultProps=function(){var r=e.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=va|ld}(),e}(Wv),W1=new Nt(0,0,0,0),U1=new Nt(0,0,0,0);function OE(t,e,r){return W1.copy(t.getBoundingRect()),t.transform&&W1.applyTransform(t.transform),U1.width=e,U1.height=r,!W1.intersect(U1)}var Ln=Math.min,Rn=Math.max,q1=Math.sin,Y1=Math.cos,es=Math.PI*2,ph=cl(),gh=cl(),mh=cl();function Mx(t,e,r){if(t.length!==0){for(var n=t[0],i=n[0],a=n[0],o=n[1],s=n[1],u=1;u<t.length;u++)n=t[u],i=Ln(i,n[0]),a=Rn(a,n[0]),o=Ln(o,n[1]),s=Rn(s,n[1]);e[0]=i,e[1]=o,r[0]=a,r[1]=s}}function Ab(t,e,r,n,i,a){i[0]=Ln(t,r),i[1]=Ln(e,n),a[0]=Rn(t,r),a[1]=Rn(e,n)}var Ib=[],Eb=[];function PE(t,e,r,n,i,a,o,s,u,l){var c=px,f=Xr,h=c(t,r,i,o,Ib);u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var d=0;d<h;d++){var v=f(t,r,i,o,Ib[d]);u[0]=Ln(v,u[0]),l[0]=Rn(v,l[0])}h=c(e,n,a,s,Eb);for(var d=0;d<h;d++){var g=f(e,n,a,s,Eb[d]);u[1]=Ln(g,u[1]),l[1]=Rn(g,l[1])}u[0]=Ln(t,u[0]),l[0]=Rn(t,l[0]),u[0]=Ln(o,u[0]),l[0]=Rn(o,l[0]),u[1]=Ln(e,u[1]),l[1]=Rn(e,l[1]),u[1]=Ln(s,u[1]),l[1]=Rn(s,l[1])}function LE(t,e,r,n,i,a,o,s){var u=mx,l=cn,c=Rn(Ln(u(t,r,i),1),0),f=Rn(Ln(u(e,n,a),1),0),h=l(t,r,i,c),d=l(e,n,a,f);o[0]=Ln(t,i,h),o[1]=Ln(e,a,d),s[0]=Rn(t,i,h),s[1]=Rn(e,a,d)}function RE(t,e,r,n,i,a,o,s,u){var l=Su,c=Tu,f=Math.abs(i-a);if(f%es<1e-4&&f>1e-4){s[0]=t-r,s[1]=e-n,u[0]=t+r,u[1]=e+n;return}if(ph[0]=Y1(i)*r+t,ph[1]=q1(i)*n+e,gh[0]=Y1(a)*r+t,gh[1]=q1(a)*n+e,l(s,ph,gh),c(u,ph,gh),i=i%es,i<0&&(i=i+es),a=a%es,a<0&&(a=a+es),i>a&&!o?a+=es:i<a&&o&&(i+=es),o){var h=a;a=i,i=h}for(var d=0;d<a;d+=Math.PI/2)d>i&&(mh[0]=Y1(d)*r+t,mh[1]=q1(d)*n+e,l(s,mh,s),c(u,mh,u))}var Ht={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ts=[],rs=[],Zi=[],ao=[],Xi=[],Ji=[],j1=Math.min,K1=Math.max,ns=Math.cos,is=Math.sin,Oa=Math.abs,Gg=Math.PI,vo=Gg*2,Z1=typeof Float32Array<"u",$l=[];function X1(t){var e=Math.round(t/Gg*1e8)/1e8;return e%2*Gg}function Dx(t,e){var r=X1(t[0]);r<0&&(r+=vo);var n=r-t[0],i=t[1];i+=n,!e&&i-r>=vo?i=r+vo:e&&r-i>=vo?i=r-vo:!e&&r>i?i=r+(vo-X1(r-i)):e&&r<i&&(i=r-(vo-X1(i-r))),t[0]=r,t[1]=i}var Ro=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,r,n){n=n||0,n>0&&(this._ux=Oa(n/Gd/e)||0,this._uy=Oa(n/Gd/r)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,r){return this._drawPendingPt(),this.addData(Ht.M,e,r),this._ctx&&this._ctx.moveTo(e,r),this._x0=e,this._y0=r,this._xi=e,this._yi=r,this},t.prototype.lineTo=function(e,r){var n=Oa(e-this._xi),i=Oa(r-this._yi),a=n>this._ux||i>this._uy;if(this.addData(Ht.L,e,r),this._ctx&&a&&this._ctx.lineTo(e,r),a)this._xi=e,this._yi=r,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=r,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,r,n,i,a,o){return this._drawPendingPt(),this.addData(Ht.C,e,r,n,i,a,o),this._ctx&&this._ctx.bezierCurveTo(e,r,n,i,a,o),this._xi=a,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,r,n,i){return this._drawPendingPt(),this.addData(Ht.Q,e,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,r,n,i),this._xi=n,this._yi=i,this},t.prototype.arc=function(e,r,n,i,a,o){this._drawPendingPt(),$l[0]=i,$l[1]=a,Dx($l,o),i=$l[0],a=$l[1];var s=a-i;return this.addData(Ht.A,e,r,n,n,i,s,0,o?0:1),this._ctx&&this._ctx.arc(e,r,n,i,a,o),this._xi=ns(a)*n+e,this._yi=is(a)*n+r,this},t.prototype.arcTo=function(e,r,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,r,n,i,a),this},t.prototype.rect=function(e,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,r,n,i),this.addData(Ht.R,e,r,n,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Ht.Z);var e=this._ctx,r=this._x0,n=this._y0;return e&&e.closePath(),this._xi=r,this._yi=n,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var r=e.length;!(this.data&&this.data.length===r)&&Z1&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=e[n];this._len=r},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var r=e.length,n=0,i=this._len,a=0;a<r;a++)n+=e[a].len();Z1&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var a=0;a<r;a++)for(var o=e[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},t.prototype.addData=function(e,r,n,i,a,o,s,u,l){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],r=0;r<this._len;r++)e[r]=this.data[r];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,Z1&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){Zi[0]=Zi[1]=Xi[0]=Xi[1]=Number.MAX_VALUE,ao[0]=ao[1]=Ji[0]=Ji[1]=-Number.MAX_VALUE;var e=this.data,r=0,n=0,i=0,a=0,o;for(o=0;o<this._len;){var s=e[o++],u=o===1;switch(u&&(r=e[o],n=e[o+1],i=r,a=n),s){case Ht.M:r=i=e[o++],n=a=e[o++],Xi[0]=i,Xi[1]=a,Ji[0]=i,Ji[1]=a;break;case Ht.L:Ab(r,n,e[o],e[o+1],Xi,Ji),r=e[o++],n=e[o++];break;case Ht.C:PE(r,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Xi,Ji),r=e[o++],n=e[o++];break;case Ht.Q:LE(r,n,e[o++],e[o++],e[o],e[o+1],Xi,Ji),r=e[o++],n=e[o++];break;case Ht.A:var l=e[o++],c=e[o++],f=e[o++],h=e[o++],d=e[o++],v=e[o++]+d;o+=1;var g=!e[o++];u&&(i=ns(d)*f+l,a=is(d)*h+c),RE(l,c,f,h,d,v,g,Xi,Ji),r=ns(v)*f+l,n=is(v)*h+c;break;case Ht.R:i=r=e[o++],a=n=e[o++];var m=e[o++],y=e[o++];Ab(i,a,i+m,a+y,Xi,Ji);break;case Ht.Z:r=i,n=a;break}Su(Zi,Zi,Xi),Tu(ao,ao,Ji)}return o===0&&(Zi[0]=Zi[1]=ao[0]=ao[1]=0),new Nt(Zi[0],Zi[1],ao[0]-Zi[0],ao[1]-Zi[1])},t.prototype._calculateLength=function(){var e=this.data,r=this._len,n=this._ux,i=this._uy,a=0,o=0,s=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,c=0,f=0,h=0;h<r;){var d=e[h++],v=h===1;v&&(a=e[h],o=e[h+1],s=a,u=o);var g=-1;switch(d){case Ht.M:a=s=e[h++],o=u=e[h++];break;case Ht.L:{var m=e[h++],y=e[h++],b=m-a,w=y-o;(Oa(b)>n||Oa(w)>i||h===r-1)&&(g=Math.sqrt(b*b+w*w),a=m,o=y);break}case Ht.C:{var S=e[h++],D=e[h++],m=e[h++],y=e[h++],M=e[h++],A=e[h++];g=hE(a,o,S,D,m,y,M,A,10),a=M,o=A;break}case Ht.Q:{var S=e[h++],D=e[h++],m=e[h++],y=e[h++];g=vE(a,o,S,D,m,y,10),a=m,o=y;break}case Ht.A:var k=e[h++],O=e[h++],P=e[h++],R=e[h++],H=e[h++],z=e[h++],W=z+H;h+=1,v&&(s=ns(H)*P+k,u=is(H)*R+O),g=K1(P,R)*j1(vo,Math.abs(z)),a=ns(W)*P+k,o=is(W)*R+O;break;case Ht.R:{s=a=e[h++],u=o=e[h++];var ee=e[h++],ne=e[h++];g=ee*2+ne*2;break}case Ht.Z:{var b=s-a,w=u-o;g=Math.sqrt(b*b+w*w),a=s,o=u;break}}g>=0&&(l[f++]=g,c+=g)}return this._pathLen=c,c},t.prototype.rebuildPath=function(e,r){var n=this.data,i=this._ux,a=this._uy,o=this._len,s,u,l,c,f,h,d=r<1,v,g,m=0,y=0,b,w=0,S,D;if(!(d&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,g=this._pathLen,b=r*g,!b)))e:for(var M=0;M<o;){var A=n[M++],k=M===1;switch(k&&(l=n[M],c=n[M+1],s=l,u=c),A!==Ht.L&&w>0&&(e.lineTo(S,D),w=0),A){case Ht.M:s=l=n[M++],u=c=n[M++],e.moveTo(l,c);break;case Ht.L:{f=n[M++],h=n[M++];var O=Oa(f-l),P=Oa(h-c);if(O>i||P>a){if(d){var R=v[y++];if(m+R>b){var H=(b-m)/R;e.lineTo(l*(1-H)+f*H,c*(1-H)+h*H);break e}m+=R}e.lineTo(f,h),l=f,c=h,w=0}else{var z=O*O+P*P;z>w&&(S=f,D=h,w=z)}break}case Ht.C:{var W=n[M++],ee=n[M++],ne=n[M++],he=n[M++],X=n[M++],te=n[M++];if(d){var R=v[y++];if(m+R>b){var H=(b-m)/R;Lo(l,W,ne,X,H,ts),Lo(c,ee,he,te,H,rs),e.bezierCurveTo(ts[1],rs[1],ts[2],rs[2],ts[3],rs[3]);break e}m+=R}e.bezierCurveTo(W,ee,ne,he,X,te),l=X,c=te;break}case Ht.Q:{var W=n[M++],ee=n[M++],ne=n[M++],he=n[M++];if(d){var R=v[y++];if(m+R>b){var H=(b-m)/R;Vd(l,W,ne,H,ts),Vd(c,ee,he,H,rs),e.quadraticCurveTo(ts[1],rs[1],ts[2],rs[2]);break e}m+=R}e.quadraticCurveTo(W,ee,ne,he),l=ne,c=he;break}case Ht.A:var oe=n[M++],Q=n[M++],ue=n[M++],pe=n[M++],Ee=n[M++],Be=n[M++],Ye=n[M++],Ke=!n[M++],Ge=ue>pe?ue:pe,ve=Oa(ue-pe)>.001,et=Ee+Be,Ie=!1;if(d){var R=v[y++];m+R>b&&(et=Ee+Be*(b-m)/R,Ie=!0),m+=R}if(ve&&e.ellipse?e.ellipse(oe,Q,ue,pe,Ye,Ee,et,Ke):e.arc(oe,Q,Ge,Ee,et,Ke),Ie)break e;k&&(s=ns(Ee)*ue+oe,u=is(Ee)*pe+Q),l=ns(et)*ue+oe,c=is(et)*pe+Q;break;case Ht.R:s=l=n[M],u=c=n[M+1],f=n[M++],h=n[M++];var be=n[M++],xe=n[M++];if(d){var R=v[y++];if(m+R>b){var Se=b-m;e.moveTo(f,h),e.lineTo(f+j1(Se,be),h),Se-=be,Se>0&&e.lineTo(f+be,h+j1(Se,xe)),Se-=xe,Se>0&&e.lineTo(f+K1(be-Se,0),h+xe),Se-=be,Se>0&&e.lineTo(f,h+K1(xe-Se,0));break e}m+=R}e.rect(f,h,be,xe);break;case Ht.Z:if(d){var R=v[y++];if(m+R>b){var H=(b-m)/R;e.lineTo(l*(1-H)+s*H,c*(1-H)+u*H);break e}m+=R}e.closePath(),l=s,c=u}}},t.prototype.clone=function(){var e=new t,r=this.data;return e.data=r.slice?r.slice():Array.prototype.slice.call(r),e._len=this._len,e},t.CMD=Ht,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();function nu(t,e,r,n,i,a,o){if(i===0)return!1;var s=i,u=0,l=t;if(o>e+s&&o>n+s||o<e-s&&o<n-s||a>t+s&&a>r+s||a<t-s&&a<r-s)return!1;if(t!==r)u=(e-n)/(t-r),l=(t*n-r*e)/(t-r);else return Math.abs(a-t)<=s/2;var c=u*a-o+l,f=c*c/(u*u+1);return f<=s/2*s/2}function NE(t,e,r,n,i,a,o,s,u,l,c){if(u===0)return!1;var f=u;if(c>e+f&&c>n+f&&c>a+f&&c>s+f||c<e-f&&c<n-f&&c<a-f&&c<s-f||l>t+f&&l>r+f&&l>i+f&&l>o+f||l<t-f&&l<r-f&&l<i-f&&l<o-f)return!1;var h=gx(t,e,r,n,i,a,o,s,l,c,null);return h<=f/2}function FE(t,e,r,n,i,a,o,s,u){if(o===0)return!1;var l=o;if(u>e+l&&u>n+l&&u>a+l||u<e-l&&u<n-l&&u<a-l||s>t+l&&s>r+l&&s>i+l||s<t-l&&s<r-l&&s<i-l)return!1;var c=yx(t,e,r,n,i,a,s,u,null);return c<=l/2}var kb=Math.PI*2;function Fa(t){return t%=kb,t<0&&(t+=kb),t}var Vl=Math.PI*2;function zE(t,e,r,n,i,a,o,s,u){if(o===0)return!1;var l=o;s-=t,u-=e;var c=Math.sqrt(s*s+u*u);if(c-l>r||c+l<r)return!1;if(Math.abs(n-i)%Vl<1e-4)return!0;if(a){var f=n;n=Fa(i),i=Fa(f)}else n=Fa(n),i=Fa(i);n>i&&(i+=Vl);var h=Math.atan2(u,s);return h<0&&(h+=Vl),h>=n&&h<=i||h+Vl>=n&&h+Vl<=i}function as(t,e,r,n,i,a){if(a>e&&a>n||a<e&&a<n||n===e)return 0;var o=(a-e)/(n-e),s=n<e?1:-1;(o===1||o===0)&&(s=n<e?.5:-.5);var u=o*(r-t)+t;return u===i?1/0:u>i?s:0}var oo=Ro.CMD,os=Math.PI*2,BE=1e-4;function $E(t,e){return Math.abs(t-e)<BE}var wn=[-1,-1,-1],ci=[-1,-1];function VE(){var t=ci[0];ci[0]=ci[1],ci[1]=t}function HE(t,e,r,n,i,a,o,s,u,l){if(l>e&&l>n&&l>a&&l>s||l<e&&l<n&&l<a&&l<s)return 0;var c=vx(e,n,a,s,l,wn);if(c===0)return 0;for(var f=0,h=-1,d=void 0,v=void 0,g=0;g<c;g++){var m=wn[g],y=m===0||m===1?.5:1,b=Xr(t,r,i,o,m);b<u||(h<0&&(h=px(e,n,a,s,ci),ci[1]<ci[0]&&h>1&&VE(),d=Xr(e,n,a,s,ci[0]),h>1&&(v=Xr(e,n,a,s,ci[1]))),h===2?m<ci[0]?f+=d<e?y:-y:m<ci[1]?f+=v<d?y:-y:f+=s<v?y:-y:m<ci[0]?f+=d<e?y:-y:f+=s<d?y:-y)}return f}function GE(t,e,r,n,i,a,o,s){if(s>e&&s>n&&s>a||s<e&&s<n&&s<a)return 0;var u=dE(e,n,a,s,wn);if(u===0)return 0;var l=mx(e,n,a);if(l>=0&&l<=1){for(var c=0,f=cn(e,n,a,l),h=0;h<u;h++){var d=wn[h]===0||wn[h]===1?.5:1,v=cn(t,r,i,wn[h]);v<o||(wn[h]<l?c+=f<e?d:-d:c+=a<f?d:-d)}return c}else{var d=wn[0]===0||wn[0]===1?.5:1,v=cn(t,r,i,wn[0]);return v<o?0:a<e?d:-d}}function WE(t,e,r,n,i,a,o,s){if(s-=e,s>r||s<-r)return 0;var u=Math.sqrt(r*r-s*s);wn[0]=-u,wn[1]=u;var l=Math.abs(n-i);if(l<1e-4)return 0;if(l>=os-1e-4){n=0,i=os;var c=a?1:-1;return o>=wn[0]+t&&o<=wn[1]+t?c:0}if(n>i){var f=n;n=i,i=f}n<0&&(n+=os,i+=os);for(var h=0,d=0;d<2;d++){var v=wn[d];if(v+t>o){var g=Math.atan2(s,v),c=a?1:-1;g<0&&(g=os+g),(g>=n&&g<=i||g+os>=n&&g+os<=i)&&(g>Math.PI/2&&g<Math.PI*1.5&&(c=-c),h+=c)}}return h}function Cx(t,e,r,n,i){for(var a=t.data,o=t.len(),s=0,u=0,l=0,c=0,f=0,h,d,v=0;v<o;){var g=a[v++],m=v===1;switch(g===oo.M&&v>1&&(r||(s+=as(u,l,c,f,n,i))),m&&(u=a[v],l=a[v+1],c=u,f=l),g){case oo.M:c=a[v++],f=a[v++],u=c,l=f;break;case oo.L:if(r){if(nu(u,l,a[v],a[v+1],e,n,i))return!0}else s+=as(u,l,a[v],a[v+1],n,i)||0;u=a[v++],l=a[v++];break;case oo.C:if(r){if(NE(u,l,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],e,n,i))return!0}else s+=HE(u,l,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],n,i)||0;u=a[v++],l=a[v++];break;case oo.Q:if(r){if(FE(u,l,a[v++],a[v++],a[v],a[v+1],e,n,i))return!0}else s+=GE(u,l,a[v++],a[v++],a[v],a[v+1],n,i)||0;u=a[v++],l=a[v++];break;case oo.A:var y=a[v++],b=a[v++],w=a[v++],S=a[v++],D=a[v++],M=a[v++];v+=1;var A=!!(1-a[v++]);h=Math.cos(D)*w+y,d=Math.sin(D)*S+b,m?(c=h,f=d):s+=as(u,l,h,d,n,i);var k=(n-y)*S/w+y;if(r){if(zE(y,b,S,D,D+M,A,e,k,i))return!0}else s+=WE(y,b,S,D,D+M,A,k,i);u=Math.cos(D+M)*w+y,l=Math.sin(D+M)*S+b;break;case oo.R:c=u=a[v++],f=l=a[v++];var O=a[v++],P=a[v++];if(h=c+O,d=f+P,r){if(nu(c,f,h,f,e,n,i)||nu(h,f,h,d,e,n,i)||nu(h,d,c,d,e,n,i)||nu(c,d,c,f,e,n,i))return!0}else s+=as(h,f,h,d,n,i),s+=as(c,d,c,f,n,i);break;case oo.Z:if(r){if(nu(u,l,c,f,e,n,i))return!0}else s+=as(u,l,c,f,n,i);u=c,l=f;break}}return!r&&!$E(l,f)&&(s+=as(u,l,c,f,n,i)||0),s!==0}function UE(t,e,r){return Cx(t,0,!1,e,r)}function qE(t,e,r,n){return Cx(t,e,!0,r,n)}var Ax=It({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},ks),YE={style:It({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Uv.style)},J1=jc.concat(["invisible","culling","z","z2","zlevel","parent"]),Ot=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.update=function(){var r=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(u){r.buildPath(u,r.shape)}),i.silent=!0;var a=i.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<J1.length;++s)i[J1[s]]=this[J1[s]];i.__dirty|=va}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(r){var n=or(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var o=n[a],s=r[o];o==="style"?this.style?_e(this.style,s):this.useStyle(s):o==="shape"?_e(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(je(r)){var n=Hd(r,0);return n>.5?$g:n>.2?TE:Vg}else if(r)return Vg}return $g},e.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(je(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=Hd(r,0)<Bg;if(a===o)return n}},e.prototype.buildPath=function(r,n,i){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},e.prototype.createPathProxy=function(){this.path=new Ro(!1)},e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&lc)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),r=o.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){s.copy(r);var u=n.strokeNoScale?this.getLineScale():1,l=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;l=Math.max(l,c??4)}u>1e-10&&(s.width+=l/u,s.height+=l/u,s.x-=l/u/2,s.y-=l/u/2)}return s}return r},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect(),o=this.style;if(r=i[0],n=i[1],a.contain(r,n)){var s=this.path;if(this.hasStroke()){var u=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),qE(s,u/l,r,n)))return!0}if(this.hasFill())return UE(s,r,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=lc,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(r){return this.animate("shape",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):t.prototype.attrKV.call(this,r,n)},e.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:_e(i,r),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&lc)},e.prototype.createStyle=function(r){return $v(Ax,r)},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=_e({},this.shape))},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var u=!(n&&a),l;if(n&&n.shape?o?a?l=n.shape:(l=_e({},i.shape),_e(l,n.shape)):(l=_e({},a?this.shape:i.shape),_e(l,n.shape)):u&&(l=i.shape),l)if(o){this.shape=_e({},this.shape);for(var c={},f=or(l),h=0;h<f.length;h++){var d=f[h];typeof l[d]=="object"?this.shape[d]=l[d]:c[d]=l[d]}this._transitionState(r,{shape:c},s)}else this.shape=l,this.dirtyShape()},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return YE},e.prototype.isZeroArea=function(){return!1},e.extend=function(r){var n=function(a){ze(o,a);function o(s){var u=a.call(this,s)||this;return r.init&&r.init.call(u,s),u}return o.prototype.getDefaultStyle=function(){return kt(r.style)},o.prototype.getDefaultShape=function(){return kt(r.shape)},o}(e);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},e.initDefaultProps=function(){var r=e.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=va|ld|lc}(),e}(fl),jE=It({strokeFirst:!0,font:Rs,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Ax),Wd=function(t){ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(r){return $v(jE,r)},e.prototype.setBoundingRect=function(r){this._rect=r},e.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=Ly(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var a=r.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var r=e.prototype;r.dirtyRectTolerance=10}(),e}(fl);Wd.prototype.type="tspan";var KE=It({x:0,y:0},ks),ZE={style:It({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Uv.style)};function XE(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var $s=function(t){ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(r){return $v(KE,r)},e.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var a=XE(n.image)?n.image:this.__image;if(!a)return 0;var o=r==="width"?"height":"width",s=n[o];return s==null?a[r]:a[r]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return ZE},e.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Nt(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},e}(fl);$s.prototype.type="image";function JE(t,e){var r=e.x,n=e.y,i=e.width,a=e.height,o=e.r,s,u,l,c;i<0&&(r=r+i,i=-i),a<0&&(n=n+a,a=-a),typeof o=="number"?s=u=l=c=o:o instanceof Array?o.length===1?s=u=l=c=o[0]:o.length===2?(s=l=o[0],u=c=o[1]):o.length===3?(s=o[0],u=c=o[1],l=o[2]):(s=o[0],u=o[1],l=o[2],c=o[3]):s=u=l=c=0;var f;s+u>i&&(f=s+u,s*=i/f,u*=i/f),l+c>i&&(f=l+c,l*=i/f,c*=i/f),u+l>a&&(f=u+l,u*=a/f,l*=a/f),s+c>a&&(f=s+c,s*=a/f,c*=a/f),t.moveTo(r+s,n),t.lineTo(r+i-u,n),u!==0&&t.arc(r+i-u,n+u,u,-Math.PI/2,0),t.lineTo(r+i,n+a-l),l!==0&&t.arc(r+i-l,n+a-l,l,0,Math.PI/2),t.lineTo(r+c,n+a),c!==0&&t.arc(r+c,n+a-c,c,Math.PI/2,Math.PI),t.lineTo(r,n+s),s!==0&&t.arc(r+s,n+s,s,Math.PI,Math.PI*1.5)}var Mu=Math.round;function Ix(t,e,r){if(e){var n=e.x1,i=e.x2,a=e.y1,o=e.y2;t.x1=n,t.x2=i,t.y1=a,t.y2=o;var s=r&&r.lineWidth;return s&&(Mu(n*2)===Mu(i*2)&&(t.x1=t.x2=Ts(n,s,!0)),Mu(a*2)===Mu(o*2)&&(t.y1=t.y2=Ts(a,s,!0))),t}}function Ex(t,e,r){if(e){var n=e.x,i=e.y,a=e.width,o=e.height;t.x=n,t.y=i,t.width=a,t.height=o;var s=r&&r.lineWidth;return s&&(t.x=Ts(n,s,!0),t.y=Ts(i,s,!0),t.width=Math.max(Ts(n+a,s,!1)-t.x,a===0?0:1),t.height=Math.max(Ts(i+o,s,!1)-t.y,o===0?0:1)),t}}function Ts(t,e,r){if(!e)return t;var n=Mu(t*2);return(n+Mu(e))%2===0?n/2:(n+(r?1:-1))/2}var QE=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),ek={},Ar=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new QE},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var u=Ex(ek,n,this.style);i=u.x,a=u.y,o=u.width,s=u.height,u.r=n.r,n=u}else i=n.x,a=n.y,o=n.width,s=n.height;n.r?JE(r,n):r.rect(i,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Ot);Ar.prototype.type="rect";var Ob={fill:"#000"},Pb=2,tk={style:It({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Uv.style)},gn=function(t){ze(e,t);function e(r){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=Ob,n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,ok(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Nt(0,0,0,0),n=this._children,i=[],a=null,o=0;o<n.length;o++){var s=n[o],u=s.getBoundingRect(),l=s.getLocalTransform(i);l?(r.copy(u),r.applyTransform(l),a=a||r.clone(),a.union(r)):(a=a||u.clone(),a.union(u))}this._rect=a||r}return this._rect},e.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||Ob},e.prototype.setTextContent=function(r){},e.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,a=r.rich||i&&{};return _e(r,n),i&&a?(this._mergeRich(a,i),r.rich=a):a&&(r.rich=a),r},e.prototype._mergeRich=function(r,n){for(var i=or(n),a=0;a<i.length;a++){var o=i[a];r[o]=r[o]||{},_e(r[o],n[o])}},e.prototype.getAnimationStyleProps=function(){return tk},e.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||Rs,i=r.padding,a=$b(r),o=XI(a,r),s=Q1(r),u=!!r.backgroundColor,l=o.outerHeight,c=o.outerWidth,f=o.contentWidth,h=o.lines,d=o.lineHeight,v=this._defaultStyle;this.isTruncated=!!o.isTruncated;var g=r.x||0,m=r.y||0,y=r.align||v.align||"left",b=r.verticalAlign||v.verticalAlign||"top",w=g,S=wu(m,o.contentHeight,b);if(s||i){var D=sc(g,c,y),M=wu(m,l,b);s&&this._renderBackground(r,r,D,M,c,l)}S+=d/2,i&&(w=Bb(g,y,i),b==="top"?S+=i[0]:b==="bottom"&&(S-=i[2]));for(var A=0,k=!1,O=zb("fill"in r?r.fill:(k=!0,v.fill)),P=Fb("stroke"in r?r.stroke:!u&&(!v.autoStroke||k)?(A=Pb,v.stroke):null),R=r.textShadowBlur>0,H=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),z=o.calculatedLineHeight,W=0;W<h.length;W++){var ee=this._getOrCreateChild(Wd),ne=ee.createStyle();ee.useStyle(ne),ne.text=h[W],ne.x=w,ne.y=S,ne.textAlign=y,ne.textBaseline="middle",ne.opacity=r.opacity,ne.strokeFirst=!0,R&&(ne.shadowBlur=r.textShadowBlur||0,ne.shadowColor=r.textShadowColor||"transparent",ne.shadowOffsetX=r.textShadowOffsetX||0,ne.shadowOffsetY=r.textShadowOffsetY||0),ne.stroke=P,ne.fill=O,P&&(ne.lineWidth=r.lineWidth||A,ne.lineDash=r.lineDash,ne.lineDashOffset=r.lineDashOffset||0),ne.font=n,Rb(ne,r),S+=d,H&&ee.setBoundingRect(new Nt(sc(ne.x,f,ne.textAlign),wu(ne.y,z,ne.textBaseline),f,z))}},e.prototype._updateRichTexts=function(){var r=this.style,n=$b(r),i=eE(n,r),a=i.width,o=i.outerWidth,s=i.outerHeight,u=r.padding,l=r.x||0,c=r.y||0,f=this._defaultStyle,h=r.align||f.align,d=r.verticalAlign||f.verticalAlign;this.isTruncated=!!i.isTruncated;var v=sc(l,o,h),g=wu(c,s,d),m=v,y=g;u&&(m+=u[3],y+=u[0]);var b=m+a;Q1(r)&&this._renderBackground(r,r,v,g,o,s);for(var w=!!r.backgroundColor,S=0;S<i.lines.length;S++){for(var D=i.lines[S],M=D.tokens,A=M.length,k=D.lineHeight,O=D.width,P=0,R=m,H=b,z=A-1,W=void 0;P<A&&(W=M[P],!W.align||W.align==="left");)this._placeToken(W,r,k,y,R,"left",w),O-=W.width,R+=W.width,P++;for(;z>=0&&(W=M[z],W.align==="right");)this._placeToken(W,r,k,y,H,"right",w),O-=W.width,H-=W.width,z--;for(R+=(a-(R-m)-(b-H)-O)/2;P<=z;)W=M[P],this._placeToken(W,r,k,y,R+W.width/2,"center",w),R+=W.width,P++;y+=k}},e.prototype._placeToken=function(r,n,i,a,o,s,u){var l=n.rich[r.styleName]||{};l.text=r.text;var c=r.verticalAlign,f=a+i/2;c==="top"?f=a+r.height/2:c==="bottom"&&(f=a+i-r.height/2);var h=!r.isLineHolder&&Q1(l);h&&this._renderBackground(l,n,s==="right"?o-r.width:s==="center"?o-r.width/2:o,f-r.height/2,r.width,r.height);var d=!!l.backgroundColor,v=r.textPadding;v&&(o=Bb(o,s,v),f-=r.height/2-v[0]-r.innerHeight/2);var g=this._getOrCreateChild(Wd),m=g.createStyle();g.useStyle(m);var y=this._defaultStyle,b=!1,w=0,S=zb("fill"in l?l.fill:"fill"in n?n.fill:(b=!0,y.fill)),D=Fb("stroke"in l?l.stroke:"stroke"in n?n.stroke:!d&&!u&&(!y.autoStroke||b)?(w=Pb,y.stroke):null),M=l.textShadowBlur>0||n.textShadowBlur>0;m.text=r.text,m.x=o,m.y=f,M&&(m.shadowBlur=l.textShadowBlur||n.textShadowBlur||0,m.shadowColor=l.textShadowColor||n.textShadowColor||"transparent",m.shadowOffsetX=l.textShadowOffsetX||n.textShadowOffsetX||0,m.shadowOffsetY=l.textShadowOffsetY||n.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=r.font||Rs,m.opacity=Sc(l.opacity,n.opacity,1),Rb(m,l),D&&(m.lineWidth=Sc(l.lineWidth,n.lineWidth,w),m.lineDash=bt(l.lineDash,n.lineDash),m.lineDashOffset=n.lineDashOffset||0,m.stroke=D),S&&(m.fill=S);var A=r.contentWidth,k=r.contentHeight;g.setBoundingRect(new Nt(sc(m.x,A,m.textAlign),wu(m.y,k,m.textBaseline),A,k))},e.prototype._renderBackground=function(r,n,i,a,o,s){var u=r.backgroundColor,l=r.borderWidth,c=r.borderColor,f=u&&u.image,h=u&&!f,d=r.borderRadius,v=this,g,m;if(h||r.lineHeight||l&&c){g=this._getOrCreateChild(Ar),g.useStyle(g.createStyle()),g.style.fill=null;var y=g.shape;y.x=i,y.y=a,y.width=o,y.height=s,y.r=d,g.dirtyShape()}if(h){var b=g.style;b.fill=u||null,b.fillOpacity=bt(r.fillOpacity,1)}else if(f){m=this._getOrCreateChild($s),m.onload=function(){v.dirtyStyle()};var w=m.style;w.image=u.image,w.x=i,w.y=a,w.width=o,w.height=s}if(l&&c){var b=g.style;b.lineWidth=l,b.stroke=c,b.strokeOpacity=bt(r.strokeOpacity,1),b.lineDash=r.borderDash,b.lineDashOffset=r.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(b.strokeFirst=!0,b.lineWidth*=2)}var S=(g||m).style;S.shadowBlur=r.shadowBlur||0,S.shadowColor=r.shadowColor||"transparent",S.shadowOffsetX=r.shadowOffsetX||0,S.shadowOffsetY=r.shadowOffsetY||0,S.opacity=Sc(r.opacity,n.opacity,1)},e.makeFont=function(r){var n="";return ak(r)&&(n=[r.fontStyle,r.fontWeight,ik(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&la(n)||r.textFont||r.font},e}(fl),rk={left:!0,right:1,center:1},nk={top:1,bottom:1,middle:1},Lb=["fontStyle","fontWeight","fontSize","fontFamily"];function ik(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?Dy+"px":t+"px"}function Rb(t,e){for(var r=0;r<Lb.length;r++){var n=Lb[r],i=e[n];i!=null&&(t[n]=i)}}function ak(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function ok(t){return Nb(t),F(t.rich,Nb),t}function Nb(t){if(t){t.font=gn.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||rk[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle"),t.verticalAlign=r==null||nk[r]?r:"top";var n=t.padding;n&&(t.padding=ex(t.padding))}}function Fb(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function zb(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function Bb(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function $b(t){var e=t.text;return e!=null&&(e+=""),e}function Q1(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var sk=1e-4,kx=20;function uk(t){return t.replace(/^\s+|\s+$/g,"")}function Wg(t,e,r,n){var i=e[0],a=e[1],o=r[0],s=r[1],u=a-i,l=s-o;if(u===0)return l===0?o:(o+s)/2;if(n)if(u>0){if(t<=i)return o;if(t>=a)return s}else{if(t>=i)return o;if(t<=a)return s}else{if(t===i)return o;if(t===a)return s}return(t-i)/u*l+o}function ar(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return je(t)?uk(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function Lr(t,e,r){return e==null&&(e=10),e=Math.min(Math.max(0,e),kx),t=(+t).toFixed(e),r?t:+t}function za(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,r=0;r<15;r++,e*=10)if(Math.round(t*e)/e===t)return r}return lk(t)}function lk(t){var e=t.toString().toLowerCase(),r=e.indexOf("e"),n=r>0?+e.slice(r+1):0,i=r>0?r:e.length,a=e.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-n)}function ck(t,e){var r=Math.log,n=Math.LN10,i=Math.floor(r(t[1]-t[0])/n),a=Math.round(r(Math.abs(e[1]-e[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function fk(t,e){var r=Oo(t,function(d,v){return d+(isNaN(v)?0:v)},0);if(r===0)return[];for(var n=Math.pow(10,e),i=Xe(t,function(d){return(isNaN(d)?0:d)/r*n*100}),a=n*100,o=Xe(i,function(d){return Math.floor(d)}),s=Oo(o,function(d,v){return d+v},0),u=Xe(i,function(d,v){return d-o[v]});s<a;){for(var l=Number.NEGATIVE_INFINITY,c=null,f=0,h=u.length;f<h;++f)u[f]>l&&(l=u[f],c=f);++o[c],u[c]=0,++s}return Xe(o,function(d){return d/n})}function hk(t,e){var r=Math.max(za(t),za(e)),n=t+e;return r>kx?n:Lr(n,r)}function Ox(t){var e=Math.PI*2;return(t%e+e)%e}function Ud(t){return t>-1e-4&&t<sk}var dk=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Wa(t){if(t instanceof Date)return t;if(je(t)){var e=dk.exec(t);if(!e)return new Date(NaN);if(e[8]){var r=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(r-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function vk(t){return Math.pow(10,zy(t))}function zy(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Px(t,e){var r=zy(t),n=Math.pow(10,r),i=t/n,a;return i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10,t=a*n,r>=-20?+t.toFixed(r<0?-r:0):t}function No(t){var e=parseFloat(t);return e==t&&(e!==0||!je(t)||t.indexOf("x")<=0)?e:NaN}function pk(t){return!isNaN(No(t))}function Lx(){return Math.round(Math.random()*9)}function Rx(t,e){return e===0?t:Rx(e,t%e)}function Vb(t,e){return t==null?e:e==null?t:t*e/Rx(t,e)}function Et(t){throw new Error(t)}function Hb(t,e,r){return(e-t)*r+t}var Nx="series\0",gk="\0_ec_\0";function Ir(t){return t instanceof Array?t:t==null?[]:[t]}function Ug(t,e,r){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,i=r.length;n<i;n++){var a=r[n];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var Gb=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Df(t){return it(t)&&!Fe(t)&&!(t instanceof Date)?t.value:t}function mk(t){return it(t)&&!(t instanceof Array)}function yk(t,e,r){var n=r==="normalMerge",i=r==="replaceMerge",a=r==="replaceAll";t=t||[],e=(e||[]).slice();var o=vt();F(e,function(u,l){if(!it(u)){e[l]=null;return}});var s=_k(t,o,r);return(n||i)&&bk(s,t,o,e),n&&wk(s,e),n||i?xk(s,e,i):a&&Sk(s,e),Tk(s),s}function _k(t,e,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<t.length;i++){var a=t[i];a&&a.id!=null&&e.set(a.id,i),n.push({existing:r==="replaceMerge"||Kc(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function bk(t,e,r,n){F(n,function(i,a){if(!(!i||i.id==null)){var o=Ac(i.id),s=r.get(o);if(s!=null){var u=t[s];Ga(!u.newOption,'Duplicated option on id "'+o+'".'),u.newOption=i,u.existing=e[s],n[a]=null}}})}function wk(t,e){F(e,function(r,n){if(!(!r||r.name==null))for(var i=0;i<t.length;i++){var a=t[i].existing;if(!t[i].newOption&&a&&(a.id==null||r.id==null)&&!Kc(r)&&!Kc(a)&&Fx("name",a,r)){t[i].newOption=r,e[n]=null;return}}})}function xk(t,e,r){F(e,function(n){if(n){for(var i,a=0;(i=t[a])&&(i.newOption||Kc(i.existing)||i.existing&&n.id!=null&&!Fx("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=r):t.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),a++}})}function Sk(t,e){F(e,function(r){t.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function Tk(t){var e=vt();F(t,function(r){var n=r.existing;n&&e.set(n.id,r)}),F(t,function(r){var n=r.newOption;Ga(!n||n.id==null||!e.get(n.id)||e.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),F(t,function(r,n){var i=r.existing,a=r.newOption,o=r.keyInfo;if(it(a)){if(o.name=a.name!=null?Ac(a.name):i?i.name:Nx+n,i)o.id=Ac(i.id);else if(a.id!=null)o.id=Ac(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,r)}})}function Fx(t,e,r){var n=pa(e[t],null),i=pa(r[t],null);return n!=null&&i!=null&&n===i}function Ac(t){return pa(t,"")}function pa(t,e){return t==null?e:je(t)?t:Jt(t)||Eg(t)?t+"":e}function By(t){var e=t.name;return!!(e&&e.indexOf(Nx))}function Kc(t){return t&&t.id!=null&&Ac(t.id).indexOf(gk)===0}function Mk(t,e,r){F(t,function(n){var i=n.newOption;it(i)&&(n.keyInfo.mainType=e,n.keyInfo.subType=Dk(e,i,n.existing,r))})}function Dk(t,e,r,n){var i=e.type?e.type:r?r.subType:n.determineSubType(t,e);return i}function Cf(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Fe(e.dataIndex)?Xe(e.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Fe(e.name)?Xe(e.name,function(r){return t.indexOfName(r)}):t.indexOfName(e.name)}function cr(){var t="__ec_inner_"+Ck++;return function(e){return e[t]||(e[t]={})}}var Ck=Lx();function e0(t,e,r){var n=$y(e,r),i=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,s=o,u=r?r.defaultMainType:null;return!i&&u&&a.set(u,{}),a.each(function(l,c){var f=Af(t,c,l,{useDefault:u===c,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function $y(t,e){var r;if(je(t)){var n={};n[t+"Index"]=0,r=n}else r=t;var i=vt(),a={},o=!1;return F(r,function(s,u){if(u==="dataIndex"||u==="dataIndexInside"){a[u]=s;return}var l=u.match(/^(\w+)(Index|Id|Name)$/)||[],c=l[1],f=(l[2]||"").toLowerCase();if(!(!c||!f||e&&e.includeMainTypes&&Ut(e.includeMainTypes,c)<0)){o=o||!!c;var h=i.get(c)||i.set(c,{});h[f]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var Ni={useDefault:!0,enableAll:!1,enableNone:!1};function Af(t,e,r,n){n=n||Ni;var i=r.index,a=r.id,o=r.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var u=void 0;return s.models=n.useDefault&&(u=t.getComponent(e))?[u]:[],s}return i==="none"||i===!1?(Ga(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(Ga(n.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=t.queryComponents({mainType:e,index:i,id:a,name:o}),s)}function zx(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function Ak(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function Ik(t){return t==="auto"?ht.domSupported?"html":"richText":t||"html"}function Ek(t,e,r,n,i){var a=e==null||e==="auto";if(n==null)return n;if(Jt(n)){var o=Hb(r||0,n,i);return Lr(o,a?Math.max(za(r||0),za(n)):e)}else{if(je(n))return i<1?r:n;for(var s=[],u=r,l=n,c=Math.max(u?u.length:0,l.length),f=0;f<c;++f){var h=t.getDimensionInfo(f);if(h&&h.type==="ordinal")s[f]=(i<1&&u?u:l)[f];else{var d=u&&u[f]?u[f]:0,v=l[f],o=Hb(d,v,i);s[f]=Lr(o,a?Math.max(za(d),za(v)):e)}}return s}}var $t=cr(),kk=function(t,e,r,n){if(n){var i=$t(n);i.dataIndex=r,i.dataType=e,i.seriesIndex=t,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var o=$t(a);o.seriesIndex=t,o.dataIndex=r,o.dataType=e,o.ssrType="chart"})}},Wb=1,Ub={},Bx=cr(),Vy=cr(),$x=0,Hy=1,Gy=2,_a=["emphasis","blur","select"],qd=["normal","emphasis","blur","select"],Ok=10,Pk=9,Os="highlight",cd="downplay",Ic="select",fd="unselect",Ec="toggleSelect";function iu(t){return t!=null&&t!=="none"}function qv(t,e,r){t.onHoverStateChange&&(t.hoverState||0)!==r&&t.onHoverStateChange(e),t.hoverState=r}function Vx(t){qv(t,"emphasis",Gy)}function Hx(t){t.hoverState===Gy&&qv(t,"normal",$x)}function Wy(t){qv(t,"blur",Hy)}function Gx(t){t.hoverState===Hy&&qv(t,"normal",$x)}function Lk(t){t.selected=!0}function Rk(t){t.selected=!1}function qb(t,e,r){e(t,r)}function ja(t,e,r){qb(t,e,r),t.isGroup&&t.traverse(function(n){qb(n,e,r)})}function Nk(t,e,r,n){for(var i=t.style,a={},o=0;o<e.length;o++){var s=e[o],u=i[s];a[s]=u??(n&&n[s])}for(var o=0;o<t.animators.length;o++){var l=t.animators[o];l.__fromStateTransition&&l.__fromStateTransition.indexOf(r)<0&&l.targetName==="style"&&l.saveTo(a,e)}return a}function Fk(t,e,r,n){var i=r&&Ut(r,"select")>=0,a=!1;if(t instanceof Ot){var o=Bx(t),s=i&&o.selectFill||o.normalFill,u=i&&o.selectStroke||o.normalStroke;if(iu(s)||iu(u)){n=n||{};var l=n.style||{};l.fill==="inherit"?(a=!0,n=_e({},n),l=_e({},l),l.fill=s):!iu(l.fill)&&iu(s)?(a=!0,n=_e({},n),l=_e({},l),l.fill=Sb(s)):!iu(l.stroke)&&iu(u)&&(a||(n=_e({},n),l=_e({},l)),l.stroke=Sb(u)),n.style=l}}if(n&&n.z2==null){a||(n=_e({},n));var c=t.z2EmphasisLift;n.z2=t.z2+(c??Ok)}return n}function zk(t,e,r){if(r&&r.z2==null){r=_e({},r);var n=t.z2SelectLift;r.z2=t.z2+(n??Pk)}return r}function Bk(t,e,r){var n=Ut(t.currentStates,e)>=0,i=t.style.opacity,a=n?null:Nk(t,["opacity"],e,{opacity:1});r=r||{};var o=r.style||{};return o.opacity==null&&(r=_e({},r),o=_e({opacity:n?i:a.opacity*.1},o),r.style=o),r}function t0(t,e){var r=this.states[t];if(this.style){if(t==="emphasis")return Fk(this,t,e,r);if(t==="blur")return Bk(this,t,r);if(t==="select")return zk(this,t,r)}return r}function $k(t){t.stateProxy=t0;var e=t.getTextContent(),r=t.getTextGuideLine();e&&(e.stateProxy=t0),r&&(r.stateProxy=t0)}function Yb(t,e){!Yx(t,e)&&!t.__highByOuter&&ja(t,Vx)}function jb(t,e){!Yx(t,e)&&!t.__highByOuter&&ja(t,Hx)}function qg(t,e){t.__highByOuter|=1<<(e||0),ja(t,Vx)}function Yg(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&ja(t,Hx)}function Vk(t){ja(t,Wy)}function Wx(t){ja(t,Gx)}function Ux(t){ja(t,Lk)}function qx(t){ja(t,Rk)}function Yx(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function jx(t){var e=t.getModel(),r=[],n=[];e.eachComponent(function(i,a){var o=Vy(a),s=i==="series",u=s?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!s&&n.push(u),o.isBlured&&(u.group.traverse(function(l){Gx(l)}),s&&r.push(a)),o.isBlured=!1}),F(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,e)})}function jg(t,e,r,n){var i=n.getModel();r=r||"coordinateSystem";function a(l,c){for(var f=0;f<c.length;f++){var h=l.getItemGraphicEl(c[f]);h&&Wx(h)}}if(t!=null&&!(!e||e==="none")){var o=i.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var u=[];i.eachSeries(function(l){var c=o===l,f=l.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&s?f===s:c;if(!(r==="series"&&!c||r==="coordinateSystem"&&!h||e==="series"&&c)){var d=n.getViewOfSeriesModel(l);if(d.group.traverse(function(m){m.__highByOuter&&c&&e==="self"||Wy(m)}),Dn(e))a(l.getData(),e);else if(it(e))for(var v=or(e),g=0;g<v.length;g++)a(l.getData(v[g]),e[v[g]]);u.push(l),Vy(l).isBlured=!0}}),i.eachComponent(function(l,c){if(l!=="series"){var f=n.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(u,!0,i)}})}}function Kg(t,e,r){if(!(t==null||e==null)){var n=r.getModel().getComponent(t,e);if(n){Vy(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){Wy(a)})}}}function Hk(t,e,r){var n=t.seriesIndex,i=t.getData(e.dataType);if(i){var a=Cf(i,e);a=(Fe(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),u=0;!o&&u<s;)o=i.getItemGraphicEl(u++);if(o){var l=$t(o);jg(n,l.focus,l.blurScope,r)}else{var c=t.get(["emphasis","focus"]),f=t.get(["emphasis","blurScope"]);c!=null&&jg(n,c,f,r)}}}function Uy(t,e,r,n){var i={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||r==null)return i;var a=n.getModel().getComponent(t,e);if(!a)return i;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(r),u,l=0;l<s.length;l++)if($t(s[l]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:s}}function Gk(t,e,r){var n=$t(t),i=Uy(n.componentMainType,n.componentIndex,n.componentHighDownName,r),a=i.dispatchers,o=i.focusSelf;a?(o&&Kg(n.componentMainType,n.componentIndex,r),F(a,function(s){return Yb(s,e)})):(jg(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&Kg(n.componentMainType,n.componentIndex,r),Yb(t,e))}function Wk(t,e,r){jx(r);var n=$t(t),i=Uy(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?F(i,function(a){return jb(a,e)}):jb(t,e)}function Uk(t,e,r){if(Jg(e)){var n=e.dataType,i=t.getData(n),a=Cf(i,e);Fe(a)||(a=[a]),t[e.type===Ec?"toggleSelect":e.type===Ic?"select":"unselect"](a,n)}}function Kb(t){var e=t.getAllData();F(e,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(a,o){t.isSelected(o,i)?Ux(a):qx(a)})})}function qk(t){var e=[];return t.eachSeries(function(r){var n=r.getAllData();F(n,function(i){i.data;var a=i.type,o=r.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:r.seriesIndex};a!=null&&(s.dataType=a),e.push(s)}})}),e}function Zg(t,e,r){Xx(t,!0),ja(t,$k),jk(t,e,r)}function Yk(t){Xx(t,!1)}function Kx(t,e,r,n){n?Yk(t):Zg(t,e,r)}function jk(t,e,r){var n=$t(t);e!=null?(n.focus=e,n.blurScope=r):n.focus&&(n.focus=null)}var Zb=["emphasis","blur","select"],Kk={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Zx(t,e,r,n){r=r||"itemStyle";for(var i=0;i<Zb.length;i++){var a=Zb[i],o=e.getModel([a,r]),s=t.ensureState(a);s.style=o[Kk[r]]()}}function Xx(t,e){var r=e===!1,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function Xg(t){return!!(t&&t.__highDownDispatcher)}function Zk(t){var e=Ub[t];return e==null&&Wb<=32&&(e=Ub[t]=Wb++),e}function Jg(t){var e=t.type;return e===Ic||e===fd||e===Ec}function Xb(t){var e=t.type;return e===Os||e===cd}function Xk(t){var e=Bx(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null,e.selectStroke=r.style&&r.style.stroke||null}var au=Ro.CMD,Jk=[[],[],[]],Jb=Math.sqrt,Qk=Math.atan2;function Jx(t,e){if(e){var r=t.data,n=t.len(),i,a,o,s,u,l,c=au.M,f=au.C,h=au.L,d=au.R,v=au.A,g=au.Q;for(o=0,s=0;o<n;){switch(i=r[o++],s=o,a=0,i){case c:a=1;break;case h:a=1;break;case f:a=3;break;case g:a=2;break;case v:var m=e[4],y=e[5],b=Jb(e[0]*e[0]+e[1]*e[1]),w=Jb(e[2]*e[2]+e[3]*e[3]),S=Qk(-e[1]/w,e[0]/b);r[o]*=b,r[o++]+=m,r[o]*=w,r[o++]+=y,r[o++]*=b,r[o++]*=w,r[o++]+=S,r[o++]+=S,o+=2,s=o;break;case d:l[0]=r[o++],l[1]=r[o++],_i(l,l,e),r[s++]=l[0],r[s++]=l[1],l[0]+=r[o++],l[1]+=r[o++],_i(l,l,e),r[s++]=l[0],r[s++]=l[1]}for(u=0;u<a;u++){var D=Jk[u];D[0]=r[o++],D[1]=r[o++],_i(D,D,e),r[s++]=D[0],r[s++]=D[1]}}t.increaseVersion()}}var r0=Math.sqrt,yh=Math.sin,_h=Math.cos,Hl=Math.PI;function Qb(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Qg(t,e){return(t[0]*e[0]+t[1]*e[1])/(Qb(t)*Qb(e))}function e3(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Qg(t,e))}function t3(t,e,r,n,i,a,o,s,u,l,c){var f=u*(Hl/180),h=_h(f)*(t-r)/2+yh(f)*(e-n)/2,d=-1*yh(f)*(t-r)/2+_h(f)*(e-n)/2,v=h*h/(o*o)+d*d/(s*s);v>1&&(o*=r0(v),s*=r0(v));var g=(i===a?-1:1)*r0((o*o*(s*s)-o*o*(d*d)-s*s*(h*h))/(o*o*(d*d)+s*s*(h*h)))||0,m=g*o*d/s,y=g*-s*h/o,b=(t+r)/2+_h(f)*m-yh(f)*y,w=(e+n)/2+yh(f)*m+_h(f)*y,S=e3([1,0],[(h-m)/o,(d-y)/s]),D=[(h-m)/o,(d-y)/s],M=[(-1*h-m)/o,(-1*d-y)/s],A=e3(D,M);if(Qg(D,M)<=-1&&(A=Hl),Qg(D,M)>=1&&(A=0),A<0){var k=Math.round(A/Hl*1e6)/1e6;A=Hl*2+k%2*Hl}c.addData(l,b,w,o,s,S,A,f,a)}var eO=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,tO=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function rO(t){var e=new Ro;if(!t)return e;var r=0,n=0,i=r,a=n,o,s=Ro.CMD,u=t.match(eO);if(!u)return e;for(var l=0;l<u.length;l++){for(var c=u[l],f=c.charAt(0),h=void 0,d=c.match(tO)||[],v=d.length,g=0;g<v;g++)d[g]=parseFloat(d[g]);for(var m=0;m<v;){var y=void 0,b=void 0,w=void 0,S=void 0,D=void 0,M=void 0,A=void 0,k=r,O=n,P=void 0,R=void 0;switch(f){case"l":r+=d[m++],n+=d[m++],h=s.L,e.addData(h,r,n);break;case"L":r=d[m++],n=d[m++],h=s.L,e.addData(h,r,n);break;case"m":r+=d[m++],n+=d[m++],h=s.M,e.addData(h,r,n),i=r,a=n,f="l";break;case"M":r=d[m++],n=d[m++],h=s.M,e.addData(h,r,n),i=r,a=n,f="L";break;case"h":r+=d[m++],h=s.L,e.addData(h,r,n);break;case"H":r=d[m++],h=s.L,e.addData(h,r,n);break;case"v":n+=d[m++],h=s.L,e.addData(h,r,n);break;case"V":n=d[m++],h=s.L,e.addData(h,r,n);break;case"C":h=s.C,e.addData(h,d[m++],d[m++],d[m++],d[m++],d[m++],d[m++]),r=d[m-2],n=d[m-1];break;case"c":h=s.C,e.addData(h,d[m++]+r,d[m++]+n,d[m++]+r,d[m++]+n,d[m++]+r,d[m++]+n),r+=d[m-2],n+=d[m-1];break;case"S":y=r,b=n,P=e.len(),R=e.data,o===s.C&&(y+=r-R[P-4],b+=n-R[P-3]),h=s.C,k=d[m++],O=d[m++],r=d[m++],n=d[m++],e.addData(h,y,b,k,O,r,n);break;case"s":y=r,b=n,P=e.len(),R=e.data,o===s.C&&(y+=r-R[P-4],b+=n-R[P-3]),h=s.C,k=r+d[m++],O=n+d[m++],r+=d[m++],n+=d[m++],e.addData(h,y,b,k,O,r,n);break;case"Q":k=d[m++],O=d[m++],r=d[m++],n=d[m++],h=s.Q,e.addData(h,k,O,r,n);break;case"q":k=d[m++]+r,O=d[m++]+n,r+=d[m++],n+=d[m++],h=s.Q,e.addData(h,k,O,r,n);break;case"T":y=r,b=n,P=e.len(),R=e.data,o===s.Q&&(y+=r-R[P-4],b+=n-R[P-3]),r=d[m++],n=d[m++],h=s.Q,e.addData(h,y,b,r,n);break;case"t":y=r,b=n,P=e.len(),R=e.data,o===s.Q&&(y+=r-R[P-4],b+=n-R[P-3]),r+=d[m++],n+=d[m++],h=s.Q,e.addData(h,y,b,r,n);break;case"A":w=d[m++],S=d[m++],D=d[m++],M=d[m++],A=d[m++],k=r,O=n,r=d[m++],n=d[m++],h=s.A,t3(k,O,r,n,M,A,w,S,D,h,e);break;case"a":w=d[m++],S=d[m++],D=d[m++],M=d[m++],A=d[m++],k=r,O=n,r+=d[m++],n+=d[m++],h=s.A,t3(k,O,r,n,M,A,w,S,D,h,e);break}}(f==="z"||f==="Z")&&(h=s.Z,e.addData(h),r=i,n=a),o=h}return e.toStatic(),e}var Qx=function(t){ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(r){},e}(Ot);function eS(t){return t.setData!=null}function tS(t,e){var r=rO(t),n=_e({},e);return n.buildPath=function(i){if(eS(i)){i.setData(r.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;r.rebuildPath(a,1)}},n.applyTransform=function(i){Jx(r,i),this.dirtyShape()},n}function nO(t,e){return new Qx(tS(t,e))}function iO(t,e){var r=tS(t,e),n=function(i){ze(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=r.applyTransform,s.buildPath=r.buildPath,s}return a}(Qx);return n}function aO(t,e){for(var r=[],n=t.length,i=0;i<n;i++){var a=t[i];r.push(a.getUpdatedPathProxy(!0))}var o=new Ot(e);return o.createPathProxy(),o.buildPath=function(s){if(eS(s)){s.appendPath(r);var u=s.getContext();u&&s.rebuildPath(u,1)}},o}function qy(t,e){e=e||{};var r=new Ot;return t.shape&&r.setShape(t.shape),r.setStyle(t.style),e.bakeTransform?Jx(r.path,t.getComputedTransform()):e.toLocal?r.setLocalTransform(t.getComputedTransform()):r.copyTransform(t),r.buildPath=t.buildPath,r.applyTransform=r.applyTransform,r.z=t.z,r.z2=t.z2,r.zlevel=t.zlevel,r}var Qn=function(t){ze(e,t);function e(r){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(r){return this._children[r]},e.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},e.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,r),this._doAdd(r))}return this},e.prototype.replace=function(r,n){var i=Ut(this._children,r);return i>=0&&this.replaceAt(n,i),this},e.prototype.replaceAt=function(r,n){var i=this._children,a=i[n];if(r&&r!==this&&r.parent!==this&&r!==a){i[n]=r,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(r)}return this},e.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(r){var n=this.__zr,i=this._children,a=Ut(i,r);return a<0?this:(i.splice(a,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var a=r[i];n&&a.removeSelfFromZr(n),a.parent=null}return r.length=0,this},e.prototype.eachChild=function(r,n){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];r.call(n,o,a)}return this},e.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=r.call(n,a);a.isGroup&&!o&&a.traverse(r,n)}return this},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},e.prototype.getBoundingRect=function(r){for(var n=new Nt(0,0,0,0),i=r||this._children,a=[],o=null,s=0;s<i.length;s++){var u=i[s];if(!(u.ignore||u.invisible)){var l=u.getBoundingRect(),c=u.getLocalTransform(a);c?(Nt.applyTransform(n,l,c),o=o||n.clone(),o.union(n)):(o=o||l.clone(),o.union(l))}}return o||n},e}(Wv);Qn.prototype.type="group";var oO=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),Yv=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new oO},e.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e}(Ot);Yv.prototype.type="circle";var sO=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),Yy=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new sO},e.prototype.buildPath=function(r,n){var i=.5522848,a=n.cx,o=n.cy,s=n.rx,u=n.ry,l=s*i,c=u*i;r.moveTo(a-s,o),r.bezierCurveTo(a-s,o-c,a-l,o-u,a,o-u),r.bezierCurveTo(a+l,o-u,a+s,o-c,a+s,o),r.bezierCurveTo(a+s,o+c,a+l,o+u,a,o+u),r.bezierCurveTo(a-l,o+u,a-s,o+c,a-s,o),r.closePath()},e}(Ot);Yy.prototype.type="ellipse";var rS=Math.PI,n0=rS*2,ss=Math.sin,ou=Math.cos,uO=Math.acos,on=Math.atan2,r3=Math.abs,kc=Math.sqrt,cc=Math.max,Qi=Math.min,Ei=1e-4;function lO(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,c=o-i,f=s-a,h=f*u-c*l;if(!(h*h<Ei))return h=(c*(e-a)-f*(t-i))/h,[t+h*u,e+h*l]}function bh(t,e,r,n,i,a,o){var s=t-r,u=e-n,l=(o?a:-a)/kc(s*s+u*u),c=l*u,f=-l*s,h=t+c,d=e+f,v=r+c,g=n+f,m=(h+v)/2,y=(d+g)/2,b=v-h,w=g-d,S=b*b+w*w,D=i-a,M=h*g-v*d,A=(w<0?-1:1)*kc(cc(0,D*D*S-M*M)),k=(M*w-b*A)/S,O=(-M*b-w*A)/S,P=(M*w+b*A)/S,R=(-M*b+w*A)/S,H=k-m,z=O-y,W=P-m,ee=R-y;return H*H+z*z>W*W+ee*ee&&(k=P,O=R),{cx:k,cy:O,x0:-c,y0:-f,x1:k*(i/D-1),y1:O*(i/D-1)}}function cO(t){var e;if(Fe(t)){var r=t.length;if(!r)return t;r===1?e=[t[0],t[0],0,0]:r===2?e=[t[0],t[0],t[1],t[1]]:r===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function fO(t,e){var r,n=cc(e.r,0),i=cc(e.r0||0,0),a=n>0,o=i>0;if(!(!a&&!o)){if(a||(n=i,i=0),i>n){var s=n;n=i,i=s}var u=e.startAngle,l=e.endAngle;if(!(isNaN(u)||isNaN(l))){var c=e.cx,f=e.cy,h=!!e.clockwise,d=r3(l-u),v=d>n0&&d%n0;if(v>Ei&&(d=v),!(n>Ei))t.moveTo(c,f);else if(d>n0-Ei)t.moveTo(c+n*ou(u),f+n*ss(u)),t.arc(c,f,n,u,l,!h),i>Ei&&(t.moveTo(c+i*ou(l),f+i*ss(l)),t.arc(c,f,i,l,u,h));else{var g=void 0,m=void 0,y=void 0,b=void 0,w=void 0,S=void 0,D=void 0,M=void 0,A=void 0,k=void 0,O=void 0,P=void 0,R=void 0,H=void 0,z=void 0,W=void 0,ee=n*ou(u),ne=n*ss(u),he=i*ou(l),X=i*ss(l),te=d>Ei;if(te){var oe=e.cornerRadius;oe&&(r=cO(oe),g=r[0],m=r[1],y=r[2],b=r[3]);var Q=r3(n-i)/2;if(w=Qi(Q,y),S=Qi(Q,b),D=Qi(Q,g),M=Qi(Q,m),O=A=cc(w,S),P=k=cc(D,M),(A>Ei||k>Ei)&&(R=n*ou(l),H=n*ss(l),z=i*ou(u),W=i*ss(u),d<rS)){var ue=lO(ee,ne,z,W,R,H,he,X);if(ue){var pe=ee-ue[0],Ee=ne-ue[1],Be=R-ue[0],Ye=H-ue[1],Ke=1/ss(uO((pe*Be+Ee*Ye)/(kc(pe*pe+Ee*Ee)*kc(Be*Be+Ye*Ye)))/2),Ge=kc(ue[0]*ue[0]+ue[1]*ue[1]);O=Qi(A,(n-Ge)/(Ke+1)),P=Qi(k,(i-Ge)/(Ke-1))}}}if(!te)t.moveTo(c+ee,f+ne);else if(O>Ei){var ve=Qi(y,O),et=Qi(b,O),Ie=bh(z,W,ee,ne,n,ve,h),be=bh(R,H,he,X,n,et,h);t.moveTo(c+Ie.cx+Ie.x0,f+Ie.cy+Ie.y0),O<A&&ve===et?t.arc(c+Ie.cx,f+Ie.cy,O,on(Ie.y0,Ie.x0),on(be.y0,be.x0),!h):(ve>0&&t.arc(c+Ie.cx,f+Ie.cy,ve,on(Ie.y0,Ie.x0),on(Ie.y1,Ie.x1),!h),t.arc(c,f,n,on(Ie.cy+Ie.y1,Ie.cx+Ie.x1),on(be.cy+be.y1,be.cx+be.x1),!h),et>0&&t.arc(c+be.cx,f+be.cy,et,on(be.y1,be.x1),on(be.y0,be.x0),!h))}else t.moveTo(c+ee,f+ne),t.arc(c,f,n,u,l,!h);if(!(i>Ei)||!te)t.lineTo(c+he,f+X);else if(P>Ei){var ve=Qi(g,P),et=Qi(m,P),Ie=bh(he,X,R,H,i,-et,h),be=bh(ee,ne,z,W,i,-ve,h);t.lineTo(c+Ie.cx+Ie.x0,f+Ie.cy+Ie.y0),P<k&&ve===et?t.arc(c+Ie.cx,f+Ie.cy,P,on(Ie.y0,Ie.x0),on(be.y0,be.x0),!h):(et>0&&t.arc(c+Ie.cx,f+Ie.cy,et,on(Ie.y0,Ie.x0),on(Ie.y1,Ie.x1),!h),t.arc(c,f,i,on(Ie.cy+Ie.y1,Ie.cx+Ie.x1),on(be.cy+be.y1,be.cx+be.x1),h),ve>0&&t.arc(c+be.cx,f+be.cy,ve,on(be.y1,be.x1),on(be.y0,be.x0),!h))}else t.lineTo(c+he,f+X),t.arc(c,f,i,l,u,h)}t.closePath()}}}var hO=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),ba=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new hO},e.prototype.buildPath=function(r,n){fO(r,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Ot);ba.prototype.type="sector";var dO=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),jy=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new dO},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.PI*2;r.moveTo(i+n.r,a),r.arc(i,a,n.r,0,o,!1),r.moveTo(i+n.r0,a),r.arc(i,a,n.r0,0,o,!0)},e}(Ot);jy.prototype.type="ring";function vO(t,e,r,n){var i=[],a=[],o=[],s=[],u,l,c,f;if(n){c=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,d=t.length;h<d;h++)Su(c,c,t[h]),Tu(f,f,t[h]);Su(c,c,n[0]),Tu(f,f,n[1])}for(var h=0,d=t.length;h<d;h++){var v=t[h];if(r)u=t[h?h-1:d-1],l=t[(h+1)%d];else if(h===0||h===d-1){i.push(iE(t[h]));continue}else u=t[h-1],l=t[h+1];aE(a,l,u),L1(a,a,e);var g=Pg(v,u),m=Pg(v,l),y=g+m;y!==0&&(g/=y,m/=y),L1(o,a,-g),L1(s,a,m);var b=db([],v,o),w=db([],v,s);n&&(Tu(b,b,c),Su(b,b,f),Tu(w,w,c),Su(w,w,f)),i.push(b),i.push(w)}return r&&i.push(i.shift()),i}function nS(t,e,r){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n){var a=vO(i,n,r,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(r?o:o-1);s++){var u=a[s*2],l=a[s*2+1],c=i[(s+1)%o];t.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var s=1,f=i.length;s<f;s++)t.lineTo(i[s][0],i[s][1])}r&&t.closePath()}}var pO=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),jv=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new pO},e.prototype.buildPath=function(r,n){nS(r,n,!0)},e}(Ot);jv.prototype.type="polygon";var gO=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),If=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new gO},e.prototype.buildPath=function(r,n){nS(r,n,!1)},e}(Ot);If.prototype.type="polyline";var mO={},yO=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),Fo=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new yO},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var u=Ix(mO,n,this.style);i=u.x1,a=u.y1,o=u.x2,s=u.y2}else i=n.x1,a=n.y1,o=n.x2,s=n.y2;var l=n.percent;l!==0&&(r.moveTo(i,a),l<1&&(o=i*(1-l)+o*l,s=a*(1-l)+s*l),r.lineTo(o,s))},e.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},e}(Ot);Fo.prototype.type="line";var En=[],_O=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function n3(t,e,r){var n=t.cpx2,i=t.cpy2;return n!=null||i!=null?[(r?gb:Xr)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?gb:Xr)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?mb:cn)(t.x1,t.cpx1,t.x2,e),(r?mb:cn)(t.y1,t.cpy1,t.y2,e)]}var Ky=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new _O},e.prototype.buildPath=function(r,n){var i=n.x1,a=n.y1,o=n.x2,s=n.y2,u=n.cpx1,l=n.cpy1,c=n.cpx2,f=n.cpy2,h=n.percent;h!==0&&(r.moveTo(i,a),c==null||f==null?(h<1&&(Vd(i,u,o,h,En),u=En[1],o=En[2],Vd(a,l,s,h,En),l=En[1],s=En[2]),r.quadraticCurveTo(u,l,o,s)):(h<1&&(Lo(i,u,c,o,h,En),u=En[1],c=En[2],o=En[3],Lo(a,l,f,s,h,En),l=En[1],f=En[2],s=En[3]),r.bezierCurveTo(u,l,c,f,o,s)))},e.prototype.pointAt=function(r){return n3(this.shape,r,!1)},e.prototype.tangentAt=function(r){var n=n3(this.shape,r,!0);return uE(n,n)},e}(Ot);Ky.prototype.type="bezier-curve";var bO=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),Kv=function(t){ze(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new bO},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,u=n.endAngle,l=n.clockwise,c=Math.cos(s),f=Math.sin(s);r.moveTo(c*o+i,f*o+a),r.arc(i,a,o,s,u,!l)},e}(Ot);Kv.prototype.type="arc";var wO=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="compound",r}return e.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(r,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(r,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Ot.prototype.getBoundingRect.call(this)},e}(Ot),iS=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,r){this.colorStops.push({offset:e,color:r})},t}(),xO=function(t){ze(e,t);function e(r,n,i,a,o,s){var u=t.call(this,o)||this;return u.x=r??0,u.y=n??0,u.x2=i??1,u.y2=a??0,u.type="linear",u.global=s||!1,u}return e}(iS),SO=function(t){ze(e,t);function e(r,n,i,a,o){var s=t.call(this,a)||this;return s.x=r??.5,s.y=n??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return e}(iS),us=[0,0],ls=[0,0],wh=new nt,xh=new nt,Yd=function(){function t(e,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new nt;for(var n=0;n<2;n++)this._axes[n]=new nt;e&&this.fromBoundingRect(e,r)}return t.prototype.fromBoundingRect=function(e,r){var n=this._corners,i=this._axes,a=e.x,o=e.y,s=a+e.width,u=o+e.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,u),n[3].set(a,u),r)for(var l=0;l<4;l++)n[l].transform(r);nt.sub(i[0],n[1],n[0]),nt.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var l=0;l<2;l++)this._origin[l]=i[l].dot(n[0])},t.prototype.intersect=function(e,r){var n=!0,i=!r;return wh.set(1/0,1/0),xh.set(0,0),!this._intersectCheckOneSide(this,e,wh,xh,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,wh,xh,i,-1)&&(n=!1,i)||i||nt.copy(r,n?wh:xh),n},t.prototype._intersectCheckOneSide=function(e,r,n,i,a,o){for(var s=!0,u=0;u<2;u++){var l=this._axes[u];if(this._getProjMinMaxOnAxis(u,e._corners,us),this._getProjMinMaxOnAxis(u,r._corners,ls),us[1]<ls[0]||us[0]>ls[1]){if(s=!1,a)return s;var c=Math.abs(ls[0]-us[1]),f=Math.abs(us[0]-ls[1]);Math.min(c,f)>i.len()&&(c<f?nt.scale(i,l,-c*o):nt.scale(i,l,f*o))}else if(n){var c=Math.abs(ls[0]-us[1]),f=Math.abs(us[0]-ls[1]);Math.min(c,f)<n.len()&&(c<f?nt.scale(n,l,c*o):nt.scale(n,l,-f*o))}}return s},t.prototype._getProjMinMaxOnAxis=function(e,r,n){for(var i=this._axes[e],a=this._origin,o=r[0].dot(i)+a[e],s=o,u=o,l=1;l<r.length;l++){var c=r[l].dot(i)+a[e];s=Math.min(c,s),u=Math.max(c,u)}n[0]=s,n[1]=u},t}(),TO=[],MO=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},e.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Nt(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(TO)),r.union(a)}this._rect=r}return this._rect},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(r,n))return!0}return!1},e}(fl),aS=cr();function Zv(t,e,r,n,i){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var s=e&&e.isAnimationEnabled(),u=t==="update";if(s){var l=void 0,c=void 0,f=void 0;n?(l=bt(n.duration,200),c=bt(n.easing,"cubicOut"),f=0):(l=e.getShallow(u?"animationDurationUpdate":"animationDuration"),c=e.getShallow(u?"animationEasingUpdate":"animationEasing"),f=e.getShallow(u?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(l=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),wt(f)&&(f=f(r,i)),wt(l)&&(l=l(r));var h={duration:l||0,delay:f,easing:c};return h}else return null}function Zy(t,e,r,n,i,a,o){var s=!1,u;wt(i)?(o=a,a=i,i=null):it(i)&&(a=i.cb,o=i.during,s=i.isFrom,u=i.removeOpt,i=i.dataIndex);var l=t==="leave";l||e.stopAnimation("leave");var c=Zv(t,n,i,l?u||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var f=c.duration,h=c.delay,d=c.easing,v={duration:f,delay:h||0,easing:d,done:a,force:!!a||!!o,setToFinal:!l,scope:t,during:o};s?e.animateFrom(r,v):e.animateTo(r,v)}else e.stopAnimation(),!s&&e.attr(r),o&&o(1),a&&a()}function Hn(t,e,r,n,i,a){Zy("update",t,e,r,n,i,a)}function bi(t,e,r,n,i,a){Zy("enter",t,e,r,n,i,a)}function Bu(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="leave")return!0}return!1}function oS(t,e,r,n,i,a){Bu(t)||Zy("leave",t,e,r,n,i,a)}function i3(t,e,r,n){t.removeTextContent(),t.removeTextGuideLine(),oS(t,{style:{opacity:0}},e,r,n)}function jd(t,e,r){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(i){i.isGroup||i3(i,e,r,n)}):i3(t,e,r,n)}function sS(t){aS(t).oldStyle=t.style}function DO(t){return aS(t).oldStyle}var Kd=Math.max,Zd=Math.min,em={};function CO(t){return Ot.extend(t)}var AO=iO;function IO(t,e){return AO(t,e)}function Vi(t,e){em[t]=e}function EO(t){if(em.hasOwnProperty(t))return em[t]}function Xy(t,e,r,n){var i=nO(t,e);return r&&(n==="center"&&(r=lS(r,i.getBoundingRect())),cS(i,r)),i}function uS(t,e,r){var n=new $s({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(r==="center"){var a={width:i.width,height:i.height};n.setStyle(lS(e,a))}}});return n}function lS(t,e){var r=e.width/e.height,n=t.height*r,i;n<=t.width?i=t.height:(n=t.width,i=n/r);var a=t.x+t.width/2,o=t.y+t.height/2;return{x:a-n/2,y:o-i/2,width:n,height:i}}var kO=aO;function cS(t,e){if(t.applyTransform){var r=t.getBoundingRect(),n=r.calculateTransform(e);t.applyTransform(n)}}function Zc(t,e){return Ix(t,t,{lineWidth:e}),t}function OO(t){return Ex(t.shape,t.shape,t.style),t}var PO=Ts;function LO(t,e){for(var r=Oy([]);t&&t!==e;)Nu(r,t.getLocalTransform(),r),t=t.parent;return r}function Jy(t,e,r){return e&&!Dn(e)&&(e=Mf.getLocalTransform(e)),r&&(e=Gv([],e)),_i([],t,e)}function RO(t,e,r){var n=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[t==="left"?-n:t==="right"?n:0,t==="top"?-i:t==="bottom"?i:0];return a=Jy(a,e,r),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function a3(t){return!t.isGroup}function NO(t){return t.shape!=null}function fS(t,e,r){if(!t||!e)return;function n(o){var s={};return o.traverse(function(u){a3(u)&&u.anid&&(s[u.anid]=u)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return NO(o)&&(s.shape=_e({},o.shape)),s}var a=n(t);e.traverse(function(o){if(a3(o)&&o.anid){var s=a[o.anid];if(s){var u=i(o);o.attr(i(s)),Hn(o,u,r,$t(o).dataIndex)}}})}function FO(t,e){return Xe(t,function(r){var n=r[0];n=Kd(n,e.x),n=Zd(n,e.x+e.width);var i=r[1];return i=Kd(i,e.y),i=Zd(i,e.y+e.height),[n,i]})}function zO(t,e){var r=Kd(t.x,e.x),n=Zd(t.x+t.width,e.x+e.width),i=Kd(t.y,e.y),a=Zd(t.y+t.height,e.y+e.height);if(n>=r&&a>=i)return{x:r,y:i,width:n-r,height:a-i}}function Qy(t,e,r){var n=_e({rectHover:!0},e),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(i.image=t.slice(8),It(i,r),new $s(n)):Xy(t.replace("path://",""),n,r,"center")}function BO(t,e,r,n,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(hS(t,e,r,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function hS(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,c=o-i,f=s-a,h=i0(c,f,u,l);if($O(h))return!1;var d=t-i,v=e-a,g=i0(d,v,u,l)/h;if(g<0||g>1)return!1;var m=i0(d,v,c,f)/h;return!(m<0||m>1)}function i0(t,e,r,n){return t*n-r*e}function $O(t){return t<=1e-6&&t>=-1e-6}function Xv(t){var e=t.itemTooltipOption,r=t.componentModel,n=t.itemName,i=je(e)?{formatter:e}:e,a=r.mainType,o=r.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var u=t.formatterParamsExtra;u&&F(or(u),function(c){ya(s,c)||(s[c]=u[c],s.$vars.push(c))});var l=$t(t.el);l.componentMainType=a,l.componentIndex=o,l.tooltipConfig={name:n,option:It({content:n,encodeHTMLContent:!0,formatterParams:s},i)}}function o3(t,e){var r;t.isGroup&&(r=e(t)),r||t.traverse(e)}function e2(t,e){if(t)if(Fe(t))for(var r=0;r<t.length;r++)o3(t[r],e);else o3(t,e)}Vi("circle",Yv);Vi("ellipse",Yy);Vi("sector",ba);Vi("ring",jy);Vi("polygon",jv);Vi("polyline",If);Vi("rect",Ar);Vi("line",Fo);Vi("bezierCurve",Ky);Vi("arc",Kv);const VO=Object.freeze(Object.defineProperty({__proto__:null,Arc:Kv,BezierCurve:Ky,BoundingRect:Nt,Circle:Yv,CompoundPath:wO,Ellipse:Yy,Group:Qn,Image:$s,IncrementalDisplayable:MO,Line:Fo,LinearGradient:xO,OrientedBoundingRect:Yd,Path:Ot,Point:nt,Polygon:jv,Polyline:If,RadialGradient:SO,Rect:Ar,Ring:jy,Sector:ba,Text:gn,applyTransform:Jy,clipPointsByRect:FO,clipRectByRect:zO,createIcon:Qy,extendPath:IO,extendShape:CO,getShapeClass:EO,getTransform:LO,groupTransition:fS,initProps:bi,isElementRemoved:Bu,lineLineIntersect:hS,linePolygonIntersect:BO,makeImage:uS,makePath:Xy,mergePath:kO,registerShape:Vi,removeElement:oS,removeElementWithFadeOut:jd,resizePath:cS,setTooltipConfig:Xv,subPixelOptimize:PO,subPixelOptimizeLine:Zc,subPixelOptimizeRect:OO,transformDirection:RO,traverseElements:e2,updateProps:Hn},Symbol.toStringTag,{value:"Module"}));var Jv={};function dS(t,e){for(var r=0;r<_a.length;r++){var n=_a[r],i=e[n],a=t.ensureState(n);a.style=a.style||{},a.style.text=i}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function tm(t,e,r){var n=t.labelFetcher,i=t.labelDataIndex,a=t.labelDimIndex,o=e.normal,s;n&&(s=n.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)),s==null&&(s=wt(t.defaultText)?t.defaultText(i,t,r):t.defaultText);for(var u={normal:s},l=0;l<_a.length;l++){var c=_a[l],f=e[c];u[c]=bt(n?n.getFormattedLabel(i,c,null,a,f&&f.get("formatter")):null,s)}return u}function t2(t,e,r,n){r=r||Jv;for(var i=t instanceof gn,a=!1,o=0;o<qd.length;o++){var s=e[qd[o]];if(s&&s.getShallow("show")){a=!0;break}}var u=i?t:t.getTextContent();if(a){i||(u||(u=new gn,t.setTextContent(u)),t.stateProxy&&(u.stateProxy=t.stateProxy));var l=tm(r,e),c=e.normal,f=!!c.getShallow("show"),h=zo(c,n,r,!1,!i);h.text=l.normal,i||t.setTextConfig(s3(c,r,!1));for(var o=0;o<_a.length;o++){var d=_a[o],s=e[d];if(s){var v=u.ensureState(d),g=!!bt(s.getShallow("show"),f);if(g!==f&&(v.ignore=!g),v.style=zo(s,n,r,!0,!i),v.style.text=l[d],!i){var m=t.ensureState(d);m.textConfig=s3(s,r,!0)}}}u.silent=!!c.getShallow("silent"),u.style.x!=null&&(h.x=u.style.x),u.style.y!=null&&(h.y=u.style.y),u.ignore=!f,u.useStyle(h),u.dirty(),r.enableTextSetter&&(Ef(u).setLabelText=function(y){var b=tm(r,e,y);dS(u,b)})}else u&&(u.ignore=!0);t.dirty()}function vS(t,e){e=e||"label";for(var r={normal:t.getModel(e)},n=0;n<_a.length;n++){var i=_a[n];r[i]=t.getModel([i,e])}return r}function zo(t,e,r,n,i){var a={};return HO(a,t,r,n,i),e&&_e(a,e),a}function s3(t,e,r){e=e||{};var n={},i,a=t.getShallow("rotate"),o=bt(t.getShallow("distance"),r?null:5),s=t.getShallow("offset");return i=t.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(n.position=i),s!=null&&(n.offset=s),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",n}function HO(t,e,r,n,i){r=r||Jv;var a=e.ecModel,o=a&&a.option.textStyle,s=GO(e),u;if(s){u={};for(var l in s)if(s.hasOwnProperty(l)){var c=e.getModel(["rich",l]);f3(u[l]={},c,o,r,n,i,!1,!0)}}u&&(t.rich=u);var f=e.get("overflow");f&&(t.overflow=f);var h=e.get("minMargin");h!=null&&(t.margin=h),f3(t,e,o,r,n,i,!0,!1)}function GO(t){for(var e;t&&t!==t.ecModel;){var r=(t.option||Jv).rich;if(r){e=e||{};for(var n=or(r),i=0;i<n.length;i++){var a=n[i];e[a]=1}}t=t.parentModel}return e}var u3=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],l3=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],c3=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function f3(t,e,r,n,i,a,o,s){r=!i&&r||Jv;var u=n&&n.inheritColor,l=e.getShallow("color"),c=e.getShallow("textBorderColor"),f=bt(e.getShallow("opacity"),r.opacity);(l==="inherit"||l==="auto")&&(u?l=u:l=null),(c==="inherit"||c==="auto")&&(u?c=u:c=null),a||(l=l||r.color,c=c||r.textBorderColor),l!=null&&(t.fill=l),c!=null&&(t.stroke=c);var h=bt(e.getShallow("textBorderWidth"),r.textBorderWidth);h!=null&&(t.lineWidth=h);var d=bt(e.getShallow("textBorderType"),r.textBorderType);d!=null&&(t.lineDash=d);var v=bt(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);v!=null&&(t.lineDashOffset=v),!i&&f==null&&!s&&(f=n&&n.defaultOpacity),f!=null&&(t.opacity=f),!i&&!a&&t.fill==null&&n.inheritColor&&(t.fill=n.inheritColor);for(var g=0;g<u3.length;g++){var m=u3[g],y=bt(e.getShallow(m),r[m]);y!=null&&(t[m]=y)}for(var g=0;g<l3.length;g++){var m=l3[g],y=e.getShallow(m);y!=null&&(t[m]=y)}if(t.verticalAlign==null){var b=e.getShallow("baseline");b!=null&&(t.verticalAlign=b)}if(!o||!n.disableBox){for(var g=0;g<c3.length;g++){var m=c3[g],y=e.getShallow(m);y!=null&&(t[m]=y)}var w=e.getShallow("borderType");w!=null&&(t.borderDash=w),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&u&&(t.backgroundColor=u),(t.borderColor==="auto"||t.borderColor==="inherit")&&u&&(t.borderColor=u)}}function WO(t,e){var r=e&&e.getModel("textStyle");return la([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ef=cr();function UO(t,e,r,n){if(t){var i=Ef(t);i.prevValue=i.value,i.value=r;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=e)}}function qO(t,e,r,n,i){var a=Ef(t);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,s=bt(a.interpolatedValue,a.prevValue),u=a.value;function l(c){var f=Ek(r,a.precision,s,u,c);a.interpolatedValue=c===1?null:f;var h=tm({labelDataIndex:e,labelFetcher:i,defaultText:o?o(f):f+""},a.statesModels,f);dS(t,h)}t.percent=0,(a.prevValue==null?bi:Hn)(t,{percent:1},n,e,null,l)}var YO=["textStyle","color"],a0=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],o0=new gn,jO=function(){function t(){}return t.prototype.getTextColor=function(e){var r=this.ecModel;return this.getShallow("color")||(!e&&r?r.get(YO):null)},t.prototype.getFont=function(){return WO({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var r={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<a0.length;n++)r[a0[n]]=this.getShallow(a0[n]);return o0.useStyle(r),o0.update(),o0.getBoundingRect()},t}(),pS=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],KO=Yc(pS),ZO=function(){function t(){}return t.prototype.getLineStyle=function(e){return KO(this,e)},t}(),gS=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],XO=Yc(gS),JO=function(){function t(){}return t.prototype.getItemStyle=function(e,r){return XO(this,e,r)},t}(),Sr=function(){function t(e,r,n){this.parentModel=r,this.ecModel=n,this.option=e}return t.prototype.init=function(e,r,n){},t.prototype.mergeOption=function(e,r){qt(this.option,e,!0)},t.prototype.get=function(e,r){return e==null?this.option:this._doGet(this.parsePath(e),!r&&this.parentModel)},t.prototype.getShallow=function(e,r){var n=this.option,i=n==null?n:n[e];if(i==null&&!r){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},t.prototype.getModel=function(e,r){var n=e!=null,i=n?this.parsePath(e):null,a=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(a,r,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(kt(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!ht.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,r){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&!(e[i]&&(n=n&&typeof n=="object"?n[e[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(e),r.parentModel)),n},t}();ky(Sr);BI(Sr);Ta(Sr,ZO);Ta(Sr,JO);Ta(Sr,WI);Ta(Sr,jO);function Gl(t){return t==null?0:t.length||1}function h3(t){return t}var rm=function(){function t(e,r,n,i,a,o){this._old=e,this._new=r,this._oldKeyGetter=n||h3,this._newKeyGetter=i||h3,this.context=a,this._diffModeMultiple=o==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,r=this._new,n={},i=new Array(e.length),a=new Array(r.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],u=n[s],l=Gl(u);if(l>1){var c=u.shift();u.length===1&&(n[s]=u[0]),this._update&&this._update(c,o)}else l===1?(n[s]=null,this._update&&this._update(u,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},t.prototype._executeMultiple=function(){var e=this._old,r=this._new,n={},i={},a=[],o=[];this._initIndexMap(e,n,a,"_oldKeyGetter"),this._initIndexMap(r,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var u=a[s],l=n[u],c=i[u],f=Gl(l),h=Gl(c);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,l),i[u]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,l),i[u]=null;else if(f===1&&h===1)this._update&&this._update(c,l),i[u]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,l),i[u]=null;else if(f>1)for(var d=0;d<f;d++)this._remove&&this._remove(l[d]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(e,r){for(var n=0;n<e.length;n++){var i=e[n],a=r[i],o=Gl(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);r[i]=null}},t.prototype._initIndexMap=function(e,r,n,i){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(a||(n[o]=s),!!r){var u=r[s],l=Gl(u);l===0?(r[s]=o,a&&n.push(s)):l===1?r[s]=[u,o]:u.push(o)}}},t}(),mS=vt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),xi="original",Cn="arrayRows",Si="objectRows",Da="keyedColumns",Do="typedArray",yS="unknown",ga="column",hl="row",Kr={Must:1,Might:2,Not:3},_S=cr();function QO(t){_S(t).datasetMap=vt()}function eP(t,e,r){var n={},i=r2(e);if(!i||!t)return n;var a=[],o=[],s=e.ecModel,u=_S(s).datasetMap,l=i.uid+"_"+r.seriesLayoutBy,c,f;t=t.slice(),F(t,function(g,m){var y=it(g)?g:t[m]={name:g};y.type==="ordinal"&&c==null&&(c=m,f=v(y)),n[y.name]=[]});var h=u.get(l)||u.set(l,{categoryWayDim:f,valueWayDim:0});F(t,function(g,m){var y=g.name,b=v(g);if(c==null){var w=h.valueWayDim;d(n[y],w,b),d(o,w,b),h.valueWayDim+=b}else if(c===m)d(n[y],0,b),d(a,0,b);else{var w=h.categoryWayDim;d(n[y],w,b),d(o,w,b),h.categoryWayDim+=b}});function d(g,m,y){for(var b=0;b<y;b++)g.push(m+b)}function v(g){var m=g.dimsDef;return m?m.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function tP(t,e,r){var n={},i=r2(t);if(!i)return n;var a=e.sourceFormat,o=e.dimensionsDefine,s;(a===Si||a===Da)&&F(o,function(c,f){(it(c)?c.name:c)==="name"&&(s=f)});var u=function(){for(var c={},f={},h=[],d=0,v=Math.min(5,r);d<v;d++){var g=wS(e.data,a,e.seriesLayoutBy,o,e.startIndex,d);h.push(g);var m=g===Kr.Not;if(m&&c.v==null&&d!==s&&(c.v=d),(c.n==null||c.n===c.v||!m&&h[c.n]===Kr.Not)&&(c.n=d),y(c)&&h[c.n]!==Kr.Not)return c;m||(g===Kr.Might&&f.v==null&&d!==s&&(f.v=d),(f.n==null||f.n===f.v)&&(f.n=d))}function y(b){return b.v!=null&&b.n!=null}return y(c)?c:y(f)?f:null}();if(u){n.value=[u.v];var l=s??u.n;n.itemName=[l],n.seriesName=[l]}return n}function r2(t){var e=t.get("data",!0);if(!e)return Af(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},Ni).models[0]}function rP(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:Af(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},Ni).models}function bS(t,e){return wS(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function wS(t,e,r,n,i,a){var o,s=5;if(Vn(t))return Kr.Not;var u,l;if(n){var c=n[a];it(c)?(u=c.name,l=c.type):je(c)&&(u=c)}if(l!=null)return l==="ordinal"?Kr.Must:Kr.Not;if(e===Cn){var f=t;if(r===hl){for(var h=f[a],d=0;d<(h||[]).length&&d<s;d++)if((o=S(h[i+d]))!=null)return o}else for(var d=0;d<f.length&&d<s;d++){var v=f[i+d];if(v&&(o=S(v[a]))!=null)return o}}else if(e===Si){var g=t;if(!u)return Kr.Not;for(var d=0;d<g.length&&d<s;d++){var m=g[d];if(m&&(o=S(m[u]))!=null)return o}}else if(e===Da){var y=t;if(!u)return Kr.Not;var h=y[u];if(!h||Vn(h))return Kr.Not;for(var d=0;d<h.length&&d<s;d++)if((o=S(h[d]))!=null)return o}else if(e===xi)for(var b=t,d=0;d<b.length&&d<s;d++){var m=b[d],w=Df(m);if(!Fe(w))return Kr.Not;if((o=S(w[a]))!=null)return o}function S(D){var M=je(D);if(D!=null&&Number.isFinite(Number(D))&&D!=="")return M?Kr.Might:Kr.Not;if(M&&D!=="-")return Kr.Must}return Kr.Not}var Qv=function(){function t(e){this.data=e.data||(e.sourceFormat===Da?{}:[]),this.sourceFormat=e.sourceFormat||yS,this.seriesLayoutBy=e.seriesLayoutBy||ga,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var r=this.dimensionsDefine=e.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&bS(this,n)===Kr.Must&&(i.type="ordinal")}}return t}();function n2(t){return t instanceof Qv}function nm(t,e,r){r=r||SS(t);var n=e.seriesLayoutBy,i=iP(t,r,n,e.sourceHeader,e.dimensions),a=new Qv({data:t,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:kt(e)});return a}function xS(t){return new Qv({data:t,sourceFormat:Vn(t)?Do:xi})}function nP(t){return new Qv({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:kt(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function SS(t){var e=yS;if(Vn(t))e=Do;else if(Fe(t)){t.length===0&&(e=Cn);for(var r=0,n=t.length;r<n;r++){var i=t[r];if(i!=null){if(Fe(i)||Vn(i)){e=Cn;break}else if(it(i)){e=Si;break}}}}else if(it(t)){for(var a in t)if(ya(t,a)&&Dn(t[a])){e=Da;break}}return e}function iP(t,e,r,n,i){var a,o;if(!t)return{dimensionsDefine:d3(i),startIndex:o,dimensionsDetectedCount:a};if(e===Cn){var s=t;n==="auto"||n==null?v3(function(l){l!=null&&l!=="-"&&(je(l)?o==null&&(o=1):o=0)},r,s,10):o=Jt(n)?n:n?1:0,!i&&o===1&&(i=[],v3(function(l,c){i[c]=l!=null?l+"":""},r,s,1/0)),a=i?i.length:r===hl?s.length:s[0]?s[0].length:null}else if(e===Si)i||(i=aP(t));else if(e===Da)i||(i=[],F(t,function(l,c){i.push(c)}));else if(e===xi){var u=Df(t[0]);a=Fe(u)&&u.length||1}return{startIndex:o,dimensionsDefine:d3(i),dimensionsDetectedCount:a}}function aP(t){for(var e=0,r;e<t.length&&!(r=t[e++]););if(r)return or(r)}function d3(t){if(t){var e=vt();return Xe(t,function(r,n){r=it(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function v3(t,e,r,n){if(e===hl)for(var i=0;i<r.length&&i<n;i++)t(r[i]?r[i][0]:null,i);else for(var a=r[0]||[],i=0;i<a.length&&i<n;i++)t(a[i],i)}function TS(t){var e=t.sourceFormat;return e===Si||e===Da}var cs,fs,hs,p3,g3,MS=function(){function t(e,r){var n=n2(e)?e:xS(e);this._source=n;var i=this._data=n.data;n.sourceFormat===Do&&(this._offset=0,this._dimSize=r,this._data=i),g3(this,i,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,r){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;g3=function(o,s,u){var l=u.sourceFormat,c=u.seriesLayoutBy,f=u.startIndex,h=u.dimensionsDefine,d=p3[i2(l,c)];if(_e(o,d),l===Do)o.getItem=r,o.count=i,o.fillStorage=n;else{var v=DS(l,c);o.getItem=ur(v,null,s,f,h);var g=CS(l,c);o.count=ur(g,null,s,f,h)}};var r=function(o,s){o=o-this._offset,s=s||[];for(var u=this._data,l=this._dimSize,c=l*o,f=0;f<l;f++)s[f]=u[c+f];return s},n=function(o,s,u,l){for(var c=this._data,f=this._dimSize,h=0;h<f;h++){for(var d=l[h],v=d[0]==null?1/0:d[0],g=d[1]==null?-1/0:d[1],m=s-o,y=u[h],b=0;b<m;b++){var w=c[b*f+h];y[o+b]=w,w<v&&(v=w),w>g&&(g=w)}d[0]=v,d[1]=g}},i=function(){return this._data?this._data.length/this._dimSize:0};p3=(e={},e[Cn+"_"+ga]={pure:!0,appendData:a},e[Cn+"_"+hl]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Si]={pure:!0,appendData:a},e[Da]={pure:!0,appendData:function(o){var s=this._data;F(o,function(u,l){for(var c=s[l]||(s[l]=[]),f=0;f<(u||[]).length;f++)c.push(u[f])})}},e[xi]={appendData:a},e[Do]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),t}(),m3=function(t,e,r,n){return t[n]},oP=(cs={},cs[Cn+"_"+ga]=function(t,e,r,n){return t[n+e]},cs[Cn+"_"+hl]=function(t,e,r,n,i){n+=e;for(var a=i||[],o=t,s=0;s<o.length;s++){var u=o[s];a[s]=u?u[n]:null}return a},cs[Si]=m3,cs[Da]=function(t,e,r,n,i){for(var a=i||[],o=0;o<r.length;o++){var s=r[o].name,u=t[s];a[o]=u?u[n]:null}return a},cs[xi]=m3,cs);function DS(t,e){var r=oP[i2(t,e)];return r}var y3=function(t,e,r){return t.length},sP=(fs={},fs[Cn+"_"+ga]=function(t,e,r){return Math.max(0,t.length-e)},fs[Cn+"_"+hl]=function(t,e,r){var n=t[0];return n?Math.max(0,n.length-e):0},fs[Si]=y3,fs[Da]=function(t,e,r){var n=r[0].name,i=t[n];return i?i.length:0},fs[xi]=y3,fs);function CS(t,e){var r=sP[i2(t,e)];return r}var s0=function(t,e,r){return t[e]},uP=(hs={},hs[Cn]=s0,hs[Si]=function(t,e,r){return t[r]},hs[Da]=s0,hs[xi]=function(t,e,r){var n=Df(t);return n instanceof Array?n[e]:n},hs[Do]=s0,hs);function AS(t){var e=uP[t];return e}function i2(t,e){return t===Cn?t+"_"+e:t}function Zu(t,e,r){if(t){var n=t.getRawDataItem(e);if(n!=null){var i=t.getStore(),a=i.getSource().sourceFormat;if(r!=null){var o=t.getDimensionIndex(r),s=i.getDimensionProperty(o);return AS(a)(n,o,s)}else{var u=n;return a===xi&&(u=Df(n)),u}}}}var lP=function(){function t(e,r){this._encode=e,this._schema=r}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function cP(t,e){var r={},n=r.encode={},i=vt(),a=[],o=[],s={};F(t.dimensions,function(h){var d=t.getDimensionInfo(h),v=d.coordDim;if(v){var g=d.coordDimIndex;u0(n,v)[g]=h,d.isExtraCoord||(i.set(v,1),hP(d.type)&&(a[0]=h),u0(s,v)[g]=t.getDimensionIndex(d.name)),d.defaultTooltip&&o.push(h)}mS.each(function(m,y){var b=u0(n,y),w=d.otherDims[y];w!=null&&w!==!1&&(b[w]=d.name)})});var u=[],l={};i.each(function(h,d){var v=n[d];l[d]=v[0],u=u.concat(v)}),r.dataDimsOnCoord=u,r.dataDimIndicesOnCoord=Xe(u,function(h){return t.getDimensionInfo(h).storeDimIndex}),r.encodeFirstDimNotExtra=l;var c=n.label;c&&c.length&&(a=c.slice());var f=n.tooltip;return f&&f.length?o=f.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,r.userOutput=new lP(s,e),r}function u0(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function fP(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function hP(t){return!(t==="ordinal"||t==="time")}var hd=function(){function t(e){this.otherDims={},e!=null&&_e(this,e)}return t}();function dd(t,e){var r=e&&e.type;return r==="ordinal"?t:(r==="time"&&!Jt(t)&&t!=null&&t!=="-"&&(t=+Wa(t)),t==null||t===""?NaN:Number(t))}var dP=vt({number:function(t){return parseFloat(t)},time:function(t){return+Wa(t)},trim:function(t){return je(t)?la(t):t}});function IS(t){return dP.get(t)}var ES={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},vP=function(){function t(e,r){if(!Jt(r)){var n="";Et(n)}this._opFn=ES[e],this._rvalFloat=No(r)}return t.prototype.evaluate=function(e){return Jt(e)?this._opFn(e,this._rvalFloat):this._opFn(No(e),this._rvalFloat)},t}(),kS=function(){function t(e,r){var n=e==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,r){var n=Jt(e)?e:No(e),i=Jt(r)?r:No(r),a=isNaN(n),o=isNaN(i);if(a&&(n=this._incomparable),o&&(i=this._incomparable),a&&o){var s=je(e),u=je(r);s&&(n=u?e:0),u&&(i=s?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},t}(),pP=function(){function t(e,r){this._rval=r,this._isEQ=e,this._rvalTypeof=typeof r,this._rvalFloat=No(r)}return t.prototype.evaluate=function(e){var r=e===this._rval;if(!r){var n=typeof e;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(r=No(e)===this._rvalFloat)}return this._isEQ?r:!r},t}();function gP(t,e){return t==="eq"||t==="ne"?new pP(t==="eq",e):ya(ES,t)?new vP(t,e):null}var ep="undefined",mP=typeof Uint32Array===ep?Array:Uint32Array,yP=typeof Uint16Array===ep?Array:Uint16Array,OS=typeof Int32Array===ep?Array:Int32Array,_3=typeof Float64Array===ep?Array:Float64Array,PS={float:_3,int:OS,ordinal:Array,number:Array,time:_3},l0;function su(t){return t>65535?mP:yP}function uu(){return[1/0,-1/0]}function _P(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function b3(t,e,r,n,i){var a=PS[r||"float"];if(i){var o=t[e],s=o&&o.length;if(s!==n){for(var u=new a(n),l=0;l<s;l++)u[l]=o[l];t[e]=u}}else t[e]=new a(n)}var im=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=vt()}return t.prototype.initData=function(e,r,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=l0[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],TS(i),this._dimensions=Xe(r,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,r){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(e);if(a!=null){if(i[a].type===r)return a}else a=i.length;return i[a]={type:r},n.set(e,a),this._chunks[a]=new PS[r||"float"](this._rawCount),this._rawExtent[a]=uu(),a},t.prototype.collectOrdinalMeta=function(e,r){var n=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,o=i.ordinalOffset||0,s=n.length;o===0&&(a[e]=uu());for(var u=a[e],l=o;l<s;l++){var c=n[l]=r.parseAndCollect(n[l]);isNaN(c)||(u[0]=Math.min(c,u[0]),u[1]=Math.max(c,u[1]))}i.ordinalMeta=r,i.ordinalOffset=s,i.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var r=this._dimensions[e],n=r.ordinalMeta;return n},t.prototype.getDimensionProperty=function(e){var r=this._dimensions[e];return r&&r.property},t.prototype.appendData=function(e){var r=this._provider,n=this.count();r.appendData(e);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},t.prototype.appendValues=function(e,r){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),u=s+Math.max(e.length,r||0),l=0;l<a;l++){var c=i[l];b3(n,l,c.type,u,!0)}for(var f=[],h=s;h<u;h++)for(var d=h-s,v=0;v<a;v++){var c=i[v],g=l0.arrayRows.call(this,e[d]||f,c.property,d,v);n[v][h]=g;var m=o[v];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}return this._rawCount=this._count=u,{start:s,end:u}},t.prototype._initDataFromProvider=function(e,r,n){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,u=this._rawExtent,l=Xe(o,function(b){return b.property}),c=0;c<s;c++){var f=o[c];u[c]||(u[c]=uu()),b3(a,c,f.type,r,n)}if(i.fillStorage)i.fillStorage(e,r,a,u);else for(var h=[],d=e;d<r;d++){h=i.getItem(d,h);for(var v=0;v<s;v++){var g=a[v],m=this._dimValueGetter(h,l[v],d,v);g[d]=m;var y=u[v];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(r)]:NaN},t.prototype.getValues=function(e,r){var n=[],i=[];if(r==null){r=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,o=i.length;a<o;a++)n.push(this.get(i[a],r));return n},t.prototype.getByRawIndex=function(e,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[e];return n?n[r]:NaN},t.prototype.getSum=function(e){var r=this._chunks[e],n=0;if(r)for(var i=0,a=this.count();i<a;i++){var o=this.get(e,i);isNaN(o)||(n+=o)}return n},t.prototype.getMedian=function(e){var r=[];this.each([e],function(a){isNaN(a)||r.push(a)});var n=r.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var r=this._indices,n=r[e];if(n!=null&&n<this._count&&n===e)return e;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(r[o]<e)i=o+1;else if(r[o]>e)a=o-1;else return o}return-1},t.prototype.indicesOfNearest=function(e,r,n){var i=this._chunks,a=i[e],o=[];if(!a)return o;n==null&&(n=1/0);for(var s=1/0,u=-1,l=0,c=0,f=this.count();c<f;c++){var h=this.getRawIndex(c),d=r-a[h],v=Math.abs(d);v<=n&&((v<s||v===s&&d>=0&&u<0)&&(s=v,u=d,l=0),d===u&&(o[l++]=c))}return o.length=l,o},t.prototype.getIndices=function(){var e,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){e=new n(i);for(var a=0;a<i;a++)e[a]=r[a]}else e=new n(r.buffer,0,i)}else{var n=su(this._rawCount);e=new n(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},t.prototype.filter=function(e,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=su(n._rawCount),o=new a(i),s=[],u=e.length,l=0,c=e[0],f=n._chunks,h=0;h<i;h++){var d=void 0,v=n.getRawIndex(h);if(u===0)d=r(h);else if(u===1){var g=f[c][v];d=r(g,h)}else{for(var m=0;m<u;m++)s[m]=f[e[m]][v];s[m]=h,d=r.apply(null,s)}d&&(o[l++]=v)}return l<i&&(n._indices=o),n._count=l,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(e){var r=this.clone(),n=r._count;if(!n)return this;var i=or(e),a=i.length;if(!a)return this;var o=r.count(),s=su(r._rawCount),u=new s(o),l=0,c=i[0],f=e[c][0],h=e[c][1],d=r._chunks,v=!1;if(!r._indices){var g=0;if(a===1){for(var m=d[i[0]],y=0;y<n;y++){var b=m[y];(b>=f&&b<=h||isNaN(b))&&(u[l++]=g),g++}v=!0}else if(a===2){for(var m=d[i[0]],w=d[i[1]],S=e[i[1]][0],D=e[i[1]][1],y=0;y<n;y++){var b=m[y],M=w[y];(b>=f&&b<=h||isNaN(b))&&(M>=S&&M<=D||isNaN(M))&&(u[l++]=g),g++}v=!0}}if(!v)if(a===1)for(var y=0;y<o;y++){var A=r.getRawIndex(y),b=d[i[0]][A];(b>=f&&b<=h||isNaN(b))&&(u[l++]=A)}else for(var y=0;y<o;y++){for(var k=!0,A=r.getRawIndex(y),O=0;O<a;O++){var P=i[O],b=d[P][A];(b<e[P][0]||b>e[P][1])&&(k=!1)}k&&(u[l++]=r.getRawIndex(y))}return l<o&&(r._indices=u),r._count=l,r._extent=[],r._updateGetRawIdx(),r},t.prototype.map=function(e,r){var n=this.clone(e);return this._updateDims(n,e,r),n},t.prototype.modify=function(e,r){this._updateDims(this,e,r)},t.prototype._updateDims=function(e,r,n){for(var i=e._chunks,a=[],o=r.length,s=e.count(),u=[],l=e._rawExtent,c=0;c<r.length;c++)l[r[c]]=uu();for(var f=0;f<s;f++){for(var h=e.getRawIndex(f),d=0;d<o;d++)u[d]=i[r[d]][h];u[o]=f;var v=n&&n.apply(null,u);if(v!=null){typeof v!="object"&&(a[0]=v,v=a);for(var c=0;c<v.length;c++){var g=r[c],m=v[c],y=l[g],b=i[g];b&&(b[h]=m),m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}}},t.prototype.lttbDownSample=function(e,r){var n=this.clone([e],!0),i=n._chunks,a=i[e],o=this.count(),s=0,u=Math.floor(1/r),l=this.getRawIndex(0),c,f,h,d=new(su(this._rawCount))(Math.min((Math.ceil(o/u)+2)*2,o));d[s++]=l;for(var v=1;v<o-1;v+=u){for(var g=Math.min(v+u,o-1),m=Math.min(v+u*2,o),y=(m+g)/2,b=0,w=g;w<m;w++){var S=this.getRawIndex(w),D=a[S];isNaN(D)||(b+=D)}b/=m-g;var M=v,A=Math.min(v+u,o),k=v-1,O=a[l];c=-1,h=M;for(var P=-1,R=0,w=M;w<A;w++){var S=this.getRawIndex(w),D=a[S];if(isNaN(D)){R++,P<0&&(P=S);continue}f=Math.abs((k-y)*(D-O)-(k-w)*(b-O)),f>c&&(c=f,h=S)}R>0&&R<A-M&&(d[s++]=Math.min(P,h),h=Math.max(P,h)),d[s++]=h,l=h}return d[s++]=this.getRawIndex(o-1),n._count=s,n._indices=d,n.getRawIndex=this._getRawIdx,n},t.prototype.minmaxDownSample=function(e,r){for(var n=this.clone([e],!0),i=n._chunks,a=Math.floor(1/r),o=i[e],s=this.count(),u=new(su(this._rawCount))(Math.ceil(s/a)*2),l=0,c=0;c<s;c+=a){var f=c,h=o[this.getRawIndex(f)],d=c,v=o[this.getRawIndex(d)],g=a;c+a>s&&(g=s-c);for(var m=0;m<g;m++){var y=this.getRawIndex(c+m),b=o[y];b<h&&(h=b,f=c+m),b>v&&(v=b,d=c+m)}var w=this.getRawIndex(f),S=this.getRawIndex(d);f<d?(u[l++]=w,u[l++]=S):(u[l++]=S,u[l++]=w)}return n._count=l,n._indices=u,n._updateGetRawIdx(),n},t.prototype.downSample=function(e,r,n,i){for(var a=this.clone([e],!0),o=a._chunks,s=[],u=Math.floor(1/r),l=o[e],c=this.count(),f=a._rawExtent[e]=uu(),h=new(su(this._rawCount))(Math.ceil(c/u)),d=0,v=0;v<c;v+=u){u>c-v&&(u=c-v,s.length=u);for(var g=0;g<u;g++){var m=this.getRawIndex(v+g);s[g]=l[m]}var y=n(s),b=this.getRawIndex(Math.min(v+i(s,y)||0,c-1));l[b]=y,y<f[0]&&(f[0]=y),y>f[1]&&(f[1]=y),h[d++]=b}return a._count=d,a._indices=h,a._updateGetRawIdx(),a},t.prototype.each=function(e,r){if(this._count)for(var n=e.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:r(a);break;case 1:r(i[e[0]][s],a);break;case 2:r(i[e[0]][s],i[e[1]][s],a);break;default:for(var u=0,l=[];u<n;u++)l[u]=i[e[u]][s];l[u]=a,r.apply(null,l)}}},t.prototype.getDataExtent=function(e){var r=this._chunks[e],n=uu();if(!r)return n;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=n;for(var s=o[0],u=o[1],l=0;l<i;l++){var c=this.getRawIndex(l),f=r[c];f<s&&(s=f),f>u&&(u=f)}return o=[s,u],this._extent[e]=o,o},t.prototype.getRawDataItem=function(e){var r=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][r]);return n},t.prototype.clone=function(e,r){var n=new t,i=this._chunks,a=e&&Oo(e,function(s,u){return s[u]=!0,s},{});if(a)for(var o=0;o<i.length;o++)n._chunks[o]=a[o]?_P(i[o]):i[o];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=kt(this._extent),e._rawExtent=kt(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,r=void 0;if(e===Array){var n=this._indices.length;r=new e(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new e(this._indices);return r}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(r,n,i,a){return dd(r[a],this._dimensions[a])}l0={arrayRows:e,objectRows:function(r,n,i,a){return dd(r[n],this._dimensions[a])},keyedColumns:e,original:function(r,n,i,a){var o=r&&(r.value==null?r:r.value);return dd(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(r,n,i,a){return r[a]}}}(),t}(),bP=cr(),wP={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},LS=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=FS(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return bt(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var r=this.source.dimensionsDefine;if(r)return r[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,r=TS(this.source),n=!zS(e),i="",a=[],o=0,s=0;o<e;o++){var u=void 0,l=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)u=r?f.name:null,l=f.type,c=f.ordinalMeta,s++;else{var h=this.getSourceDimension(o);h&&(u=r?h.name:null,l=h.type)}a.push({property:u,type:l,ordinalMeta:c}),r&&u!=null&&(!f||!f.isCalculationCoord)&&(i+=n?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),i+="$",i+=wP[l]||"f",c&&(i+=c.uid),i+="$"}var d=this.source,v=[d.seriesLayoutBy,d.startIndex,i].join("$$");return{dimensions:a,hash:v}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===r)a.isCalculationCoord||(i=a.name),n++;else{var o=this.getSourceDimension(r);o&&(i=o.name)}e.push(i)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function RS(t){return t instanceof LS}function NS(t){for(var e=vt(),r=0;r<(t||[]).length;r++){var n=t[r],i=it(n)?n.name:n;i!=null&&e.get(i)==null&&e.set(i,r)}return e}function FS(t){var e=bP(t);return e.dimNameMap||(e.dimNameMap=NS(t.dimensionsDefine))}function zS(t){return t>30}var Wl=it,so=Xe,xP=typeof Int32Array>"u"?Array:Int32Array,SP="e\0\0",w3=-1,TP=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],MP=["_approximateExtent"],x3,Sh,Ul,ql,c0,Yl,f0,BS=function(){function t(e,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;RS(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var a={},o=[],s={},u=!1,l={},c=0;c<n.length;c++){var f=n[c],h=je(f)?new hd({name:f}):f instanceof hd?f:new hd(f),d=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0);var v=h.otherDims=h.otherDims||{};o.push(d),a[d]=h,l[d]!=null&&(u=!0),h.createInvertedIndices&&(s[d]=[]),v.itemName===0&&(this._nameDimIdx=c),v.itemId===0&&(this._idDimIdx=c),i&&(h.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(u),this.hostModel=r,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=vt();F(o,function(m){g.set(a[m].storeDimIndex,m)})}}return t.prototype.getDimension=function(e){var r=this._recognizeDimIndex(e);if(r==null)return e;if(r=e,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},t.prototype.getDimensionIndex=function(e){var r=this._recognizeDimIndex(e);if(r!=null)return r;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(Jt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var r=this.getDimensionIndex(e);return r},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var r=this._dimInfos;this._getDimInfo=e?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[r]:null},t.prototype.mapDimensionsAll=function(e){var r=this._dimSummary,n=r.encode[e];return(n||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,r,n){var i=this,a;if(e instanceof im&&(a=e),!a){var o=this.dimensions,s=n2(e)||Dn(e)?new MS(e,o.length):e;a=new im;var u=so(o,function(l){return{type:i._dimInfos[l].type,property:l}});a.initData(s,u,n)}this._store=a,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=cP(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var r=this._store.appendData(e);this._doInit(r[0],r[1])},t.prototype.appendValues=function(e,r){var n=this._store.appendValues(e,r&&r.length),i=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var s=i;s<a;s++){var u=s-i;this._nameList[s]=r[u],o&&f0(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Do&&!e.fillStorage},t.prototype._doInit=function(e,r){if(!(e>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,u=s===xi;if(u&&!i.pure)for(var l=[],c=e;c<r;c++){var f=i.getItem(c,l);if(!this.hasItemOption&&mk(f)&&(this.hasItemOption=!0),f){var h=f.name;a[c]==null&&h!=null&&(a[c]=pa(h,null));var d=f.id;o[c]==null&&d!=null&&(o[c]=pa(d,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<r;c++)f0(this,c);x3(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,r){r=this.getDimension(r),this._approximateExtent[r]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,r){Wl(e)?_e(this._calculationInfo,e):this._calculationInfo[e]=r},t.prototype.getName=function(e){var r=this.getRawIndex(e),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=Ul(this,this._nameDimIdx,r)),n==null&&(n=""),n},t.prototype._getCategory=function(e,r){var n=this._store.get(e,r),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},t.prototype.getId=function(e){return Sh(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,r)},t.prototype.getByRawIndex=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,r)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,r){var n=this,i=this._store;return Fe(e)?i.getValues(so(e,function(a){return n._getStoreDimIndex(a)}),r):i.getValues(e)},t.prototype.hasValue=function(e){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===e)return r;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,r){var n=e&&this._invertedIndicesMap[e],i=n&&n[r];return i==null||isNaN(i)?w3:i},t.prototype.indicesOfNearest=function(e,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),r,n)},t.prototype.each=function(e,r,n){wt(e)&&(n=r,r=e,e=[]);var i=n||this,a=so(ql(e),this._getStoreDimIndex,this);this._store.each(a,i?ur(r,i):r)},t.prototype.filterSelf=function(e,r,n){wt(e)&&(n=r,r=e,e=[]);var i=n||this,a=so(ql(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?ur(r,i):r),this},t.prototype.selectRange=function(e){var r=this,n={},i=or(e);return F(i,function(a){var o=r._getStoreDimIndex(a);n[o]=e[a]}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(e,r,n){wt(e)&&(n=r,r=e,e=[]),n=n||this;var i=[];return this.each(e,function(){i.push(r&&r.apply(this,arguments))},n),i},t.prototype.map=function(e,r,n,i){var a=n||i||this,o=so(ql(e),this._getStoreDimIndex,this),s=Yl(this);return s._store=this._store.map(o,a?ur(r,a):r),s},t.prototype.modify=function(e,r,n,i){var a=n||i||this,o=so(ql(e),this._getStoreDimIndex,this);this._store.modify(o,a?ur(r,a):r)},t.prototype.downSample=function(e,r,n,i){var a=Yl(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),r,n,i),a},t.prototype.minmaxDownSample=function(e,r){var n=Yl(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),r),n},t.prototype.lttbDownSample=function(e,r){var n=Yl(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),r),n},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var r=this.hostModel,n=this.getRawDataItem(e);return new Sr(n,r,r&&r.ecModel)},t.prototype.diff=function(e){var r=this;return new rm(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return Sh(e,n)},function(n){return Sh(r,n)})},t.prototype.getVisual=function(e){var r=this._visual;return r&&r[e]},t.prototype.setVisual=function(e,r){this._visual=this._visual||{},Wl(e)?_e(this._visual,e):this._visual[e]=r},t.prototype.getItemVisual=function(e,r){var n=this._itemVisuals[e],i=n&&n[r];return i??this.getVisual(r)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,r){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var a=i[r];return a==null&&(a=this.getVisual(r),Fe(a)?a=a.slice():Wl(a)&&(a=_e({},a)),i[r]=a),a},t.prototype.setItemVisual=function(e,r,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,Wl(r)?_e(i,r):i[r]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,r){Wl(e)?_e(this._layout,e):this._layout[e]=r},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,r,n){this._itemLayouts[e]=n?_e(this._itemLayouts[e]||{},r):r},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,r){var n=this.hostModel&&this.hostModel.seriesIndex;kk(n,this.dataType,e,r),this._graphicEls[e]=r},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,r){F(this._graphicEls,function(n,i){n&&e&&e.call(r,n,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:so(this.dimensions,this._getDimInfo,this),this.hostModel)),c0(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,r){var n=this[e];wt(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(Ey(arguments)))})},t.internalField=function(){x3=function(e){var r=e._invertedIndicesMap;F(r,function(n,i){var a=e._dimInfos[i],o=a.ordinalMeta,s=e._store;if(o){n=r[i]=new xP(o.categories.length);for(var u=0;u<n.length;u++)n[u]=w3;for(var u=0;u<s.count();u++)n[s.get(a.storeDimIndex,u)]=u}})},Ul=function(e,r,n){return pa(e._getCategory(r,n),null)},Sh=function(e,r){var n=e._idList[r];return n==null&&e._idDimIdx!=null&&(n=Ul(e,e._idDimIdx,r)),n==null&&(n=SP+r),n},ql=function(e){return Fe(e)||(e=e!=null?[e]:[]),e},Yl=function(e){var r=new t(e._schema?e._schema:so(e.dimensions,e._getDimInfo,e),e.hostModel);return c0(r,e),r},c0=function(e,r){F(TP.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(e[n]=r[n])}),e.__wrappedMethods=r.__wrappedMethods,F(MP,function(n){e[n]=kt(r[n])}),e._calculationInfo=_e({},r._calculationInfo)},f0=function(e,r){var n=e._nameList,i=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=n[r],u=i[r];if(s==null&&a!=null&&(n[r]=s=Ul(e,a,r)),u==null&&o!=null&&(i[r]=u=Ul(e,o,r)),u==null&&s!=null){var l=e._nameRepeatCount,c=l[s]=(l[s]||0)+1;u=s,c>1&&(u+="__ec__"+c),i[r]=u}}}(),t}();function $S(t,e){n2(t)||(t=xS(t)),e=e||{};var r=e.coordDimensions||[],n=e.dimensionsDefine||t.dimensionsDefine||[],i=vt(),a=[],o=CP(t,r,n,e.dimensionsCount),s=e.canOmitUnusedDimensions&&zS(o),u=n===t.dimensionsDefine,l=u?FS(t):NS(n),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(t,o));for(var f=vt(c),h=new OS(o),d=0;d<h.length;d++)h[d]=-1;function v(O){var P=h[O];if(P<0){var R=n[O],H=it(R)?R:{name:R},z=new hd,W=H.name;W!=null&&l.get(W)!=null&&(z.name=z.displayName=W),H.type!=null&&(z.type=H.type),H.displayName!=null&&(z.displayName=H.displayName);var ee=a.length;return h[O]=ee,z.storeDimIndex=O,a.push(z),z}return a[P]}if(!s)for(var d=0;d<o;d++)v(d);f.each(function(O,P){var R=Ir(O).slice();if(R.length===1&&!je(R[0])&&R[0]<0){f.set(P,!1);return}var H=f.set(P,[]);F(R,function(z,W){var ee=je(z)?l.get(z):z;ee!=null&&ee<o&&(H[W]=ee,m(v(ee),P,W))})});var g=0;F(r,function(O){var P,R,H,z;if(je(O))P=O,z={};else{z=O,P=z.name;var W=z.ordinalMeta;z.ordinalMeta=null,z=_e({},z),z.ordinalMeta=W,R=z.dimsDef,H=z.otherDims,z.name=z.coordDim=z.coordDimIndex=z.dimsDef=z.otherDims=null}var ee=f.get(P);if(ee!==!1){if(ee=Ir(ee),!ee.length)for(var ne=0;ne<(R&&R.length||1);ne++){for(;g<o&&v(g).coordDim!=null;)g++;g<o&&ee.push(g++)}F(ee,function(he,X){var te=v(he);if(u&&z.type!=null&&(te.type=z.type),m(It(te,z),P,X),te.name==null&&R){var oe=R[X];!it(oe)&&(oe={name:oe}),te.name=te.displayName=oe.name,te.defaultTooltip=oe.defaultTooltip}H&&It(te.otherDims,H)})}});function m(O,P,R){mS.get(P)!=null?O.otherDims[P]=R:(O.coordDim=P,O.coordDimIndex=R,i.set(P,!0))}var y=e.generateCoord,b=e.generateCoordCount,w=b!=null;b=y?b||1:0;var S=y||"value";function D(O){O.name==null&&(O.name=O.coordDim)}if(s)F(a,function(O){D(O)}),a.sort(function(O,P){return O.storeDimIndex-P.storeDimIndex});else for(var M=0;M<o;M++){var A=v(M),k=A.coordDim;k==null&&(A.coordDim=AP(S,i,w),A.coordDimIndex=0,(!y||b<=0)&&(A.isExtraCoord=!0),b--),D(A),A.type==null&&(bS(t,M)===Kr.Must||A.isExtraCoord&&(A.otherDims.itemName!=null||A.otherDims.seriesName!=null))&&(A.type="ordinal")}return DP(a),new LS({source:t,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function DP(t){for(var e=vt(),r=0;r<t.length;r++){var n=t[r],i=n.name,a=e.get(i)||0;a>0&&(n.name=i+(a-1)),a++,e.set(i,a)}}function CP(t,e,r,n){var i=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,n||0);return F(e,function(a){var o;it(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function AP(t,e,r){if(r||e.hasKey(t)){for(var n=0;e.hasKey(t+n);)n++;t+=n}return e.set(t,!0),t}var h0={},a2=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,r){var n=[];F(h0,function(i,a){var o=i.create(e,r);n=n.concat(o||[])}),this._coordinateSystems=n},t.prototype.update=function(e,r){F(this._coordinateSystems,function(n){n.update&&n.update(e,r)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,r){h0[e]=r},t.get=function(e){return h0[e]},t}(),IP=function(){function t(e){this.coordSysDims=[],this.axisMap=vt(),this.categoryAxisMap=vt(),this.coordSysName=e}return t}();function EP(t){var e=t.get("coordinateSystem"),r=new IP(e),n=kP[e];if(n)return n(t,r,r.axisMap,r.categoryAxisMap),r}var kP={cartesian2d:function(t,e,r,n){var i=t.getReferringComponents("xAxis",Ni).models[0],a=t.getReferringComponents("yAxis",Ni).models[0];e.coordSysDims=["x","y"],r.set("x",i),r.set("y",a),lu(i)&&(n.set("x",i),e.firstCategoryDimIndex=0),lu(a)&&(n.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,r,n){var i=t.getReferringComponents("singleAxis",Ni).models[0];e.coordSysDims=["single"],r.set("single",i),lu(i)&&(n.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,r,n){var i=t.getReferringComponents("polar",Ni).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],r.set("radius",a),r.set("angle",o),lu(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),lu(o)&&(n.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,r,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,n){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();F(a.parallelAxisIndex,function(s,u){var l=i.getComponent("parallelAxis",s),c=o[u];r.set(c,l),lu(l)&&(n.set(c,l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function lu(t){return t.get("type")==="category"}function OP(t,e,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,a,o,s;PP(e)?a=e:(o=e.schema,a=o.dimensions,s=e.store);var u=!!(t&&t.get("stack")),l,c,f,h;if(F(a,function(b,w){je(b)&&(a[w]=b={name:b}),u&&!b.isExtraCoord&&(!n&&!l&&b.ordinalMeta&&(l=b),!c&&b.type!=="ordinal"&&b.type!=="time"&&(!i||i===b.coordDim)&&(c=b))}),c&&!n&&!l&&(n=!0),c){f="__\0ecstackresult_"+t.id,h="__\0ecstackedover_"+t.id,l&&(l.createInvertedIndices=!0);var d=c.coordDim,v=c.type,g=0;F(a,function(b){b.coordDim===d&&g++});var m={name:f,coordDim:d,coordDimIndex:g,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},y={name:h,coordDim:h,coordDimIndex:g+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(h,v),y.storeDimIndex=s.ensureCalculationDimension(f,v)),o.appendCalculationDimension(m),o.appendCalculationDimension(y)):(a.push(m),a.push(y))}return{stackedDimension:c&&c.name,stackedByDimension:l&&l.name,isStackedByIndex:n,stackedOverDimension:h,stackResultDimension:f}}function PP(t){return!RS(t.schema)}function VS(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function LP(t,e){return VS(t,e)?t.getCalculationInfo("stackResultDimension"):e}function RP(t,e){var r=t.get("coordinateSystem"),n=a2.get(r),i;return e&&e.coordSysDims&&(i=Xe(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var u=s.get("type");o.type=fP(u)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function NP(t,e,r){var n,i;return r&&F(t,function(a,o){var s=a.coordDim,u=r.categoryAxisMap.get(s);u&&(n==null&&(n=o),a.ordinalMeta=u.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(t[n].otherDims.itemName=0),n}function HS(t,e,r){r=r||{};var n=e.getSourceManager(),i,a=!1;i=n.getSource(),a=i.sourceFormat===xi;var o=EP(e),s=RP(e,o),u=r.useEncodeDefaulter,l=wt(u)?u:u?Cr(eP,s,e):null,c={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!a},f=$S(i,c),h=NP(f.dimensions,r.createInvertedIndices,o),d=a?null:n.getSharedDataStore(f),v=OP(e,{schema:f,store:d}),g=new BS(f,e);g.setCalculationInfo(v);var m=h!=null&&FP(i)?function(y,b,w,S){return S===h?w:this.defaultDimValueGetter(y,b,w,S)}:null;return g.hasItemOption=!1,g.initData(a?i:d,null,m),g}function FP(t){if(t.sourceFormat===xi){var e=zP(t.data||[]);return!Fe(Df(e))}}function zP(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var BP=Math.round(Math.random()*10);function tp(t){return[t||"",BP++].join("_")}function $P(t){var e={};t.registerSubTypeDefaulter=function(r,n){var i=ca(r);e[i.main]=n},t.determineSubType=function(r,n){var i=n.type;if(!i){var a=ca(r).main;t.hasSubTypes(r)&&e[a]&&(i=e[a](n))}return i}}function VP(t,e){t.topologicalTravel=function(a,o,s,u){if(!a.length)return;var l=r(o),c=l.graph,f=l.noEntryList,h={};for(F(a,function(b){h[b]=!0});f.length;){var d=f.pop(),v=c[d],g=!!h[d];g&&(s.call(u,d,v.originalDeps.slice()),delete h[d]),F(v.successor,g?y:m)}F(h,function(){var b="";throw new Error(b)});function m(b){c[b].entryCount--,c[b].entryCount===0&&f.push(b)}function y(b){h[b]=!0,m(b)}};function r(a){var o={},s=[];return F(a,function(u){var l=n(o,u),c=l.originalDeps=e(u),f=i(c,a);l.entryCount=f.length,l.entryCount===0&&s.push(u),F(f,function(h){Ut(l.predecessor,h)<0&&l.predecessor.push(h);var d=n(o,h);Ut(d.successor,h)<0&&d.successor.push(u)})}),{graph:o,noEntryList:s}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return F(a,function(u){Ut(o,u)>=0&&s.push(u)}),s}}function GS(t,e){return qt(qt({},t,!0),e,!0)}var HP=Math.log(2);function am(t,e,r,n,i,a){var o=n+"-"+i,s=t.length;if(a.hasOwnProperty(o))return a[o];if(e===1){var u=Math.round(Math.log((1<<s)-1&~i)/HP);return t[r][u]}for(var l=n|1<<r,c=r+1;n&1<<c;)c++;for(var f=0,h=0,d=0;h<s;h++){var v=1<<h;v&i||(f+=(d%2?-1:1)*t[r][h]*am(t,e-1,c,l,i|v,a),d++)}return a[o]=f,f}function S3(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},i=am(r,8,0,0,0,n);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*am(r,7,o===0?1:0,1<<o,1<<s,n)/i*e[o];return function(u,l,c){var f=l*a[6]+c*a[7]+1;u[0]=(l*a[0]+c*a[1]+a[2])/f,u[1]=(l*a[3]+c*a[4]+a[5])/f}}}var T3="___zrEVENTSAVED",d0=[];function GP(t,e,r,n,i){return om(d0,e,n,i,!0)&&om(t,r,d0[0],d0[1])}function om(t,e,r,n,i){if(e.getBoundingClientRect&&ht.domSupported&&!WS(e)){var a=e[T3]||(e[T3]={}),o=WP(e,a),s=UP(o,a,i);if(s)return s(t,r,n),!0}return!1}function WP(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,u=a%2,l=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[u]+":0",i[l]+":0",n[1-u]+":auto",i[1-l]+":auto",""].join("!important;"),t.appendChild(o),r.push(o)}return r}function UP(t,e,r){for(var n=r?"invTrans":"trans",i=e[n],a=e.srcCoords,o=[],s=[],u=!0,l=0;l<4;l++){var c=t[l].getBoundingClientRect(),f=2*l,h=c.left,d=c.top;o.push(h,d),u=u&&a&&h===a[f]&&d===a[f+1],s.push(t[l].offsetLeft,t[l].offsetTop)}return u&&i?i:(e.srcCoords=o,e[n]=r?S3(s,o):S3(o,s))}function WS(t){return t.nodeName.toUpperCase()==="CANVAS"}var qP=/([&<>"'])/g,YP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Nn(t){return t==null?"":(t+"").replace(qP,function(e,r){return YP[r]})}const jP={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},KP={time:{month:["ä¸æ","äºæ","ä¸æ","åæ","äºæ","å­æ","ä¸æ","å«æ","ä¹æ","åæ","åä¸æ","åäºæ"],monthAbbr:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],dayOfWeek:["æææ¥","ææä¸","ææäº","ææä¸","ææå","ææäº","ææå­"],dayOfWeekAbbr:["æ¥","ä¸","äº","ä¸","å","äº","å­"]},legend:{selector:{all:"å¨é",inverse:"åé"}},toolbox:{brush:{title:{rect:"ç©å½¢éæ©",polygon:"åé",lineX:"æ¨ªåéæ©",lineY:"çºµåéæ©",keep:"ä¿æéæ©",clear:"æ¸é¤éæ©"}},dataView:{title:"æ°æ®è§å¾",lang:["æ°æ®è§å¾","å³é­","å·æ°"]},dataZoom:{title:{zoom:"åºåç¼©æ¾",back:"åºåç¼©æ¾è¿å"}},magicType:{title:{line:"åæ¢ä¸ºæçº¿å¾",bar:"åæ¢ä¸ºæ±ç¶å¾",stack:"åæ¢ä¸ºå å ",tiled:"åæ¢ä¸ºå¹³éº"}},restore:{title:"è¿å"},saveAsImage:{title:"ä¿å­ä¸ºå¾ç",lang:["å³é®å¦å­ä¸ºå¾ç"]}},series:{typeNames:{pie:"é¥¼å¾",bar:"æ±ç¶å¾",line:"æçº¿å¾",scatter:"æ£ç¹å¾",effectScatter:"æ¶æ¼ªæ£ç¹å¾",radar:"é·è¾¾å¾",tree:"æ å¾",treemap:"ç©å½¢æ å¾",boxplot:"ç®±åå¾",candlestick:"Kçº¿å¾",k:"Kçº¿å¾",heatmap:"ç­åå¾",map:"å°å¾",parallel:"å¹³è¡åæ å¾",lines:"çº¿å¾",graph:"å³ç³»å¾",sankey:"æ¡åºå¾",funnel:"æ¼æå¾",gauge:"ä»ªè¡¨çå¾",pictorialBar:"è±¡å½¢æ±å¾",themeRiver:"ä¸»é¢æ²³æµå¾",sunburst:"æ­æ¥å¾",custom:"èªå®ä¹å¾è¡¨",chart:"å¾è¡¨"}},aria:{general:{withTitle:"è¿æ¯ä¸ä¸ªå³äºâ{title}âçå¾è¡¨ã",withoutTitle:"è¿æ¯ä¸ä¸ªå¾è¡¨ï¼"},series:{single:{prefix:"",withName:"å¾è¡¨ç±»åæ¯{seriesType}ï¼è¡¨ç¤º{seriesName}ã",withoutName:"å¾è¡¨ç±»åæ¯{seriesType}ã"},multiple:{prefix:"å®ç±{seriesCount}ä¸ªå¾è¡¨ç³»åç»æã",withName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ªè¡¨ç¤º{seriesName}ç{seriesType}ï¼",withoutName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ª{seriesType}ï¼",separator:{middle:"ï¼",end:"ã"}}},data:{allData:"å¶æ°æ®æ¯ââ",partialData:"å¶ä¸­ï¼å{displayCnt}é¡¹æ¯ââ",withName:"{name}çæ°æ®æ¯{value}",withoutName:"{value}",separator:{middle:"ï¼",end:""}}}};var Xd="ZH",o2="EN",$u=o2,vd={},s2={},US=ht.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||$u).toUpperCase();return t.indexOf(Xd)>-1?Xd:$u}():$u;function qS(t,e){t=t.toUpperCase(),s2[t]=new Sr(e),vd[t]=e}function ZP(t){if(je(t)){var e=vd[t.toUpperCase()]||{};return t===Xd||t===o2?kt(e):qt(kt(e),kt(vd[$u]),!1)}else return qt(kt(t),kt(vd[$u]),!1)}function XP(t){return s2[t]}function JP(){return s2[$u]}qS(o2,jP);qS(Xd,KP);var u2=1e3,l2=u2*60,Oc=l2*60,vi=Oc*24,M3=vi*365,fc={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Th="{yyyy}-{MM}-{dd}",D3={year:"{yyyy}",month:"{yyyy}-{MM}",day:Th,hour:Th+" "+fc.hour,minute:Th+" "+fc.minute,second:Th+" "+fc.second,millisecond:fc.none},v0=["year","month","day","hour","minute","second","millisecond"],YS=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function uo(t,e){return t+="","0000".substr(0,e-t.length)+t}function Vu(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function QP(t){return t===Vu(t)}function eL(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function rp(t,e,r,n){var i=Wa(t),a=i[c2(r)](),o=i[Hu(r)]()+1,s=Math.floor((o-1)/3)+1,u=i[np(r)](),l=i["get"+(r?"UTC":"")+"Day"](),c=i[Xc(r)](),f=(c-1)%12+1,h=i[ip(r)](),d=i[ap(r)](),v=i[op(r)](),g=c>=12?"pm":"am",m=g.toUpperCase(),y=n instanceof Sr?n:XP(n||US)||JP(),b=y.getModel("time"),w=b.get("month"),S=b.get("monthAbbr"),D=b.get("dayOfWeek"),M=b.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,g+"").replace(/{A}/g,m+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,uo(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,w[o-1]).replace(/{MMM}/g,S[o-1]).replace(/{MM}/g,uo(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,uo(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,D[l]).replace(/{ee}/g,M[l]).replace(/{e}/g,l+"").replace(/{HH}/g,uo(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,uo(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,uo(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,uo(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,uo(v,3)).replace(/{S}/g,v+"")}function tL(t,e,r,n,i){var a=null;if(je(r))a=r;else if(wt(r))a=r(t.value,e,{level:t.level});else{var o=_e({},fc);if(t.level>0)for(var s=0;s<v0.length;++s)o[v0[s]]="{primary|"+o[v0[s]]+"}";var u=r?r.inherit===!1?r:It(r,o):o,l=jS(t.value,i);if(u[l])a=u[l];else if(u.inherit){for(var c=YS.indexOf(l),s=c-1;s>=0;--s)if(u[l]){a=u[l];break}a=a||o.none}if(Fe(a)){var f=t.level==null?0:t.level>=0?t.level:a.length+t.level;f=Math.min(f,a.length-1),a=a[f]}}return rp(new Date(t.value),a,i,n)}function jS(t,e){var r=Wa(t),n=r[Hu(e)]()+1,i=r[np(e)](),a=r[Xc(e)](),o=r[ip(e)](),s=r[ap(e)](),u=r[op(e)](),l=u===0,c=l&&s===0,f=c&&o===0,h=f&&a===0,d=h&&i===1,v=d&&n===1;return v?"year":d?"month":h?"day":f?"hour":c?"minute":l?"second":"millisecond"}function C3(t,e,r){var n=Jt(t)?Wa(t):t;switch(e=e||jS(t,r),e){case"year":return n[c2(r)]();case"half-year":return n[Hu(r)]()>=6?1:0;case"quarter":return Math.floor((n[Hu(r)]()+1)/4);case"month":return n[Hu(r)]();case"day":return n[np(r)]();case"half-day":return n[Xc(r)]()/24;case"hour":return n[Xc(r)]();case"minute":return n[ip(r)]();case"second":return n[ap(r)]();case"millisecond":return n[op(r)]()}}function c2(t){return t?"getUTCFullYear":"getFullYear"}function Hu(t){return t?"getUTCMonth":"getMonth"}function np(t){return t?"getUTCDate":"getDate"}function Xc(t){return t?"getUTCHours":"getHours"}function ip(t){return t?"getUTCMinutes":"getMinutes"}function ap(t){return t?"getUTCSeconds":"getSeconds"}function op(t){return t?"getUTCMilliseconds":"getMilliseconds"}function rL(t){return t?"setUTCFullYear":"setFullYear"}function KS(t){return t?"setUTCMonth":"setMonth"}function ZS(t){return t?"setUTCDate":"setDate"}function XS(t){return t?"setUTCHours":"setHours"}function JS(t){return t?"setUTCMinutes":"setMinutes"}function QS(t){return t?"setUTCSeconds":"setSeconds"}function eT(t){return t?"setUTCMilliseconds":"setMilliseconds"}function tT(t){if(!pk(t))return je(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function rT(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var sp=ex;function sm(t,e,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&la(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=e==="time",s=t instanceof Date;if(o||s){var u=o?Wa(t):t;if(isNaN(+u)){if(s)return"-"}else return rp(u,n,r)}if(e==="ordinal")return Eg(t)?i(t):Jt(t)&&a(t)?t+"":"-";var l=No(t);return a(l)?tT(l):Eg(t)?i(t):typeof t=="boolean"?t+"":"-"}var A3=["a","b","c","d","e","f","g"],p0=function(t,e){return"{"+t+(e??"")+"}"};function nT(t,e,r){Fe(e)||(e=[e]);var n=e.length;if(!n)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=A3[a];t=t.replace(p0(o),p0(o,0))}for(var s=0;s<n;s++)for(var u=0;u<i.length;u++){var l=e[s][i[u]];t=t.replace(p0(A3[u],s),r?Nn(l):l)}return t}function nL(t,e){var r=je(t)?{color:t,extraCssText:e}:t||{},n=r.color,i=r.type;e=r.extraCssText;var a=r.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Nn(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Nn(n)+";"+(e||"")+'"></span>';var o=r.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Jc(t,e){return e=e||"transparent",je(t)?t:it(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function I3(t,e){if(e==="_blank"||e==="blank"){var r=window.open();r.opener=null,r.location.href=t}else window.open(t,e)}var pd=F,iL=["left","right","top","bottom","width","height"],Mh=[["width","left","right"],["height","top","bottom"]];function f2(t,e,r,n,i){var a=0,o=0;n==null&&(n=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(u,l){var c=u.getBoundingRect(),f=e.childAt(l+1),h=f&&f.getBoundingRect(),d,v;if(t==="horizontal"){var g=c.width+(h?-h.x+c.x:0);d=a+g,d>n||u.newline?(a=0,d=g,o+=s+r,s=c.height):s=Math.max(s,c.height)}else{var m=c.height+(h?-h.y+c.y:0);v=o+m,v>i||u.newline?(a+=s+r,o=0,v=m,s=c.width):s=Math.max(s,c.width)}u.newline||(u.x=a,u.y=o,u.markRedraw(),t==="horizontal"?a=d+r:o=v+r)})}var Pc=f2;Cr(f2,"vertical");Cr(f2,"horizontal");function Xu(t,e,r){r=sp(r||0);var n=e.width,i=e.height,a=ar(t.left,n),o=ar(t.top,i),s=ar(t.right,n),u=ar(t.bottom,i),l=ar(t.width,n),c=ar(t.height,i),f=r[2]+r[0],h=r[1]+r[3],d=t.aspect;switch(isNaN(l)&&(l=n-s-h-a),isNaN(c)&&(c=i-u-f-o),d!=null&&(isNaN(l)&&isNaN(c)&&(d>n/i?l=n*.8:c=i*.8),isNaN(l)&&(l=d*c),isNaN(c)&&(c=l/d)),isNaN(a)&&(a=n-s-l-h),isNaN(o)&&(o=i-u-c-f),t.left||t.right){case"center":a=n/2-l/2-r[3];break;case"right":a=n-l-h;break}switch(t.top||t.bottom){case"middle":case"center":o=i/2-c/2-r[0];break;case"bottom":o=i-c-f;break}a=a||0,o=o||0,isNaN(l)&&(l=n-h-a-(s||0)),isNaN(c)&&(c=i-f-o-(u||0));var v=new Nt(a+r[3],o+r[0],l,c);return v.margin=r,v}function Qc(t){var e=t.layoutMode||t.constructor.layoutMode;return it(e)?e:e?{type:e}:null}function Ju(t,e,r){var n=r&&r.ignoreSize;!Fe(n)&&(n=[n,n]);var i=o(Mh[0],0),a=o(Mh[1],1);l(Mh[0],t,i),l(Mh[1],t,a);function o(c,f){var h={},d=0,v={},g=0,m=2;if(pd(c,function(w){v[w]=t[w]}),pd(c,function(w){s(e,w)&&(h[w]=v[w]=e[w]),u(h,w)&&d++,u(v,w)&&g++}),n[f])return u(e,c[1])?v[c[2]]=null:u(e,c[2])&&(v[c[1]]=null),v;if(g===m||!d)return v;if(d>=m)return h;for(var y=0;y<c.length;y++){var b=c[y];if(!s(h,b)&&s(t,b)){h[b]=t[b];break}}return h}function s(c,f){return c.hasOwnProperty(f)}function u(c,f){return c[f]!=null&&c[f]!=="auto"}function l(c,f,h){pd(c,function(d){f[d]=h[d]})}}function up(t){return aL({},t)}function aL(t,e){return e&&t&&pd(iL,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var oL=cr(),Wt=function(t){ze(e,t);function e(r,n,i){var a=t.call(this,r,n,i)||this;return a.uid=tp("ec_cpt_model"),a}return e.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=Qc(this),a=i?up(r):{},o=n.getTheme();qt(r,o.get(this.mainType)),qt(r,this.getDefaultOption()),i&&Ju(r,a,i)},e.prototype.mergeOption=function(r,n){qt(this.option,r,!0);var i=Qc(this);i&&Ju(this.option,r,i)},e.prototype.optionUpdated=function(r,n){},e.prototype.getDefaultOption=function(){var r=this.constructor;if(!NI(r))return r.defaultOption;var n=oL(this);if(!n.defaultOption){for(var i=[],a=r;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},u=i.length-1;u>=0;u--)s=qt(s,i[u],!0);n.defaultOption=s}return n.defaultOption},e.prototype.getReferringComponents=function(r,n){var i=r+"Index",a=r+"Id";return Af(this.ecModel,r,{index:this.get(i,!0),id:this.get(a,!0)},n)},e.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(r){this.option.zlevel=r},e.protoInitialize=function(){var r=e.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),e}(Sr);ax(Wt,Sr);Vv(Wt);$P(Wt);VP(Wt,sL);function sL(t){var e=[];return F(Wt.getClassesByMainType(t),function(r){e=e.concat(r.dependencies||r.prototype.dependencies||[])}),e=Xe(e,function(r){return ca(r).main}),t!=="dataset"&&Ut(e,"dataset")<=0&&e.unshift("dataset"),e}var E3=cr();cr();var h2=function(){function t(){}return t.prototype.getColorFromPalette=function(e,r,n){var i=Ir(this.get("color",!0)),a=this.get("colorLayer",!0);return lL(this,E3,i,a,e,r,n)},t.prototype.clearColorPalette=function(){cL(this,E3)},t}();function uL(t,e){for(var r=t.length,n=0;n<r;n++)if(t[n].length>e)return t[n];return t[r-1]}function lL(t,e,r,n,i,a,o){a=a||t;var s=e(a),u=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(i))return l[i];var c=o==null||!n?r:uL(n,o);if(c=c||r,!(!c||!c.length)){var f=c[u];return i&&(l[i]=f),s.paletteIdx=(u+1)%c.length,f}}function cL(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var fL=/\{@(.+?)\}/g,hL=function(){function t(){}return t.prototype.getDataParams=function(e,r){var n=this.getData(r),i=this.getRawValue(e,r),a=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),u=n.getItemVisual(e,"style"),l=u&&u[n.getItemVisual(e,"drawType")||"fill"],c=u&&u.stroke,f=this.mainType,h=f==="series",d=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:a,data:s,dataType:r,value:i,color:l,borderColor:c,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,r,n,i,a,o){r=r||"normal";var s=this.getData(n),u=this.getDataParams(e,n);if(o&&(u.value=o.interpolatedValue),i!=null&&Fe(u.value)&&(u.value=u.value[i]),!a){var l=s.getItemModel(e);a=l.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(wt(a))return u.status=r,u.dimensionIndex=i,a(u);if(je(a)){var c=nT(a,u);return c.replace(fL,function(f,h){var d=h.length,v=h;v.charAt(0)==="["&&v.charAt(d-1)==="]"&&(v=+v.slice(1,d-1));var g=Zu(s,e,v);if(o&&Fe(o.interpolatedValue)){var m=s.getDimensionIndex(v);m>=0&&(g=o.interpolatedValue[m])}return g!=null?g+"":""})}},t.prototype.getRawValue=function(e,r){return Zu(this.getData(r),e)},t.prototype.formatTooltip=function(e,r,n){},t}();function k3(t){var e,r;return it(t)?t.type&&(r=t):e=t,{text:e,frag:r}}function Lc(t){return new dL(t)}var dL=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var r=this._upstream,n=e&&e.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,u=c(e&&e.modBy),l=e&&e.modDataCount||0;(o!==u||s!==l)&&(a="reset");function c(b){return!(b>=1)&&(b=1),b}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=u,this._modDataCount=l;var h=e&&e.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,v=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!n&&(f||d<v)){var g=this._progress;if(Fe(g))for(var m=0;m<g.length;m++)this._doProgress(g[m],d,v,u,l);else this._doProgress(g,d,v,u,l)}this._dueIndex=v;var y=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,r,n,i,a){O3.reset(r,n,i,a),this._callingProgress=e,this._callingProgress({start:r,end:n,count:n-r,next:O3.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!e&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),Fe(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),O3=function(){var t,e,r,n,i,a={reset:function(u,l,c,f){e=u,t=l,r=c,n=f,i=Math.ceil(n/r),a.next=r>1&&n>0?s:o}};return a;function o(){return e<t?e++:null}function s(){var u=e%i*r+Math.ceil(e/i),l=e>=t?null:u<n?u:e;return e++,l}}(),vL=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,r){},t.prototype.retrieveValueFromItem=function(e,r){},t.prototype.convertValue=function(e,r){return dd(e,r)},t}();function pL(t,e){var r=new vL,n=t.data,i=r.sourceFormat=t.sourceFormat,a=t.startIndex,o="";t.seriesLayoutBy!==ga&&Et(o);var s=[],u={},l=t.dimensionsDefine;if(l)F(l,function(g,m){var y=g.name,b={index:m,name:y,displayName:g.displayName};if(s.push(b),y!=null){var w="";ya(u,y)&&Et(w),u[y]=b}});else for(var c=0;c<t.dimensionsDetectedCount;c++)s.push({index:c});var f=DS(i,ga);e.__isBuiltIn&&(r.getRawDataItem=function(g){return f(n,a,s,g)},r.getRawData=ur(gL,null,t)),r.cloneRawData=ur(mL,null,t);var h=CS(i,ga);r.count=ur(h,null,n,a,s);var d=AS(i);r.retrieveValue=function(g,m){var y=f(n,a,s,g);return v(y,m)};var v=r.retrieveValueFromItem=function(g,m){if(g!=null){var y=s[m];if(y)return d(g,m,y.name)}};return r.getDimensionInfo=ur(yL,null,s,u),r.cloneAllDimensionInfo=ur(_L,null,s),r}function gL(t){var e=t.sourceFormat;if(!d2(e)){var r="";Et(r)}return t.data}function mL(t){var e=t.sourceFormat,r=t.data;if(!d2(e)){var n="";Et(n)}if(e===Cn){for(var i=[],a=0,o=r.length;a<o;a++)i.push(r[a].slice());return i}else if(e===Si){for(var i=[],a=0,o=r.length;a<o;a++)i.push(_e({},r[a]));return i}}function yL(t,e,r){if(r!=null){if(Jt(r)||!isNaN(r)&&!ya(e,r))return t[r];if(ya(e,r))return e[r]}}function _L(t){return kt(t)}var iT=vt();function bL(t){t=kt(t);var e=t.type,r="";e||Et(r);var n=e.split(":");n.length!==2&&Et(r);var i=!1;n[0]==="echarts"&&(e=n[1],i=!0),t.__isBuiltIn=i,iT.set(e,t)}function wL(t,e,r){var n=Ir(t),i=n.length,a="";i||Et(a);for(var o=0,s=i;o<s;o++){var u=n[o];e=xL(u,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function xL(t,e,r,n){var i="";e.length||Et(i),it(t)||Et(i);var a=t.type,o=iT.get(a);o||Et(i);var s=Xe(e,function(l){return pL(l,o)}),u=Ir(o.transform({upstream:s[0],upstreamList:s,config:kt(t.config)}));return Xe(u,function(l,c){var f="";it(l)||Et(f),l.data||Et(f);var h=SS(l.data);d2(h)||Et(f);var d,v=e[0];if(v&&c===0&&!l.dimensions){var g=v.startIndex;g&&(l.data=v.data.slice(0,g).concat(l.data)),d={seriesLayoutBy:ga,sourceHeader:g,dimensions:v.metaRawOption.dimensions}}else d={seriesLayoutBy:ga,sourceHeader:0,dimensions:l.dimensions};return nm(l.data,d,null)})}function d2(t){return t===Cn||t===Si}var aT=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,r){this._sourceList=e,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,a;if(Dh(e)){var o=e,s=void 0,u=void 0,l=void 0;if(n){var c=r[0];c.prepareSource(),l=c.getSource(),s=l.data,u=l.sourceFormat,a=[c._getVersionSign()]}else s=o.get("data",!0),u=Vn(s)?Do:xi,a=[];var f=this._getSourceMetaRawOption()||{},h=l&&l.metaRawOption||{},d=bt(f.seriesLayoutBy,h.seriesLayoutBy)||null,v=bt(f.sourceHeader,h.sourceHeader),g=bt(f.dimensions,h.dimensions),m=d!==h.seriesLayoutBy||!!v!=!!h.sourceHeader||g;i=m?[nm(s,{seriesLayoutBy:d,sourceHeader:v,dimensions:g},u)]:[]}else{var y=e;if(n){var b=this._applyTransform(r);i=b.sourceList,a=b.upstreamSignList}else{var w=y.get("source",!0);i=[nm(w,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},t.prototype._applyTransform=function(e){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&L3(a)}var o,s=[],u=[];return F(e,function(l){l.prepareSource();var c=l.getSource(i||0),f="";i!=null&&!c&&L3(f),s.push(c),u.push(l._getVersionSign())}),n?o=wL(n,s,{datasetIndex:r.componentIndex}):i!=null&&(o=[nP(s[0])]),{sourceList:o,upstreamSignList:u}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),r=0;r<e.length;r++){var n=e[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var r=this._sourceList[e];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return r},t.prototype.getSharedDataStore=function(e){var r=e.makeStoreSchema();return this._innerGetDataStore(r.dimensions,e.source,r.hash)},t.prototype._innerGetDataStore=function(e,r,n){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[n];if(!s){var u=this._getUpstreamSourceManagers()[0];Dh(this._sourceHost)&&u?s=u._innerGetDataStore(e,r,n):(s=new im,s.initData(new MS(r,e.length),e)),o[n]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Dh(e)){var r=r2(e);return r?[r.getSourceManager()]:[]}else return Xe(rP(e),function(n){return n.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,r,n,i;if(Dh(e))r=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;r=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},t}();function P3(t){var e=t.option.transform;e&&Bd(t.option.transform)}function Dh(t){return t.mainType==="series"}function L3(t){throw new Error(t)}var SL="line-height:1";function oT(t){var e=t.lineHeight;return e==null?SL:"line-height:"+Nn(e+"")+"px"}function sT(t,e){var r=t.color||"#6e7079",n=t.fontSize||12,i=t.fontWeight||"400",a=t.color||"#464646",o=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Nn(n+"")+"px;color:"+Nn(r)+";font-weight:"+Nn(i+""),valueStyle:"font-size:"+Nn(o+"")+"px;color:"+Nn(a)+";font-weight:"+Nn(s+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var TL=[0,10,20,30],ML=["",`
`,`

`,`


`];function ef(t,e){return e.type=t,e}function um(t){return t.type==="section"}function uT(t){return um(t)?DL:CL}function lT(t){if(um(t)){var e=0,r=t.blocks.length,n=r>1||r>0&&!t.noHeader;return F(t.blocks,function(i){var a=lT(i);a>=e&&(e=a+ +(n&&(!a||um(i)&&!i.noHeader)))}),e}return 0}function DL(t,e,r,n){var i=e.noHeader,a=AL(lT(e)),o=[],s=e.blocks||[];Ga(!s||Fe(s)),s=s||[];var u=t.orderMode;if(e.sortBlocks&&u){s=s.slice();var l={valueAsc:"asc",valueDesc:"desc"};if(ya(l,u)){var c=new kS(l[u],null);s.sort(function(g,m){return c.evaluate(g.sortParam,m.sortParam)})}else u==="seriesDesc"&&s.reverse()}F(s,function(g,m){var y=e.valueFormatter,b=uT(g)(y?_e(_e({},t),{valueFormatter:y}):t,g,m>0?a.html:0,n);b!=null&&o.push(b)});var f=t.renderMode==="richText"?o.join(a.richText):lm(n,o.join(""),i?r:a.html);if(i)return f;var h=sm(e.header,"ordinal",t.useUTC),d=sT(n,t.renderMode).nameStyle,v=oT(n);return t.renderMode==="richText"?cT(t,h,d)+a.richText+f:lm(n,'<div style="'+d+";"+v+';">'+Nn(h)+"</div>"+f,r)}function CL(t,e,r,n){var i=t.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,u=e.name,l=t.useUTC,c=e.valueFormatter||t.valueFormatter||function(S){return S=Fe(S)?S:[S],Xe(S,function(D,M){return sm(D,Fe(d)?d[M]:d,l)})};if(!(a&&o)){var f=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),h=a?"":sm(u,"ordinal",l),d=e.valueType,v=o?[]:c(e.value,e.dataIndex),g=!s||!a,m=!s&&a,y=sT(n,i),b=y.nameStyle,w=y.valueStyle;return i==="richText"?(s?"":f)+(a?"":cT(t,h,b))+(o?"":kL(t,v,g,m,w)):lm(n,(s?"":f)+(a?"":IL(h,!s,b))+(o?"":EL(v,g,m,w)),r)}}function R3(t,e,r,n,i,a){if(t){var o=uT(t),s={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,a)}}function AL(t){return{html:TL[t],richText:ML[t]}}function lm(t,e,r){var n='<div style="clear:both"></div>',i="margin: "+r+"px 0 0",a=oT(t);return'<div style="'+i+";"+a+';">'+e+n+"</div>"}function IL(t,e,r){var n=e?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+Nn(t)+"</span>"}function EL(t,e,r,n){var i=r?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return t=Fe(t)?t:[t],'<span style="'+a+";"+n+'">'+Xe(t,function(o){return Nn(o)}).join("&nbsp;&nbsp;")+"</span>"}function cT(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function kL(t,e,r,n,i){var a=[i],o=n?10:20;return r&&a.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(Fe(e)?e.join("  "):e,a)}function OL(t,e){var r=t.getData().getItemVisual(e,"style"),n=r[t.visualDrawType];return Jc(n)}function fT(t,e){var r=t.get("padding");return r??(e==="richText"?[8,10]:10)}var g0=function(){function t(){this.richTextStyles={},this._nextStyleNameId=Lx()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,r,n){var i=n==="richText"?this._generateStyleName():null,a=nL({color:r,type:e,renderMode:n,markerId:i});return je(a)?a:(this.richTextStyles[i]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(e,r){var n={};Fe(r)?F(r,function(a){return _e(n,a)}):_e(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},t}();function PL(t){var e=t.series,r=t.dataIndex,n=t.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(r),u=Fe(s),l=OL(e,r),c,f,h,d;if(o>1||u&&!o){var v=LL(s,e,r,a,l);c=v.inlineValues,f=v.inlineValueTypes,h=v.blocks,d=v.inlineValues[0]}else if(o){var g=i.getDimensionInfo(a[0]);d=c=Zu(i,r,a[0]),f=g.type}else d=c=u?s[0]:s;var m=By(e),y=m&&e.name||"",b=i.getName(r),w=n?y:b;return ef("section",{header:y,noHeader:n||!m,sortParam:d,blocks:[ef("nameValue",{markerType:"item",markerColor:l,name:w,noName:!la(w),value:c,valueType:f,dataIndex:r})].concat(h||[])})}function LL(t,e,r,n,i){var a=e.getData(),o=Oo(t,function(f,h,d){var v=a.getDimensionInfo(d);return f=f||v&&v.tooltip!==!1&&v.displayName!=null},!1),s=[],u=[],l=[];n.length?F(n,function(f){c(Zu(a,r,f),f)}):F(t,c);function c(f,h){var d=a.getDimensionInfo(h);!d||d.otherDims.tooltip===!1||(o?l.push(ef("nameValue",{markerType:"subItem",markerColor:i,name:d.displayName,value:f,valueType:d.type})):(s.push(f),u.push(d.type)))}return{inlineValues:s,inlineValueTypes:u,blocks:l}}var lo=cr();function Ch(t,e){return t.getName(e)||t.getId(e)}var gd="__universalTransitionEnabled",wa=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return e.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Lc({count:NL,reset:FL}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var a=lo(this).sourceManager=new aT(this);a.prepareSource();var o=this.getInitialData(r,i);F3(o,this),this.dataTask.context.data=o,lo(this).dataBeforeProcessed=o,N3(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=Qc(this),a=i?up(r):{},o=this.subType;Wt.hasClass(o)&&(o+="Series"),qt(r,n.getTheme().get(this.subType)),qt(r,this.getDefaultOption()),Ug(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&Ju(r,a,i)},e.prototype.mergeOption=function(r,n){r=qt(this.option,r,!0),this.fillDataTextStyle(r.data);var i=Qc(this);i&&Ju(this.option,r,i);var a=lo(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(r,n);F3(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,lo(this).dataBeforeProcessed=o,N3(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(r){if(r&&!Vn(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&Ug(r[i],"label",n)},e.prototype.getInitialData=function(r,n){},e.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},e.prototype.getData=function(r){var n=cm(this);if(n){var i=n.context.data;return r==null||!i.getLinkedData?i:i.getLinkedData(r)}else return lo(this).data},e.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},e.prototype.setData=function(r){var n=cm(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}lo(this).data=r},e.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return vt(r)},e.prototype.getSourceManager=function(){return lo(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return lo(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},e.prototype.formatTooltip=function(r,n,i){return PL({series:this,dataIndex:r,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(ht.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(r,n,i){var a=this.ecModel,o=h2.prototype.getColorFromPalette.call(this,r,n,i);return o||(o=a.getColorFromPalette(r,n,i)),o},e.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},e.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<r.length;s++){var u=r[s],l=Ch(o,u);i[l]=!1,this._selectedDataIndicesMap[l]=-1}}},e.prototype.toggleSelect=function(r,n){for(var i=[],a=0;a<r.length;a++)i[0]=r[a],this.isSelected(r[a],n)?this.unselect(i,n):this.select(i,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=or(r),i=[],a=0;a<n.length;a++){var o=r[n[a]];o>=0&&i.push(o)}return i},e.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[Ch(a,r)])&&!a.getItemModel(r).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[gd])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},e.prototype._innerSelect=function(r,n){var i,a,o=this.option,s=o.selectedMode,u=n.length;if(!(!s||!u)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){it(o.selectedMap)||(o.selectedMap={});for(var l=o.selectedMap,c=0;c<u;c++){var f=n[c],h=Ch(r,f);l[h]=!0,this._selectedDataIndicesMap[h]=r.getRawIndex(f)}}else if(s==="single"||s===!0){var d=n[u-1],h=Ch(r,d);o.selectedMap=(i={},i[h]=!0,i),this._selectedDataIndicesMap=(a={},a[h]=r.getRawIndex(d),a)}}},e.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var a=r.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},e.registerClass=function(r){return Wt.registerClass(r)},e.protoInitialize=function(){var r=e.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),e}(Wt);Ta(wa,hL);Ta(wa,h2);ax(wa,Wt);function N3(t){var e=t.name;By(t)||(t.name=RL(t)||e)}function RL(t){var e=t.getRawData(),r=e.mapDimensionsAll("seriesName"),n=[];return F(r,function(i){var a=e.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function NL(t){return t.model.getRawData().count()}function FL(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),zL}function zL(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function F3(t,e){F(II(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,Cr(BL,e))})}function BL(t,e){var r=cm(t);return r&&r.setOutputEnd((e||this).count()),e}function cm(t){var e=(t.ecModel||{}).scheduler,r=e&&e.getPipeline(t.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(t.uid))}return n}}var $L=Ot.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n+a),t.lineTo(r-i,n+a),t.closePath()}}),VL=Ot.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n),t.lineTo(r,n+a),t.lineTo(r-i,n),t.closePath()}}),HL=Ot.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x,n=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),u=n-a+o+s,l=Math.asin(s/o),c=Math.cos(l)*o,f=Math.sin(l),h=Math.cos(l),d=o*.6,v=o*.7;t.moveTo(r-c,u+s),t.arc(r,u,o,Math.PI-l,Math.PI*2+l),t.bezierCurveTo(r+c-f*d,u+s+h*d,r,n-v,r,n),t.bezierCurveTo(r,n-v,r-c+f*d,u+s+h*d,r-c,u+s),t.closePath()}}),GL=Ot.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height,n=e.width,i=e.x,a=e.y,o=n/3*2;t.moveTo(i,a),t.lineTo(i+o,a+r),t.lineTo(i,a+r/4*3),t.lineTo(i-o,a+r),t.lineTo(i,a),t.closePath()}}),WL={line:Fo,rect:Ar,roundRect:Ar,square:Ar,circle:Yv,diamond:VL,pin:HL,arrow:GL,triangle:$L},UL={line:function(t,e,r,n,i){i.x1=t,i.y1=e+n/2,i.x2=t+r,i.y2=e+n/2},rect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n},roundRect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(t,e,r,n,i){var a=Math.min(r,n);i.x=t,i.y=e,i.width=a,i.height=a},circle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.r=Math.min(r,n)/2},diamond:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n},pin:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},arrow:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},triangle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n}},fm={};F(WL,function(t,e){fm[e]=new t});var qL=Ot.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var n=$d(t,e,r),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(t,e,r){var n=e.symbolType;if(n!=="none"){var i=fm[n];i||(n="rect",i=fm[n]),UL[n](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,r)}}});function YL(t,e){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=t,r.fill=e||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=t:r.fill=t,this.markRedraw()}}function v2(t,e,r,n,i,a,o){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var u;return t.indexOf("image://")===0?u=uS(t.slice(8),new Nt(e,r,n,i),o?"center":"cover"):t.indexOf("path://")===0?u=Xy(t.slice(7),{},new Nt(e,r,n,i),o?"center":"cover"):u=new qL({shape:{symbolType:t,x:e,y:r,width:n,height:i}}),u.__isEmptyBrush=s,u.setColor=YL,a&&u.setColor(a),u}function jL(t,e){if(t!=null)return Fe(t)||(t=[t,t]),[ar(t[0],e[0])||0,ar(bt(t[1],t[0]),e[1])||0]}function KL(t,e){var r=t.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=Zu(t,e,r[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<r.length;o++)a.push(Zu(t,e,r[o]));return a.join(" ")}}function ZL(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!Fe(e))return e+"";for(var n=[],i=0;i<r.length;i++){var a=t.getDimensionIndex(r[i]);a>=0&&n.push(e[a])}return n.join(" ")}var hT=typeof Float32Array<"u",XL=hT?Float32Array:Array;function m0(t){return Fe(t)?hT?new Float32Array(t):t:new XL(t)}function dT(){var t=cr();return function(e){var r=t(e),n=e.pipelineContext,i=!!r.large,a=!!r.progressiveRender,o=r.large=!!(n&&n.large),s=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==o||a!==s)&&"reset"}}var vT=cr(),JL=dT(),Ha=function(){function t(){this.group=new Qn,this.uid=tp("viewChart"),this.renderTask=Lc({plan:QL,reset:eR}),this.renderTask.context={view:this}}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.highlight=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&B3(a,i,"emphasis")},t.prototype.downplay=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&B3(a,i,"normal")},t.prototype.remove=function(e,r){this.group.removeAll()},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateLayout=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateVisual=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.eachRendered=function(e){e2(this.group,e)},t.markUpdateMethod=function(e,r){vT(e).updateMethod=r},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function z3(t,e,r){t&&Xg(t)&&(e==="emphasis"?qg:Yg)(t,r)}function B3(t,e,r){var n=Cf(t,e),i=e&&e.highlightKey!=null?Zk(e.highlightKey):null;n!=null?F(Ir(n),function(a){z3(t.getItemGraphicEl(a),r,i)}):t.eachItemGraphicEl(function(a){z3(a,r,i)})}ky(Ha);Vv(Ha);function QL(t){return JL(t.model)}function eR(t){var e=t.model,r=t.ecModel,n=t.api,i=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=i&&vT(i).updateMethod,u=a?"incrementalPrepareRender":s&&o[s]?s:"render";return u!=="render"&&o[u](e,r,n,i),tR[u]}var tR={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};function rR(t,e,r,n,i){var a=t.getArea(),o=a.x,s=a.y,u=a.width,l=a.height,c=r.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,u+=c,l+=c,u=Math.ceil(u),o!==Math.floor(o)&&(o=Math.floor(o),u++);var f=new Ar({shape:{x:o,y:s,width:u,height:l}});return f}function nR(t,e,r){var n=t.getArea(),i=Lr(n.r0,1),a=Lr(n.r,1),o=new ba({shape:{cx:Lr(t.cx,1),cy:Lr(t.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});return o}function iR(t,e,r,n,i){if(t){if(t.type==="polar")return nR(t);if(t.type==="cartesian2d")return rR(t,e,r)}else return null;return null}function pT(t,e){return t.type===e}var aR={average:function(t){for(var e=0,r=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],r++);return r===0?NaN:e/r},sum:function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r]||0;return e},max:function(t){for(var e=-1/0,r=0;r<t.length;r++)t[r]>e&&(e=t[r]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,r=0;r<t.length;r++)t[r]<e&&(e=t[r]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},oR=function(t){return Math.round(t.length/2)};function sR(t){return{seriesType:t,reset:function(e,r,n){var i=e.getData(),a=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var u=o.getBaseAxis(),l=o.getOtherAxis(u),c=u.getExtent(),f=n.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(f||1),d=Math.round(s/h);if(isFinite(d)&&d>1){a==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(l.dim),1/d)):a==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(l.dim),1/d));var v=void 0;je(a)?v=aR[a]:wt(a)&&(v=a),v&&e.setData(i.downSample(i.mapDimension(l.dim),1/d,v,oR))}}}}}var uR="__ec_stack_";function gT(t){return t.get("stack")||uR+t.seriesIndex}function p2(t){return t.dim+t.index}function mT(t,e){var r=[];return e.eachSeriesByType(t,function(n){_T(n)&&r.push(n)}),r}function lR(t){var e={};F(t,function(u){var l=u.coordinateSystem,c=l.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=u.getData(),h=c.dim+"_"+c.index,d=f.getDimensionIndex(f.mapDimension(c.dim)),v=f.getStore(),g=0,m=v.count();g<m;++g){var y=v.get(d,g);e[h]?e[h].push(y):e[h]=[y]}});var r={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i){i.sort(function(u,l){return u-l});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}r[n]=a}}return r}function yT(t){var e=lR(t),r=[];return F(t,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var u=a.dim+"_"+a.index,l=e[u],c=Math.abs(o[1]-o[0]),f=a.scale.getExtent(),h=Math.abs(f[1]-f[0]);s=l?c/h*l:c}else{var d=n.getData();s=Math.abs(o[1]-o[0])/d.count()}var v=ar(n.get("barWidth"),s),g=ar(n.get("barMaxWidth"),s),m=ar(n.get("barMinWidth")||(bT(n)?.5:1),s),y=n.get("barGap"),b=n.get("barCategoryGap");r.push({bandWidth:s,barWidth:v,barMaxWidth:g,barMinWidth:m,barGap:y,barCategoryGap:b,axisKey:p2(a),stackId:gT(n)})}),cR(r)}function cR(t){var e={};F(t,function(n,i){var a=n.axisKey,o=n.bandWidth,s=e[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=s.stacks;e[a]=s;var l=n.stackId;u[l]||s.autoWidthCount++,u[l]=u[l]||{width:0,maxWidth:0};var c=n.barWidth;c&&!u[l].width&&(u[l].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=n.barMaxWidth;f&&(u[l].maxWidth=f);var h=n.barMinWidth;h&&(u[l].minWidth=h);var d=n.barGap;d!=null&&(s.gap=d);var v=n.barCategoryGap;v!=null&&(s.categoryGap=v)});var r={};return F(e,function(n,i){r[i]={};var a=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var u=or(a).length;s=Math.max(35-u*4,15)+"%"}var l=ar(s,o),c=ar(n.gap,1),f=n.remainedWidth,h=n.autoWidthCount,d=(f-l)/(h+(h-1)*c);d=Math.max(d,0),F(a,function(y){var b=y.maxWidth,w=y.minWidth;if(y.width){var S=y.width;b&&(S=Math.min(S,b)),w&&(S=Math.max(S,w)),y.width=S,f-=S+c*S,h--}else{var S=d;b&&b<S&&(S=Math.min(b,f)),w&&w>S&&(S=w),S!==d&&(y.width=S,f-=S+c*S,h--)}}),d=(f-l)/(h+(h-1)*c),d=Math.max(d,0);var v=0,g;F(a,function(y,b){y.width||(y.width=d),g=y,v+=y.width*(1+c)}),g&&(v-=g.width*c);var m=-v/2;F(a,function(y,b){r[i][b]=r[i][b]||{bandWidth:o,offset:m,width:y.width},m+=y.width*(1+c)})}),r}function fR(t,e,r){if(t&&e){var n=t[p2(e)];return n}}function hR(t,e){var r=mT(t,e),n=yT(r);F(r,function(i){var a=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),u=gT(i),l=n[p2(s)][u],c=l.offset,f=l.width;a.setLayout({bandWidth:l.bandWidth,offset:c,size:f})})}function dR(t){return{seriesType:t,plan:dT(),reset:function(e){if(_T(e)){var r=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),o=r.getDimensionIndex(r.mapDimension(a.dim)),s=r.getDimensionIndex(r.mapDimension(i.dim)),u=e.get("showBackground",!0),l=r.mapDimension(a.dim),c=r.getCalculationInfo("stackResultDimension"),f=VS(r,l)&&!!r.getCalculationInfo("stackedOnSeries"),h=a.isHorizontal(),d=vR(i,a),v=bT(e),g=e.get("barMinHeight")||0,m=c&&r.getDimensionIndex(c),y=r.getLayout("size"),b=r.getLayout("offset");return{progress:function(w,S){for(var D=w.count,M=v&&m0(D*3),A=v&&u&&m0(D*3),k=v&&m0(D),O=n.master.getRect(),P=h?O.width:O.height,R,H=S.getStore(),z=0;(R=w.next())!=null;){var W=H.get(f?m:o,R),ee=H.get(s,R),ne=d,he=void 0;f&&(he=+W-H.get(o,R));var X=void 0,te=void 0,oe=void 0,Q=void 0;if(h){var ue=n.dataToPoint([W,ee]);if(f){var pe=n.dataToPoint([he,ee]);ne=pe[0]}X=ne,te=ue[1]+b,oe=ue[0]-ne,Q=y,Math.abs(oe)<g&&(oe=(oe<0?-1:1)*g)}else{var ue=n.dataToPoint([ee,W]);if(f){var pe=n.dataToPoint([ee,he]);ne=pe[1]}X=ue[0]+b,te=ne,oe=y,Q=ue[1]-ne,Math.abs(Q)<g&&(Q=(Q<=0?-1:1)*g)}v?(M[z]=X,M[z+1]=te,M[z+2]=h?oe:Q,A&&(A[z]=h?O.x:X,A[z+1]=h?te:O.y,A[z+2]=P),k[R]=R):S.setItemLayout(R,{x:X,y:te,width:oe,height:Q}),z+=3}v&&S.setLayout({largePoints:M,largeDataIndices:k,largeBackgroundPoints:A,valueAxisHorizontal:h})}}}}}}function _T(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function bT(t){return t.pipelineContext&&t.pipelineContext.large}function vR(t,e){var r=e.model.get("startValue");return r||(r=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?r>0?r:1:r))}var hm=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(r,n){return HS(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(r,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(r),s=a.dataToPoint(o);if(i)F(a.getAxes(),function(h,d){if(h.type==="category"&&n!=null){var v=h.getTicksCoords(),g=h.getTickModel().get("alignWithLabel"),m=o[d],y=n[d]==="x1"||n[d]==="y1";if(y&&!g&&(m+=1),v.length<2)return;if(v.length===2){s[d]=h.toGlobalCoord(h.getExtent()[y?1:0]);return}for(var b=void 0,w=void 0,S=1,D=0;D<v.length;D++){var M=v[D].coord,A=D===v.length-1?v[D-1].tickValue+S:v[D].tickValue;if(A===m){w=M;break}else if(A<m)b=M;else if(b!=null&&A>m){w=(M+b)/2;break}D===1&&(S=A-v[0].tickValue)}w==null&&(b?b&&(w=v[v.length-1].coord):w=v[0].coord),s[d]=h.toGlobalCoord(w)}});else{var u=this.getData(),l=u.getLayout("offset"),c=u.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;s[f]+=l+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(wa);wa.registerClass(hm);var pR=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(){return HS(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},e.prototype.brushSelector=function(r,n,i){return i.rect(n.getItemLayout(r))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=GS(hm.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(hm),Jd="\0__throttleOriginMethod",$3="\0__throttleRate",V3="\0__throttleType";function g2(t,e,r){var n,i=0,a=0,o=null,s,u,l,c;e=e||0;function f(){a=new Date().getTime(),o=null,t.apply(u,l||[])}var h=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];n=new Date().getTime(),u=this,l=d;var g=c||e,m=c||r;c=null,s=n-(m?i:a)-g,clearTimeout(o),m?o=setTimeout(f,g):s>=0?f():o=setTimeout(f,-s),i=n};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.debounceNextCall=function(d){c=d},h}function wT(t,e,r,n){var i=t[e];if(i){var a=i[Jd]||i,o=i[V3],s=i[$3];if(s!==r||o!==n){if(r==null)return t[e]=a;i=t[e]=g2(a,r,n==="debounce"),i[Jd]=a,i[V3]=n,i[$3]=r}return i}}function dm(t,e){var r=t[e];r&&r[Jd]&&(r.clear&&r.clear(),t[e]=r[Jd])}var gR=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),H3=function(t){ze(e,t);function e(r){var n=t.call(this,r)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new gR},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),u=(s-o)*.5,l=o+u,c=n.startAngle,f=n.endAngle,h=n.clockwise,d=Math.PI*2,v=h?f-c<d:c-f<d;v||(c=f-(h?d:-d));var g=Math.cos(c),m=Math.sin(c),y=Math.cos(f),b=Math.sin(f);v?(r.moveTo(g*o+i,m*o+a),r.arc(g*l+i,m*l+a,u,-Math.PI+c,c,!h)):r.moveTo(g*s+i,m*s+a),r.arc(i,a,s,c,f,!h),r.arc(y*l+i,b*l+a,u,f-Math.PI*2,f-Math.PI,!h),o!==0&&r.arc(i,a,o,f,c,h)},e}(Ot);function mR(t,e){e=e||{};var r=e.isRoundCap;return function(n,i,a){var o=i.position;if(!o||o instanceof Array)return $d(n,i,a);var s=t(o),u=i.distance!=null?i.distance:5,l=this.shape,c=l.cx,f=l.cy,h=l.r,d=l.r0,v=(h+d)/2,g=l.startAngle,m=l.endAngle,y=(g+m)/2,b=r?Math.abs(h-d)/2:0,w=Math.cos,S=Math.sin,D=c+h*w(g),M=f+h*S(g),A="left",k="top";switch(s){case"startArc":D=c+(d-u)*w(y),M=f+(d-u)*S(y),A="center",k="top";break;case"insideStartArc":D=c+(d+u)*w(y),M=f+(d+u)*S(y),A="center",k="bottom";break;case"startAngle":D=c+v*w(g)+Ah(g,u+b,!1),M=f+v*S(g)+Ih(g,u+b,!1),A="right",k="middle";break;case"insideStartAngle":D=c+v*w(g)+Ah(g,-u+b,!1),M=f+v*S(g)+Ih(g,-u+b,!1),A="left",k="middle";break;case"middle":D=c+v*w(y),M=f+v*S(y),A="center",k="middle";break;case"endArc":D=c+(h+u)*w(y),M=f+(h+u)*S(y),A="center",k="bottom";break;case"insideEndArc":D=c+(h-u)*w(y),M=f+(h-u)*S(y),A="center",k="top";break;case"endAngle":D=c+v*w(m)+Ah(m,u+b,!0),M=f+v*S(m)+Ih(m,u+b,!0),A="left",k="middle";break;case"insideEndAngle":D=c+v*w(m)+Ah(m,-u+b,!0),M=f+v*S(m)+Ih(m,-u+b,!0),A="right",k="middle";break;default:return $d(n,i,a)}return n=n||{},n.x=D,n.y=M,n.align=A,n.verticalAlign=k,n}}function yR(t,e,r,n){if(Jt(n)){t.setTextConfig({rotation:n});return}else if(Fe(e)){t.setTextConfig({rotation:0});return}var i=t.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,u,l=r(e);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=a;break;case"endAngle":case"insideEndAngle":u=o;break;default:t.setTextConfig({rotation:0});return}var c=Math.PI*1.5-u;l==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),t.setTextConfig({rotation:c})}function Ah(t,e,r){return e*Math.sin(t)*(r?-1:1)}function Ih(t,e,r){return e*Math.cos(t)*(r?1:-1)}function hc(t,e,r){var n=t.get("borderRadius");if(n==null)return r?{cornerRadius:0}:null;Fe(n)||(n=[n,n,n,n]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Xe(n,function(a){return Po(a,i)})}}var y0=Math.max,_0=Math.min;function _R(t,e){var r=t.getArea&&t.getArea();if(pT(t,"cartesian2d")){var n=t.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=e.getLayout("bandWidth");n.isHorizontal()?(r.x-=i,r.width+=i*2):(r.y-=i,r.height+=i*2)}}return r}var bR=function(t){ze(e,t);function e(){var r=t.call(this)||this;return r.type=e.type,r._isFirstFrame=!0,r}return e.prototype.render=function(r,n,i,a){this._model=r,this._removeOnRenderedListener(i),this._updateDrawMode(r);var o=r.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,i):this._renderNormal(r,n,i,a))},e.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},e.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},e.prototype.eachRendered=function(r){e2(this._progressiveEls||this.group,r)},e.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(r,n,i,a){var o=this.group,s=r.getData(),u=this._data,l=r.coordinateSystem,c=l.getBaseAxis(),f;l.type==="cartesian2d"?f=c.isHorizontal():l.type==="polar"&&(f=c.dim==="angle");var h=r.isAnimationEnabled()?r:null,d=wR(r,l);d&&this._enableRealtimeSort(d,s,i);var v=r.get("clip",!0)||d,g=_R(l,s);o.removeClipPath();var m=r.get("roundCap",!0),y=r.get("showBackground",!0),b=r.getModel("backgroundStyle"),w=b.get("borderRadius")||0,S=[],D=this._backgroundEls,M=a&&a.isInitSort,A=a&&a.type==="changeAxisOrder";function k(R){var H=Eh[l.type](s,R),z=AR(l,f,H);return z.useStyle(b.getItemStyle()),l.type==="cartesian2d"?z.setShape("r",w):z.setShape("cornerRadius",w),S[R]=z,z}s.diff(u).add(function(R){var H=s.getItemModel(R),z=Eh[l.type](s,R,H);if(y&&k(R),!(!s.hasValue(R)||!Y3[l.type](z))){var W=!1;v&&(W=G3[l.type](g,z));var ee=W3[l.type](r,s,R,z,f,h,c.model,!1,m);d&&(ee.forceLabelAnimation=!0),j3(ee,s,R,H,z,r,f,l.type==="polar"),M?ee.attr({shape:z}):d?U3(d,h,ee,z,R,f,!1,!1):bi(ee,{shape:z},r,R),s.setItemGraphicEl(R,ee),o.add(ee),ee.ignore=W}}).update(function(R,H){var z=s.getItemModel(R),W=Eh[l.type](s,R,z);if(y){var ee=void 0;D.length===0?ee=k(H):(ee=D[H],ee.useStyle(b.getItemStyle()),l.type==="cartesian2d"?ee.setShape("r",w):ee.setShape("cornerRadius",w),S[R]=ee);var ne=Eh[l.type](s,R),he=ST(f,ne,l);Hn(ee,{shape:he},h,R)}var X=u.getItemGraphicEl(H);if(!s.hasValue(R)||!Y3[l.type](W)){o.remove(X);return}var te=!1;if(v&&(te=G3[l.type](g,W),te&&o.remove(X)),X?sS(X):X=W3[l.type](r,s,R,W,f,h,c.model,!!X,m),d&&(X.forceLabelAnimation=!0),A){var oe=X.getTextContent();if(oe){var Q=Ef(oe);Q.prevValue!=null&&(Q.prevValue=Q.value)}}else j3(X,s,R,z,W,r,f,l.type==="polar");M?X.attr({shape:W}):d?U3(d,h,X,W,R,f,!0,A):Hn(X,{shape:W},r,R,null),s.setItemGraphicEl(R,X),X.ignore=te,o.add(X)}).remove(function(R){var H=u.getItemGraphicEl(R);H&&jd(H,r,R)}).execute();var O=this._backgroundGroup||(this._backgroundGroup=new Qn);O.removeAll();for(var P=0;P<S.length;++P)O.add(S[P]);o.add(O),this._backgroundEls=S,this._data=s},e.prototype._renderLarge=function(r,n,i){this._clear(),Z3(r,this.group),this._updateLargeClip(r)},e.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),Z3(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&iR(r.coordinateSystem,!1,r),i=this.group;n?i.setClipPath(n):i.removeClipPath()},e.prototype._enableRealtimeSort=function(r,n,i){var a=this;if(n.count()){var o=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,i),this._isFirstFrame=!1;else{var s=function(u){var l=n.getItemGraphicEl(u),c=l&&l.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(r,n,i){var a=[];return r.each(r.mapDimension(n.dim),function(o,s){var u=i(s);u=u??NaN,a.push({dataIndex:s,mappedValue:u,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Xe(a,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(r,n,i){for(var a=i.scale,o=r.mapDimension(i.dim),s=Number.MAX_VALUE,u=0,l=a.getOrdinalMeta().categories.length;u<l;++u){var c=r.rawIndexOf(o,a.getRawOrdinalNumber(u)),f=c<0?Number.MIN_VALUE:n(r.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},e.prototype._isOrderDifferentInView=function(r,n){for(var i=n.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(r.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(r,n,i,a){if(this._isOrderChangedWithinSameData(r,n,i)){var o=this._dataSort(r,i,n);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(r,n,i){var a=n.baseAxis,o=this._dataSort(r,a,function(s){return r.get(r.mapDimension(n.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},e.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(r){var n=this.group,i=this._data;r&&r.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){jd(a,r,$t(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Ha),G3={cartesian2d:function(t,e){var r=e.width<0?-1:1,n=e.height<0?-1:1;r<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var i=t.x+t.width,a=t.y+t.height,o=y0(e.x,t.x),s=_0(e.x+e.width,i),u=y0(e.y,t.y),l=_0(e.y+e.height,a),c=s<o,f=l<u;return e.x=c&&o>i?s:o,e.y=f&&u>a?l:u,e.width=c?0:s-o,e.height=f?0:l-u,r<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),c||f},polar:function(t,e){var r=e.r0<=e.r?1:-1;if(r<0){var n=e.r;e.r=e.r0,e.r0=n}var i=_0(e.r,t.r),a=y0(e.r0,t.r0);e.r=i,e.r0=a;var o=i-a<0;if(r<0){var n=e.r;e.r=e.r0,e.r0=n}return o}},W3={cartesian2d:function(t,e,r,n,i,a,o,s,u){var l=new Ar({shape:_e({},n),z2:1});if(l.__dataIndex=r,l.name="item",a){var c=l.shape,f=i?"height":"width";c[f]=0}return l},polar:function(t,e,r,n,i,a,o,s,u){var l=!i&&u?H3:ba,c=new l({shape:n,z2:1});c.name="item";var f=xT(i);if(c.calculateTextPosition=mR(f,{isRoundCap:l===H3}),a){var h=c.shape,d=i?"r":"endAngle",v={};h[d]=i?n.r0:n.startAngle,v[d]=n[d],(s?Hn:bi)(c,{shape:v},a)}return c}};function wR(t,e){var r=t.get("realtimeSort",!0),n=e.getBaseAxis();if(r&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function U3(t,e,r,n,i,a,o,s){var u,l;a?(l={x:n.x,width:n.width},u={y:n.y,height:n.height}):(l={y:n.y,height:n.height},u={x:n.x,width:n.width}),s||(o?Hn:bi)(r,{shape:u},e,i,null);var c=e?t.baseAxis.model:null;(o?Hn:bi)(r,{shape:l},c,i)}function q3(t,e){for(var r=0;r<e.length;r++)if(!isFinite(t[e[r]]))return!0;return!1}var xR=["x","y","width","height"],SR=["cx","cy","r","startAngle","endAngle"],Y3={cartesian2d:function(t){return!q3(t,xR)},polar:function(t){return!q3(t,SR)}},Eh={cartesian2d:function(t,e,r){var n=t.getItemLayout(e),i=r?MR(r,n):0,a=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+o*i/2,width:n.width-a*i,height:n.height-o*i}},polar:function(t,e,r){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function TR(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function xT(t){return function(e){var r=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}}(t)}function j3(t,e,r,n,i,a,o,s){var u=e.getItemVisual(r,"style");if(s){if(!a.get("roundCap")){var c=t.shape,f=hc(n.getModel("itemStyle"),c,!0);_e(c,f),t.setShape(c)}}else{var l=n.get(["itemStyle","borderRadius"])||0;t.setShape("r",l)}t.useStyle(u);var h=n.getShallow("cursor");h&&t.attr("cursor",h);var d=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",v=vS(n);t2(t,v,{labelFetcher:a,labelDataIndex:r,defaultText:KL(a.getData(),r),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:d});var g=t.getTextContent();if(s&&g){var m=n.get(["label","position"]);t.textConfig.inside=m==="middle"?!0:null,yR(t,m==="outside"?d:m,xT(o),n.get(["label","rotate"]))}UO(g,v,a.getRawValue(r),function(b){return ZL(e,b)});var y=n.getModel(["emphasis"]);Kx(t,y.get("focus"),y.get("blurScope"),y.get("disabled")),Zx(t,n),TR(i)&&(t.style.fill="none",t.style.stroke="none",F(t.states,function(b){b.style&&(b.style.fill=b.style.stroke="none")}))}function MR(t,e){var r=t.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=t.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,i,a)}var DR=function(){function t(){}return t}(),K3=function(t){ze(e,t);function e(r){var n=t.call(this,r)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new DR},e.prototype.buildPath=function(r,n){for(var i=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],l=this.barWidth,c=0;c<i.length;c+=3)u[a]=l,u[o]=i[c+2],s[a]=i[c+a],s[o]=i[c+o],r.rect(s[0],s[1],u[0],u[1])},e}(Ot);function Z3(t,e,r,n){var i=t.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),u=t.getModel("backgroundStyle"),l=i.getLayout("largeBackgroundPoints");if(l){var c=new K3({shape:{points:l},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(u.getItemStyle()),e.add(c),r&&r.push(c)}var f=new K3({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=o,f.barWidth=s,e.add(f),f.useStyle(i.getVisual("style")),f.style.stroke=null,$t(f).seriesIndex=t.seriesIndex,t.get("silent")||(f.on("mousedown",X3),f.on("mousemove",X3)),r&&r.push(f)}var X3=g2(function(t){var e=this,r=CR(e,t.offsetX,t.offsetY);$t(e).dataIndex=r>=0?r:null},30,!1);function CR(t,e,r){for(var n=t.baseDimIdx,i=1-n,a=t.shape.points,o=t.largeDataIndices,s=[],u=[],l=t.barWidth,c=0,f=a.length/3;c<f;c++){var h=c*3;if(u[n]=l,u[i]=a[h+2],s[n]=a[h+n],s[i]=a[h+i],u[i]<0&&(s[i]+=u[i],u[i]=-u[i]),e>=s[0]&&e<=s[0]+u[0]&&r>=s[1]&&r<=s[1]+u[1])return o[c]}return-1}function ST(t,e,r){if(pT(r,"cartesian2d")){var n=e,i=r.getArea();return{x:t?n.x:i.x,y:t?i.y:n.y,width:t?n.width:i.width,height:t?i.height:n.height}}else{var i=r.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:t?i.r0:a.r0,r:t?i.r:a.r,startAngle:t?a.startAngle:0,endAngle:t?a.endAngle:Math.PI*2}}}function AR(t,e,r){var n=t.type==="polar"?ba:Ar;return new n({shape:ST(e,r,t),silent:!0,z2:0})}function IR(t){t.registerChartView(bR),t.registerSeriesModel(pR),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,Cr(hR,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,dR("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,sR("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,r){var n=e.componentType||"series";r.eachComponent({mainType:n,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}function ER(t,e){function r(n,i){var a=[];return n.eachComponent({mainType:"series",subType:t,query:i},function(o){a.push(o.seriesIndex)}),a}F([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(n){e(n[0],function(i,a,o){i=_e({},i),o.dispatchAction(_e(i,{type:n[1],seriesIndex:r(a,i)}))})})}function cu(t,e,r,n,i){var a=t+e;r.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,u=o.option.selectedMap,l=i.selected,c=0;c<l.length;c++)if(l[c].seriesIndex===s){var f=o.getData(),h=Cf(f,i.fromActionPayload);r.trigger(a,{type:a,seriesId:o.id,name:Fe(h)?f.getName(h[0]):f.getName(h),selected:je(u)?u:_e({},u)})}})}function kR(t,e,r){t.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(cu("map","selectchanged",e,i,n),cu("pie","selectchanged",e,i,n)):n.fromAction==="select"?(cu("map","selected",e,i,n),cu("pie","selected",e,i,n)):n.fromAction==="unselect"&&(cu("map","unselected",e,i,n),cu("pie","unselected",e,i,n))})}var J3=Math.PI*2,kh=Math.PI/180;function TT(t,e){return Xu(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function MT(t,e){var r=TT(t,e),n=t.get("center"),i=t.get("radius");Fe(i)||(i=[0,i]);var a=ar(r.width,e.getWidth()),o=ar(r.height,e.getHeight()),s=Math.min(a,o),u=ar(i[0],s/2),l=ar(i[1],s/2),c,f,h=t.coordinateSystem;if(h){var d=h.dataToPoint(n);c=d[0]||0,f=d[1]||0}else Fe(n)||(n=[n,n]),c=ar(n[0],a)+r.x,f=ar(n[1],o)+r.y;return{cx:c,cy:f,r0:u,r:l}}function OR(t,e,r){e.eachSeriesByType(t,function(n){var i=n.getData(),a=i.mapDimension("value"),o=TT(n,r),s=MT(n,r),u=s.cx,l=s.cy,c=s.r,f=s.r0,h=-n.get("startAngle")*kh,d=n.get("endAngle"),v=n.get("padAngle")*kh;d=d==="auto"?h-J3:-d*kh;var g=n.get("minAngle")*kh,m=g+v,y=0;i.each(a,function(he){!isNaN(he)&&y++});var b=i.getSum(a),w=Math.PI/(b||y)*2,S=n.get("clockwise"),D=n.get("roseType"),M=n.get("stillShowZeroSum"),A=i.getDataExtent(a);A[0]=0;var k=S?1:-1,O=[h,d],P=k*v/2;Dx(O,!S),h=O[0],d=O[1];var R=DT(n);R.startAngle=h,R.endAngle=d,R.clockwise=S;var H=Math.abs(d-h),z=H,W=0,ee=h;if(i.setLayout({viewRect:o,r:c}),i.each(a,function(he,X){var te;if(isNaN(he)){i.setItemLayout(X,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:S,cx:u,cy:l,r0:f,r:D?NaN:c});return}D!=="area"?te=b===0&&M?w:he*w:te=H/y,te<m?(te=m,z-=m):W+=he;var oe=ee+k*te,Q=0,ue=0;v>te?(Q=ee+k*te/2,ue=Q):(Q=ee+P,ue=oe-P),i.setItemLayout(X,{angle:te,startAngle:Q,endAngle:ue,clockwise:S,cx:u,cy:l,r0:f,r:D?Wg(he,A,[f,c]):c}),ee=oe}),z<J3&&y)if(z<=.001){var ne=H/y;i.each(a,function(he,X){if(!isNaN(he)){var te=i.getItemLayout(X);te.angle=ne;var oe=0,Q=0;ne<v?(oe=h+k*(X+1/2)*ne,Q=oe):(oe=h+k*X*ne+P,Q=h+k*(X+1)*ne-P),te.startAngle=oe,te.endAngle=Q}})}else w=z/W,ee=h,i.each(a,function(he,X){if(!isNaN(he)){var te=i.getItemLayout(X),oe=te.angle===m?m:he*w,Q=0,ue=0;oe<v?(Q=ee+k*oe/2,ue=Q):(Q=ee+P,ue=ee+k*oe-P),te.startAngle=Q,te.endAngle=ue,ee+=k*oe}})})}var DT=cr();function PR(t){return{seriesType:t,reset:function(e,r){var n=r.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=e.getData();i.filterSelf(function(a){for(var o=i.getName(a),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}var jl=Math.PI*2,ds=Ro.CMD,LR=["top","right","bottom","left"];function RR(t,e,r,n,i){var a=r.width,o=r.height;switch(t){case"top":n.set(r.x+a/2,r.y-e),i.set(0,-1);break;case"bottom":n.set(r.x+a/2,r.y+o+e),i.set(0,1);break;case"left":n.set(r.x-e,r.y+o/2),i.set(-1,0);break;case"right":n.set(r.x+a+e,r.y+o/2),i.set(1,0);break}}function NR(t,e,r,n,i,a,o,s,u){o-=t,s-=e;var l=Math.sqrt(o*o+s*s);o/=l,s/=l;var c=o*r+t,f=s*r+e;if(Math.abs(n-i)%jl<1e-4)return u[0]=c,u[1]=f,l-r;if(a){var h=n;n=Fa(i),i=Fa(h)}else n=Fa(n),i=Fa(i);n>i&&(i+=jl);var d=Math.atan2(s,o);if(d<0&&(d+=jl),d>=n&&d<=i||d+jl>=n&&d+jl<=i)return u[0]=c,u[1]=f,l-r;var v=r*Math.cos(n)+t,g=r*Math.sin(n)+e,m=r*Math.cos(i)+t,y=r*Math.sin(i)+e,b=(v-o)*(v-o)+(g-s)*(g-s),w=(m-o)*(m-o)+(y-s)*(y-s);return b<w?(u[0]=v,u[1]=g,Math.sqrt(b)):(u[0]=m,u[1]=y,Math.sqrt(w))}function Qd(t,e,r,n,i,a,o,s){var u=i-t,l=a-e,c=r-t,f=n-e,h=Math.sqrt(c*c+f*f);c/=h,f/=h;var d=u*c+l*f,v=d/h;s&&(v=Math.min(Math.max(v,0),1)),v*=h;var g=o[0]=t+v*c,m=o[1]=e+v*f;return Math.sqrt((g-i)*(g-i)+(m-a)*(m-a))}function CT(t,e,r,n,i,a,o){r<0&&(t=t+r,r=-r),n<0&&(e=e+n,n=-n);var s=t+r,u=e+n,l=o[0]=Math.min(Math.max(i,t),s),c=o[1]=Math.min(Math.max(a,e),u);return Math.sqrt((l-i)*(l-i)+(c-a)*(c-a))}var Pi=[];function FR(t,e,r){var n=CT(e.x,e.y,e.width,e.height,t.x,t.y,Pi);return r.set(Pi[0],Pi[1]),n}function zR(t,e,r){for(var n=0,i=0,a=0,o=0,s,u,l=1/0,c=e.data,f=t.x,h=t.y,d=0;d<c.length;){var v=c[d++];d===1&&(n=c[d],i=c[d+1],a=n,o=i);var g=l;switch(v){case ds.M:a=c[d++],o=c[d++],n=a,i=o;break;case ds.L:g=Qd(n,i,c[d],c[d+1],f,h,Pi,!0),n=c[d++],i=c[d++];break;case ds.C:g=gx(n,i,c[d++],c[d++],c[d++],c[d++],c[d],c[d+1],f,h,Pi),n=c[d++],i=c[d++];break;case ds.Q:g=yx(n,i,c[d++],c[d++],c[d],c[d+1],f,h,Pi),n=c[d++],i=c[d++];break;case ds.A:var m=c[d++],y=c[d++],b=c[d++],w=c[d++],S=c[d++],D=c[d++];d+=1;var M=!!(1-c[d++]);s=Math.cos(S)*b+m,u=Math.sin(S)*w+y,d<=1&&(a=s,o=u);var A=(f-m)*w/b+m;g=NR(m,y,w,S,S+D,M,A,h,Pi),n=Math.cos(S+D)*b+m,i=Math.sin(S+D)*w+y;break;case ds.R:a=n=c[d++],o=i=c[d++];var k=c[d++],O=c[d++];g=CT(a,o,k,O,f,h,Pi);break;case ds.Z:g=Qd(n,i,a,o,f,h,Pi,!0),n=a,i=o;break}g<l&&(l=g,r.set(Pi[0],Pi[1]))}return l}var Fi=new nt,jt=new nt,wr=new nt,fa=new nt,oa=new nt;function Q3(t,e){if(t){var r=t.getTextGuideLine(),n=t.getTextContent();if(n&&r){var i=t.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||LR,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var u=1/0,l=i.anchor,c=t.getComputedTransform(),f=c&&Gv([],c),h=e.get("length2")||0;l&&wr.copy(l);for(var d=0;d<o.length;d++){var v=o[d];RR(v,0,s,Fi,fa),nt.scaleAndAdd(jt,Fi,fa,h),jt.transform(f);var g=t.getBoundingRect(),m=l?l.distance(jt):t instanceof Ot?zR(jt,t.path,wr):FR(jt,g,wr);m<u&&(u=m,jt.transform(c),wr.transform(c),wr.toArray(a[0]),jt.toArray(a[1]),Fi.toArray(a[2]))}AT(a,e.get("minTurnAngle")),r.setShape({points:a})}}}var ev=[],xn=new nt;function AT(t,e){if(e<=180&&e>0){e=e/180*Math.PI,Fi.fromArray(t[0]),jt.fromArray(t[1]),wr.fromArray(t[2]),nt.sub(fa,Fi,jt),nt.sub(oa,wr,jt);var r=fa.len(),n=oa.len();if(!(r<.001||n<.001)){fa.scale(1/r),oa.scale(1/n);var i=fa.dot(oa),a=Math.cos(e);if(a<i){var o=Qd(jt.x,jt.y,wr.x,wr.y,Fi.x,Fi.y,ev,!1);xn.fromArray(ev),xn.scaleAndAdd(oa,o/Math.tan(Math.PI-e));var s=wr.x!==jt.x?(xn.x-jt.x)/(wr.x-jt.x):(xn.y-jt.y)/(wr.y-jt.y);if(isNaN(s))return;s<0?nt.copy(xn,jt):s>1&&nt.copy(xn,wr),xn.toArray(t[1])}}}}function BR(t,e,r){if(r<=180&&r>0){r=r/180*Math.PI,Fi.fromArray(t[0]),jt.fromArray(t[1]),wr.fromArray(t[2]),nt.sub(fa,jt,Fi),nt.sub(oa,wr,jt);var n=fa.len(),i=oa.len();if(!(n<.001||i<.001)){fa.scale(1/n),oa.scale(1/i);var a=fa.dot(e),o=Math.cos(r);if(a<o){var s=Qd(jt.x,jt.y,wr.x,wr.y,Fi.x,Fi.y,ev,!1);xn.fromArray(ev);var u=Math.PI/2,l=Math.acos(oa.dot(e)),c=u+l-r;if(c>=u)nt.copy(xn,wr);else{xn.scaleAndAdd(oa,s/Math.tan(Math.PI/2-c));var f=wr.x!==jt.x?(xn.x-jt.x)/(wr.x-jt.x):(xn.y-jt.y)/(wr.y-jt.y);if(isNaN(f))return;f<0?nt.copy(xn,jt):f>1&&nt.copy(xn,wr)}xn.toArray(t[1])}}}}function b0(t,e,r,n){var i=r==="normal",a=i?t:t.ensureState(r);a.ignore=e;var o=n.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();i?t.useStyle(s):a.style=s}function $R(t,e){var r=e.smooth,n=e.points;if(n)if(t.moveTo(n[0][0],n[0][1]),r>0&&n.length>=3){var i=Lg(n[0],n[1]),a=Lg(n[1],n[2]);if(!i||!a){t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]);return}var o=Math.min(i,a)*r,s=ad([],n[1],n[0],o/i),u=ad([],n[1],n[2],o/a),l=ad([],s,u,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],l[0],l[1]),t.bezierCurveTo(u[0],u[1],u[0],u[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)t.lineTo(n[c][0],n[c][1])}function IT(t,e,r){var n=t.getTextGuideLine(),i=t.getTextContent();if(!i){n&&t.removeTextGuideLine();return}for(var a=e.normal,o=a.get("show"),s=i.ignore,u=0;u<qd.length;u++){var l=qd[u],c=e[l],f=l==="normal";if(c){var h=c.get("show"),d=f?s:bt(i.states[l]&&i.states[l].ignore,s);if(d||!bt(h,o)){var v=f?n:n&&n.states[l];v&&(v.ignore=!0),n&&b0(n,!0,l,c);continue}n||(n=new If,t.setTextGuideLine(n),!f&&(s||!o)&&b0(n,!0,"normal",e.normal),t.stateProxy&&(n.stateProxy=t.stateProxy)),b0(n,!1,l,c)}}if(n){It(n.style,r),n.style.fill=null;var g=a.get("showAbove"),m=t.textGuideLineConfig=t.textGuideLineConfig||{};m.showAbove=g||!1,n.buildPath=$R}}function ET(t,e){e=e||"labelLine";for(var r={normal:t.getModel(e)},n=0;n<_a.length;n++){var i=_a[n];r[i]=t.getModel([i,e])}return r}function kT(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(!n.defaultAttr.ignore){var i=n.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,u=i.style.margin||0,l=o.clone();l.applyTransform(a),l.x-=u/2,l.y-=u/2,l.width+=u,l.height+=u;var c=s?new Yd(o,a):null;e.push({label:i,labelLine:n.labelLine,rect:l,localRect:o,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:a})}}return e}function OT(t,e,r,n,i,a){var o=t.length;if(o<2)return;t.sort(function(M,A){return M.rect[e]-A.rect[e]});for(var s=0,u,l=!1,c=0;c<o;c++){var f=t[c],h=f.rect;u=h[e]-s,u<0&&(h[e]-=u,f.label[e]-=u,l=!0),s=h[e]+h[r]}var d=t[0],v=t[o-1],g,m;y(),g<0&&S(-g,.8),m<0&&S(m,.8),y(),b(g,m,1),b(m,g,-1),y(),g<0&&D(-g),m<0&&D(m);function y(){g=d.rect[e]-n,m=i-v.rect[e]-v.rect[r]}function b(M,A,k){if(M<0){var O=Math.min(A,-M);if(O>0){w(O*k,0,o);var P=O+M;P<0&&S(-P*k,1)}else S(-M*k,1)}}function w(M,A,k){M!==0&&(l=!0);for(var O=A;O<k;O++){var P=t[O],R=P.rect;R[e]+=M,P.label[e]+=M}}function S(M,A){for(var k=[],O=0,P=1;P<o;P++){var R=t[P-1].rect,H=Math.max(t[P].rect[e]-R[e]-R[r],0);k.push(H),O+=H}if(O){var z=Math.min(Math.abs(M)/O,A);if(M>0)for(var P=0;P<o-1;P++){var W=k[P]*z;w(W,0,P+1)}else for(var P=o-1;P>0;P--){var W=k[P-1]*z;w(-W,P,o)}}}function D(M){var A=M<0?-1:1;M=Math.abs(M);for(var k=Math.ceil(M/(o-1)),O=0;O<o-1;O++)if(A>0?w(k,0,O+1):w(-k,o-O-1,o),M-=k,M<=0)return}return l}function VR(t,e,r,n){return OT(t,"x","width",e,r)}function PT(t,e,r,n){return OT(t,"y","height",e,r)}function LT(t){var e=[];t.sort(function(g,m){return m.priority-g.priority});var r=new Nt(0,0,0,0);function n(g){if(!g.ignore){var m=g.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}g.ignore=!0}for(var i=0;i<t.length;i++){var a=t[i],o=a.axisAligned,s=a.localRect,u=a.transform,l=a.label,c=a.labelLine;r.copy(a.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var f=a.obb,h=!1,d=0;d<e.length;d++){var v=e[d];if(r.intersect(v.rect)){if(o&&v.axisAligned){h=!0;break}if(v.obb||(v.obb=new Yd(v.localRect,v.transform)),f||(f=new Yd(s,u)),f.intersect(v.obb)){h=!0;break}}}h?(n(l),c&&n(c)):(l.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}var HR=Math.PI/180;function e5(t,e,r,n,i,a,o,s,u,l){if(t.length<2)return;function c(g){for(var m=g.rB,y=m*m,b=0;b<g.list.length;b++){var w=g.list[b],S=Math.abs(w.label.y-r),D=n+w.len,M=D*D,A=Math.sqrt(Math.abs((1-S*S/y)*M)),k=e+(A+w.len2)*i,O=k-w.label.x,P=w.targetTextWidth-O*i;RT(w,P,!0),w.label.x=k}}function f(g){for(var m={list:[],maxY:0},y={list:[],maxY:0},b=0;b<g.length;b++)if(g[b].labelAlignTo==="none"){var w=g[b],S=w.label.y>r?y:m,D=Math.abs(w.label.y-r);if(D>=S.maxY){var M=w.label.x-e-w.len2*i,A=n+w.len,k=Math.abs(M)<A?Math.sqrt(D*D/(1-M*M/A/A)):A;S.rB=k,S.maxY=D}S.list.push(w)}c(m),c(y)}for(var h=t.length,d=0;d<h;d++)if(t[d].position==="outer"&&t[d].labelAlignTo==="labelLine"){var v=t[d].label.x-l;t[d].linePoints[1][0]+=v,t[d].label.x=l}PT(t,u,u+o)&&f(t)}function GR(t,e,r,n,i,a,o,s){for(var u=[],l=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<t.length;h++){var d=t[h].label;w0(t[h])||(d.x<e?(c=Math.min(c,d.x),u.push(t[h])):(f=Math.max(f,d.x),l.push(t[h])))}for(var h=0;h<t.length;h++){var v=t[h];if(!w0(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var d=v.label,g=v.linePoints,m=void 0;v.labelAlignTo==="edge"?d.x<e?m=g[2][0]-v.labelDistance-o-v.edgeDistance:m=o+i-v.edgeDistance-g[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?d.x<e?m=c-o-v.bleedMargin:m=o+i-f-v.bleedMargin:d.x<e?m=d.x-o-v.bleedMargin:m=o+i-d.x-v.bleedMargin,v.targetTextWidth=m,RT(v,m)}}e5(l,e,r,n,1,i,a,o,s,f),e5(u,e,r,n,-1,i,a,o,s,c);for(var h=0;h<t.length;h++){var v=t[h];if(!w0(v)&&v.linePoints){var d=v.label,g=v.linePoints,y=v.labelAlignTo==="edge",b=d.style.padding,w=b?b[1]+b[3]:0,S=d.style.backgroundColor?0:w,D=v.rect.width+S,M=g[1][0]-g[2][0];y?d.x<e?g[2][0]=o+v.edgeDistance+D+v.labelDistance:g[2][0]=o+i-v.edgeDistance-D-v.labelDistance:(d.x<e?g[2][0]=d.x+v.labelDistance:g[2][0]=d.x-v.labelDistance,g[1][0]=g[2][0]+M),g[1][1]=g[2][1]=d.y}}}function RT(t,e,r){if(r===void 0&&(r=!1),t.labelStyleWidth==null){var n=t.label,i=n.style,a=t.rect,o=i.backgroundColor,s=i.padding,u=s?s[1]+s[3]:0,l=i.overflow,c=a.width+(o?0:u);if(e<c||r){var f=a.height;if(l&&l.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-u);var h=n.getBoundingRect();n.setStyle("width",Math.ceil(h.width)),n.setStyle("backgroundColor",o)}else{var d=e-u,v=e<c?d:r?d>t.unconstrainedWidth?null:d:null;n.setStyle("width",v)}var g=n.getBoundingRect();a.width=g.width;var m=(n.style.margin||0)+2.1;a.height=g.height+m,a.y-=(a.height-f)/2}}}function w0(t){return t.position==="center"}function WR(t){var e=t.getData(),r=[],n,i,a=!1,o=(t.get("minShowLabelAngle")||0)*HR,s=e.getLayout("viewRect"),u=e.getLayout("r"),l=s.width,c=s.x,f=s.y,h=s.height;function d(M){M.ignore=!0}function v(M){if(!M.ignore)return!0;for(var A in M.states)if(M.states[A].ignore===!1)return!0;return!1}e.each(function(M){var A=e.getItemGraphicEl(M),k=A.shape,O=A.getTextContent(),P=A.getTextGuideLine(),R=e.getItemModel(M),H=R.getModel("label"),z=H.get("position")||R.get(["emphasis","label","position"]),W=H.get("distanceToLabelLine"),ee=H.get("alignTo"),ne=ar(H.get("edgeDistance"),l),he=H.get("bleedMargin"),X=R.getModel("labelLine"),te=X.get("length");te=ar(te,l);var oe=X.get("length2");if(oe=ar(oe,l),Math.abs(k.endAngle-k.startAngle)<o){F(O.states,d),O.ignore=!0,P&&(F(P.states,d),P.ignore=!0);return}if(v(O)){var Q=(k.startAngle+k.endAngle)/2,ue=Math.cos(Q),pe=Math.sin(Q),Ee,Be,Ye,Ke;n=k.cx,i=k.cy;var Ge=z==="inside"||z==="inner";if(z==="center")Ee=k.cx,Be=k.cy,Ke="center";else{var ve=(Ge?(k.r+k.r0)/2*ue:k.r*ue)+n,et=(Ge?(k.r+k.r0)/2*pe:k.r*pe)+i;if(Ee=ve+ue*3,Be=et+pe*3,!Ge){var Ie=ve+ue*(te+u-k.r),be=et+pe*(te+u-k.r),xe=Ie+(ue<0?-1:1)*oe,Se=be;ee==="edge"?Ee=ue<0?c+ne:c+l-ne:Ee=xe+(ue<0?-W:W),Be=Se,Ye=[[ve,et],[Ie,be],[xe,Se]]}Ke=Ge?"center":ee==="edge"?ue>0?"right":"left":ue>0?"left":"right"}var Re=Math.PI,ut=0,dt=H.get("rotate");if(Jt(dt))ut=dt*(Re/180);else if(z==="center")ut=0;else if(dt==="radial"||dt===!0){var Kt=ue<0?-Q+Re:-Q;ut=Kt}else if(dt==="tangential"&&z!=="outside"&&z!=="outer"){var le=Math.atan2(ue,pe);le<0&&(le=Re*2+le);var Ne=pe>0;Ne&&(le=Re+le),ut=le-Re}if(a=!!ut,O.x=Ee,O.y=Be,O.rotation=ut,O.setStyle({verticalAlign:"middle"}),Ge){O.setStyle({align:Ke});var We=O.states.select;We&&(We.x+=O.x,We.y+=O.y)}else{var se=O.getBoundingRect().clone();se.applyTransform(O.getComputedTransform());var Te=(O.style.margin||0)+2.1;se.y-=Te/2,se.height+=Te,r.push({label:O,labelLine:P,position:z,len:te,len2:oe,minTurnAngle:X.get("minTurnAngle"),maxSurfaceAngle:X.get("maxSurfaceAngle"),surfaceNormal:new nt(ue,pe),linePoints:Ye,textAlign:Ke,labelDistance:W,labelAlignTo:ee,edgeDistance:ne,bleedMargin:he,rect:se,unconstrainedWidth:se.width,labelStyleWidth:O.style.width})}A.setTextConfig({inside:Ge})}}),!a&&t.get("avoidLabelOverlap")&&GR(r,n,i,u,l,h,c,f);for(var g=0;g<r.length;g++){var m=r[g],y=m.label,b=m.labelLine,w=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:m.textAlign}),w&&(F(y.states,d),y.ignore=!0);var S=y.states.select;S&&(S.x+=y.x,S.y+=y.y)}if(b){var D=m.linePoints;w||!D?(F(b.states,d),b.ignore=!0):(AT(D,m.minTurnAngle),BR(D,m.surfaceNormal,m.maxSurfaceAngle),b.setShape({points:D}),y.__hostTarget.textGuideLineConfig={anchor:new nt(D[0][0],D[0][1])})}}}var UR=function(t){ze(e,t);function e(r,n,i){var a=t.call(this)||this;a.z2=2;var o=new gn;return a.setTextContent(o),a.updateData(r,n,i,!0),a}return e.prototype.updateData=function(r,n,i,a){var o=this,s=r.hostModel,u=r.getItemModel(n),l=u.getModel("emphasis"),c=r.getItemLayout(n),f=_e(hc(u.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(a){o.setShape(f);var h=s.getShallow("animationType");s.ecModel.ssr?(bi(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):h==="scale"?(o.shape.r=c.r0,bi(o,{shape:{r:c.r}},s,n)):i!=null?(o.setShape({startAngle:i,endAngle:i}),bi(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,n)):(o.shape.endAngle=c.startAngle,Hn(o,{shape:{endAngle:c.endAngle}},s,n))}else sS(o),Hn(o,{shape:f},s,n);o.useStyle(r.getItemVisual(n,"style")),Zx(o,u);var d=(c.startAngle+c.endAngle)/2,v=s.get("selectedOffset"),g=Math.cos(d)*v,m=Math.sin(d)*v,y=u.getShallow("cursor");y&&o.attr("cursor",y),this._updateLabel(s,r,n),o.ensureState("emphasis").shape=_e({r:c.r+(l.get("scale")&&l.get("scaleSize")||0)},hc(l.getModel("itemStyle"),c)),_e(o.ensureState("select"),{x:g,y:m,shape:hc(u.getModel(["select","itemStyle"]),c)}),_e(o.ensureState("blur"),{shape:hc(u.getModel(["blur","itemStyle"]),c)});var b=o.getTextGuideLine(),w=o.getTextContent();b&&_e(b.ensureState("select"),{x:g,y:m}),_e(w.ensureState("select"),{x:g,y:m}),Kx(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))},e.prototype._updateLabel=function(r,n,i){var a=this,o=n.getItemModel(i),s=o.getModel("labelLine"),u=n.getItemVisual(i,"style"),l=u&&u.fill,c=u&&u.opacity;t2(a,vS(o),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:l,defaultOpacity:c,defaultText:r.getFormattedLabel(i,"normal")||n.getName(i)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=r.get(["label","position"]);if(h!=="outside"&&h!=="outer")a.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new If,this.setTextGuideLine(d)),IT(this,ET(o),{stroke:l,opacity:Sc(s.get(["lineStyle","opacity"]),c,1)})}},e}(ba),qR=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return e.prototype.render=function(r,n,i,a){var o=r.getData(),s=this._data,u=this.group,l;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(l=c.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),o.count()===0&&r.get("showEmptyCircle")){var h=DT(r),d=new ba({shape:_e(MT(r,i),h)});d.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,u.add(d)}o.diff(s).add(function(v){var g=new UR(o,v,l);o.setItemGraphicEl(v,g),u.add(g)}).update(function(v,g){var m=s.getItemGraphicEl(g);m.updateData(o,v,l),m.off("click"),u.add(m),o.setItemGraphicEl(v,m)}).remove(function(v){var g=s.getItemGraphicEl(v);jd(g,r,v)}).execute(),WR(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(r,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=r[0]-a.cx,s=r[1]-a.cy,u=Math.sqrt(o*o+s*s);return u<=a.r&&u>=a.r0}},e.type="pie",e}(Ha);function YR(t,e,r){e=Fe(e)&&{coordDimensions:e}||_e({encodeDefine:t.getEncode()},e);var n=t.getSource(),i=$S(n,e).dimensions,a=new BS(i,t);return a.initData(n,r),a}var jR=function(){function t(e,r){this._getDataWithEncodedVisual=e,this._getRawData=r}return t.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},t.prototype.containName=function(e){var r=this._getRawData();return r.indexOfName(e)>=0},t.prototype.indexOfName=function(e){var r=this._getDataWithEncodedVisual();return r.indexOfName(e)},t.prototype.getItemVisual=function(e,r){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,r)},t}(),KR=cr(),ZR=function(t){ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new jR(ur(this.getData,this),ur(this.getRawData,this)),this._defaultLabelLine(r)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return YR(this,{coordDimensions:["value"],encodeDefaulter:Cr(tP,this)})},e.prototype.getDataParams=function(r){var n=this.getData(),i=KR(n),a=i.seats;if(!a){var o=[];n.each(n.mapDimension("value"),function(u){o.push(u)}),a=i.seats=fk(o,n.hostModel.get("percentPrecision"))}var s=t.prototype.getDataParams.call(this,r);return s.percent=a[r]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(r){Ug(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(wa);function XR(t){return{seriesType:t,reset:function(e,r){var n=e.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),o=n.get(a,i);return!(Jt(o)&&!isNaN(o)&&o<0)})}}}function JR(t){t.registerChartView(qR),t.registerSeriesModel(ZR),ER("pie",t.registerAction),t.registerLayout(Cr(OR,"pie")),t.registerProcessor(PR("pie")),t.registerProcessor(XR("pie"))}var fu=function(){function t(e,r){this.target=e,this.topTarget=r&&r.topTarget}return t}(),QR=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var r=e.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new fu(r,e),"dragstart",e.event))},t.prototype._drag=function(e){var r=this._draggingTarget;if(r){var n=e.offsetX,i=e.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,r.drift(a,o,e),this.handler.dispatchToElement(new fu(r,e),"drag",e.event);var s=this.handler.findHover(n,i,r).target,u=this._dropTarget;this._dropTarget=s,r!==s&&(u&&s!==u&&this.handler.dispatchToElement(new fu(u,e),"dragleave",e.event),s&&s!==u&&this.handler.dispatchToElement(new fu(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new fu(r,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new fu(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}(),eN=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,x0=[],tN=ht.browser.firefox&&+ht.browser.version.split(".")[0]<39;function vm(t,e,r,n){return r=r||{},n?t5(t,e,r):tN&&e.layerX!=null&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):e.offsetX!=null?(r.zrX=e.offsetX,r.zrY=e.offsetY):t5(t,e,r),r}function t5(t,e,r){if(ht.domSupported&&t.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(WS(t)){var a=t.getBoundingClientRect();r.zrX=n-a.left,r.zrY=i-a.top;return}else if(om(x0,t,n,i)){r.zrX=x0[0],r.zrY=x0[1];return}}r.zrX=r.zrY=0}function m2(t){return t||window.event}function ui(t,e,r){if(e=m2(e),e.zrX!=null)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var o=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&vm(t,o,e,r)}else{vm(t,e,e,r);var a=rN(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&eN.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function rN(t){var e=t.wheelDelta;if(e)return e;var r=t.deltaX,n=t.deltaY;if(r==null||n==null)return e;var i=Math.abs(n!==0?n:r),a=n>0?-1:n<0?1:r>0?-1:1;return 3*i*a}function nN(t,e,r,n){t.addEventListener(e,r,n)}function iN(t,e,r,n){t.removeEventListener(e,r,n)}var NT=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0},aN=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,r,n){return this._doTrack(e,r,n),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,r,n){var i=e.touches;if(i){for(var a={points:[],touches:[],target:r,event:e},o=0,s=i.length;o<s;o++){var u=i[o],l=vm(n,u,{});a.points.push([l.zrX,l.zrY]),a.touches.push(u)}this._track.push(a)}},t.prototype._recognize=function(e){for(var r in S0)if(S0.hasOwnProperty(r)){var n=S0[r](this._track,e);if(n)return n}},t}();function r5(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function oN(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var S0={pinch:function(t,e){var r=t.length;if(r){var n=(t[r-1]||{}).points,i=(t[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=r5(n)/r5(i);!isFinite(a)&&(a=1),e.pinchScale=a;var o=oN(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}},FT="silent";function sN(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:uN}}function uN(){NT(this.event)}var lN=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handler=null,r}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Ma),Kl=function(){function t(e,r){this.x=e,this.y=r}return t}(),cN=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],T0=new Nt(0,0,0,0),zT=function(t){ze(e,t);function e(r,n,i,a,o){var s=t.call(this)||this;return s._hovered=new Kl(0,0),s.storage=r,s.painter=n,s.painterRoot=a,s._pointerSize=o,i=i||new lN,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new QR(s),s}return e.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(F(cN,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},e.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,a=BT(this,n,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var u=this._hovered=a?new Kl(n,i):this.findHover(n,i),l=u.target,c=this.proxy;c.setCursor&&c.setCursor(l?l.cursor:"default"),s&&l!==s&&this.dispatchToElement(o,"mouseout",r),this.dispatchToElement(u,"mousemove",r),l&&l!==s&&this.dispatchToElement(u,"mouseover",r)},e.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},e.prototype.resize=function(){this._hovered=new Kl(0,0)},e.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},e.prototype.dispatchToElement=function(r,n,i){r=r||{};var a=r.target;if(!(a&&a.silent)){for(var o="on"+n,s=sN(n,r,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[o]=="function"&&u[o].call(u,s),u.trigger&&u.trigger(n,s)}))}},e.prototype.findHover=function(r,n,i){var a=this.storage.getDisplayList(),o=new Kl(r,n);if(n5(a,o,r,n,i),this._pointerSize&&!o.target){for(var s=[],u=this._pointerSize,l=u/2,c=new Nt(r-l,n-l,u,u),f=a.length-1;f>=0;f--){var h=a[f];h!==i&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(T0.copy(h.getBoundingRect()),h.transform&&T0.applyTransform(h.transform),T0.intersect(c)&&s.push(h))}if(s.length)for(var d=4,v=Math.PI/12,g=Math.PI*2,m=0;m<l;m+=d)for(var y=0;y<g;y+=v){var b=r+m*Math.cos(y),w=n+m*Math.sin(y);if(n5(s,o,b,w,i),o.target)return o}}return o},e.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new aN);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var o=a.type;r.gestureEvent=o;var s=new Kl;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e}(Ma);F(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){zT.prototype[t]=function(e){var r=e.zrX,n=e.zrY,i=BT(this,r,n),a,o;if((t!=="mouseup"||!i)&&(a=this.findHover(r,n),o=a.target),t==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(t==="mouseup")this._upEl=o;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||Lg(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,t,e)}});function fN(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n=t,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(e,r))return!1}n.silent&&(i=!0);var s=n.__hostTarget;n=s||n.parent}return i?FT:!0}return!1}function n5(t,e,r,n,i){for(var a=t.length-1;a>=0;a--){var o=t[a],s=void 0;if(o!==i&&!o.ignore&&(s=fN(o,r,n))&&(!e.topTarget&&(e.topTarget=o),s!==FT)){e.target=o;break}}}function BT(t,e,r){var n=t.painter;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}var $T=32,Zl=7;function hN(t){for(var e=0;t>=$T;)e|=t&1,t>>=1;return t+e}function i5(t,e,r,n){var i=e+1;if(i===r)return 1;if(n(t[i++],t[e])<0){for(;i<r&&n(t[i],t[i-1])<0;)i++;dN(t,e,i)}else for(;i<r&&n(t[i],t[i-1])>=0;)i++;return i-e}function dN(t,e,r){for(r--;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}function a5(t,e,r,n,i){for(n===e&&n++;n<r;n++){for(var a=t[n],o=e,s=n,u;o<s;)u=o+s>>>1,i(a,t[u])<0?s=u:o=u+1;var l=n-o;switch(l){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;l>0;)t[o+l]=t[o+l-1],l--}t[o]=a}}function M0(t,e,r,n,i,a){var o=0,s=0,u=1;if(a(t,e[r+i])>0){for(s=n-i;u<s&&a(t,e[r+i+u])>0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}else{for(s=i+1;u<s&&a(t,e[r+i-u])<=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}for(o++;o<u;){var c=o+(u-o>>>1);a(t,e[r+c])>0?o=c+1:u=c}return u}function D0(t,e,r,n,i,a){var o=0,s=0,u=1;if(a(t,e[r+i])<0){for(s=i+1;u<s&&a(t,e[r+i-u])<0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}else{for(s=n-i;u<s&&a(t,e[r+i+u])>=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}for(o++;o<u;){var c=o+(u-o>>>1);a(t,e[r+c])<0?u=c:o=c+1}return u}function vN(t,e){var r=Zl,n,i,a=0,o=[];n=[],i=[];function s(d,v){n[a]=d,i[a]=v,a+=1}function u(){for(;a>1;){var d=a-2;if(d>=1&&i[d-1]<=i[d]+i[d+1]||d>=2&&i[d-2]<=i[d]+i[d-1])i[d-1]<i[d+1]&&d--;else if(i[d]>i[d+1])break;c(d)}}function l(){for(;a>1;){var d=a-2;d>0&&i[d-1]<i[d+1]&&d--,c(d)}}function c(d){var v=n[d],g=i[d],m=n[d+1],y=i[d+1];i[d]=g+y,d===a-3&&(n[d+1]=n[d+2],i[d+1]=i[d+2]),a--;var b=D0(t[m],t,v,g,0,e);v+=b,g-=b,g!==0&&(y=M0(t[v+g-1],t,m,y,y-1,e),y!==0&&(g<=y?f(v,g,m,y):h(v,g,m,y)))}function f(d,v,g,m){var y=0;for(y=0;y<v;y++)o[y]=t[d+y];var b=0,w=g,S=d;if(t[S++]=t[w++],--m===0){for(y=0;y<v;y++)t[S+y]=o[b+y];return}if(v===1){for(y=0;y<m;y++)t[S+y]=t[w+y];t[S+m]=o[b];return}for(var D=r,M,A,k;;){M=0,A=0,k=!1;do if(e(t[w],o[b])<0){if(t[S++]=t[w++],A++,M=0,--m===0){k=!0;break}}else if(t[S++]=o[b++],M++,A=0,--v===1){k=!0;break}while((M|A)<D);if(k)break;do{if(M=D0(t[w],o,b,v,0,e),M!==0){for(y=0;y<M;y++)t[S+y]=o[b+y];if(S+=M,b+=M,v-=M,v<=1){k=!0;break}}if(t[S++]=t[w++],--m===0){k=!0;break}if(A=M0(o[b],t,w,m,0,e),A!==0){for(y=0;y<A;y++)t[S+y]=t[w+y];if(S+=A,w+=A,m-=A,m===0){k=!0;break}}if(t[S++]=o[b++],--v===1){k=!0;break}D--}while(M>=Zl||A>=Zl);if(k)break;D<0&&(D=0),D+=2}if(r=D,r<1&&(r=1),v===1){for(y=0;y<m;y++)t[S+y]=t[w+y];t[S+m]=o[b]}else{if(v===0)throw new Error;for(y=0;y<v;y++)t[S+y]=o[b+y]}}function h(d,v,g,m){var y=0;for(y=0;y<m;y++)o[y]=t[g+y];var b=d+v-1,w=m-1,S=g+m-1,D=0,M=0;if(t[S--]=t[b--],--v===0){for(D=S-(m-1),y=0;y<m;y++)t[D+y]=o[y];return}if(m===1){for(S-=v,b-=v,M=S+1,D=b+1,y=v-1;y>=0;y--)t[M+y]=t[D+y];t[S]=o[w];return}for(var A=r;;){var k=0,O=0,P=!1;do if(e(o[w],t[b])<0){if(t[S--]=t[b--],k++,O=0,--v===0){P=!0;break}}else if(t[S--]=o[w--],O++,k=0,--m===1){P=!0;break}while((k|O)<A);if(P)break;do{if(k=v-D0(o[w],t,d,v,v-1,e),k!==0){for(S-=k,b-=k,v-=k,M=S+1,D=b+1,y=k-1;y>=0;y--)t[M+y]=t[D+y];if(v===0){P=!0;break}}if(t[S--]=o[w--],--m===1){P=!0;break}if(O=m-M0(t[b],o,0,m,m-1,e),O!==0){for(S-=O,w-=O,m-=O,M=S+1,D=w+1,y=0;y<O;y++)t[M+y]=o[D+y];if(m<=1){P=!0;break}}if(t[S--]=t[b--],--v===0){P=!0;break}A--}while(k>=Zl||O>=Zl);if(P)break;A<0&&(A=0),A+=2}if(r=A,r<1&&(r=1),m===1){for(S-=v,b-=v,M=S+1,D=b+1,y=v-1;y>=0;y--)t[M+y]=t[D+y];t[S]=o[w]}else{if(m===0)throw new Error;for(D=S-(m-1),y=0;y<m;y++)t[D+y]=o[y]}}return{mergeRuns:u,forceMergeRuns:l,pushRun:s}}function md(t,e,r,n){r||(r=0),n||(n=t.length);var i=n-r;if(!(i<2)){var a=0;if(i<$T){a=i5(t,r,n,e),a5(t,r,n,r+a,e);return}var o=vN(t,e),s=hN(i);do{if(a=i5(t,r,n,e),a<s){var u=i;u>s&&(u=s),a5(t,r,r+u,r+a,e),a=u}o.pushRun(r,a),o.mergeRuns(),i-=a,r+=a}while(i!==0);o.forceMergeRuns()}}var o5=!1;function C0(){o5||(o5=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function s5(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var pN=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=s5}return t.prototype.traverse=function(e,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,r)},t.prototype.getDisplayList=function(e,r){r=r||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(r),n},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,a=r.length;i<a;i++)this._updateAndAddDisplayable(r[i],null,e);n.length=this._displayListLen,md(n,s5)},t.prototype._updateAndAddDisplayable=function(e,r,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var a=i,o=e;a;)a.parent=o,a.updateTransform(),r.push(a),o=a,a=a.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),u=0;u<s.length;u++){var l=s[u];e.__dirty&&(l.__dirty|=va),this._updateAndAddDisplayable(l,r,n)}e.__dirty=0}else{var c=e;r&&r.length?c.__clipPaths=r:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(C0(),c.z=0),isNaN(c.z2)&&(C0(),c.z2=0),isNaN(c.zlevel)&&(C0(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var f=e.getDecalElement&&e.getDecalElement();f&&this._updateAndAddDisplayable(f,r,n);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,r,n);var d=e.getTextContent();d&&this._updateAndAddDisplayable(d,r,n)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var r=0,n=e.length;r<n;r++)this.delRoot(e[r]);return}var i=Ut(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),tv;tv=ht.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};function Du(){return new Date().getTime()}var gN=function(t){ze(e,t);function e(r){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return e.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},e.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},e.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},e.prototype.update=function(r){for(var n=Du()-this._pausedTime,i=n-this._time,a=this._head;a;){var o=a.next,s=a.step(n,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(tv(n),!r._paused&&r.update())}tv(n)},e.prototype.start=function(){this._running||(this._time=Du(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Du(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Du()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(r,n){n=n||{},this.start();var i=new Fy(r,n.loop);return this.addAnimator(i),i},e}(Ma),mN=300,A0=ht.domSupported,I0=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Xe(t,function(i){var a=i.replace("mouse","pointer");return r.hasOwnProperty(a)?a:i});return{mouse:t,touch:e,pointer:n}}(),u5={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},l5=!1;function pm(t){var e=t.pointerType;return e==="pen"||e==="touch"}function yN(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function E0(t){t&&(t.zrByTouch=!0)}function _N(t,e){return ui(t.dom,new bN(t,e),!0)}function VT(t,e){for(var r=e,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return n}var bN=function(){function t(e,r){this.stopPropagation=Bn,this.stopImmediatePropagation=Bn,this.preventDefault=Bn,this.type=r.type,this.target=this.currentTarget=e.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return t}(),ki={mousedown:function(t){t=ui(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=ui(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=ui(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=ui(this.dom,t);var e=t.toElement||t.relatedTarget;VT(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){l5=!0,t=ui(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){l5||(t=ui(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=ui(this.dom,t),E0(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),ki.mousemove.call(this,t),ki.mousedown.call(this,t)},touchmove:function(t){t=ui(this.dom,t),E0(t),this.handler.processGesture(t,"change"),ki.mousemove.call(this,t)},touchend:function(t){t=ui(this.dom,t),E0(t),this.handler.processGesture(t,"end"),ki.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<mN&&ki.click.call(this,t)},pointerdown:function(t){ki.mousedown.call(this,t)},pointermove:function(t){pm(t)||ki.mousemove.call(this,t)},pointerup:function(t){ki.mouseup.call(this,t)},pointerout:function(t){pm(t)||ki.mouseout.call(this,t)}};F(["click","dblclick","contextmenu"],function(t){ki[t]=function(e){e=ui(this.dom,e),this.trigger(t,e)}});var gm={pointermove:function(t){pm(t)||gm.mousemove.call(this,t)},pointerup:function(t){gm.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function wN(t,e){var r=e.domHandlers;ht.pointerEventsSupported?F(I0.pointer,function(n){yd(e,n,function(i){r[n].call(t,i)})}):(ht.touchEventsSupported&&F(I0.touch,function(n){yd(e,n,function(i){r[n].call(t,i),yN(e)})}),F(I0.mouse,function(n){yd(e,n,function(i){i=m2(i),e.touching||r[n].call(t,i)})}))}function xN(t,e){ht.pointerEventsSupported?F(u5.pointer,r):ht.touchEventsSupported||F(u5.mouse,r);function r(n){function i(a){a=m2(a),VT(t,a.target)||(a=_N(t,a),e.domHandlers[n].call(t,a))}yd(e,n,i,{capture:!0})}}function yd(t,e,r,n){t.mounted[e]=r,t.listenerOpts[e]=n,nN(t.domTarget,e,r,n)}function k0(t){var e=t.mounted;for(var r in e)e.hasOwnProperty(r)&&iN(t.domTarget,r,e[r],t.listenerOpts[r]);t.mounted={}}var c5=function(){function t(e,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=r}return t}(),SN=function(t){ze(e,t);function e(r,n){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new c5(r,ki),A0&&(i._globalHandlerScope=new c5(document,gm)),wN(i,i._localHandlerScope),i}return e.prototype.dispose=function(){k0(this._localHandlerScope),A0&&k0(this._globalHandlerScope)},e.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},e.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,A0&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?xN(this,n):k0(n)}},e}(Ma);/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var _d={},HT={};function TN(t){delete HT[t]}function MN(t){if(!t)return!1;if(typeof t=="string")return Hd(t,1)<Bg;if(t.colorStops){for(var e=t.colorStops,r=0,n=e.length,i=0;i<n;i++)r+=Hd(e[i].color,1);return r/=n,r<Bg}return!1}var DN=function(){function t(e,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=e;var a=new pN,o=n.renderer||"canvas";_d[o]||(o=or(_d)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new _d[o](r,a,n,e),u=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var l=!ht.node&&!ht.worker&&!u?new SN(s.getViewportRoot(),s.root):null,c=n.useCoarsePointer,f=c==null||c==="auto"?ht.touchEventsSupported:!!c,h=44,d;f&&(d=bt(n.pointerSize,h)),this.handler=new zT(a,s,l,s.root,d),this.animation=new gN({stage:{update:u?null:function(){return i._flush(!0)}}}),u||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,r),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=MN(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var r,n=Du();this._needsRefresh&&(r=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=Du();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,r){if(!this._disposed)return this.handler.findHover(e,r)},t.prototype.on=function(e,r,n){return this._disposed||this.handler.on(e,r,n),this},t.prototype.off=function(e,r){this._disposed||this.handler.off(e,r)},t.prototype.trigger=function(e,r){this._disposed||this.handler.trigger(e,r)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),r=0;r<e.length;r++)e[r]instanceof Qn&&e[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,TN(this.id))},t}();function f5(t,e){var r=new DN(Q6(),t,e);return HT[r.id]=r,r}function CN(t,e){_d[t]=e}var GT="";typeof navigator<"u"&&(GT=navigator.platform||"");var hu="rgba(0, 0, 0, 0.2)";const AN={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:hu,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:hu,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:hu,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:hu,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:hu,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:hu,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:GT.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var IN=vt();function EN(t,e,r){var n=IN.get(e);if(!n)return r;var i=n(t);return i?r.concat(i):r}var Oh,Xl,h5,d5="\0_ec_inner",kN=1,y2=function(t){ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,i,a,o,s){a=a||{},this.option=null,this._theme=new Sr(a),this._locale=new Sr(o),this._optionManager=s},e.prototype.setOption=function(r,n,i){var a=g5(n);this._optionManager.setOption(r,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(r,n){return this._resetOption(r,g5(n))},e.prototype._resetOption=function(r,n){var i=!1,a=this._optionManager;if(!r||r==="recreate"){var o=a.mountOption(r==="recreate");!this.option||r==="recreate"?h5(this,o):(this.restoreData(),this._mergeOption(o,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,n))}if(!r||r==="recreate"||r==="media"){var u=a.getMediaOption(this);u.length&&F(u,function(l){i=!0,this._mergeOption(l,n)},this)}return i},e.prototype.mergeOption=function(r){this._mergeOption(r,null)},e.prototype._mergeOption=function(r,n){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],u=vt(),l=n&&n.replaceMergeMainTypeMap;QO(this),F(r,function(f,h){f!=null&&(Wt.hasClass(h)?h&&(s.push(h),u.set(h,!0)):i[h]=i[h]==null?kt(f):qt(i[h],f,!0))}),l&&l.each(function(f,h){Wt.hasClass(h)&&!u.get(h)&&(s.push(h),u.set(h,!0))}),Wt.topologicalTravel(s,Wt.getAllClassMainTypes(),c,this);function c(f){var h=EN(this,f,Ir(r[f])),d=a.get(f),v=d?l&&l.get(f)?"replaceMerge":"normalMerge":"replaceAll",g=yk(d,h,v);Mk(g,f,Wt),i[f]=null,a.set(f,null),o.set(f,0);var m=[],y=[],b=0,w;F(g,function(S,D){var M=S.existing,A=S.newOption;if(!A)M&&(M.mergeOption({},this),M.optionUpdated({},!1));else{var k=f==="series",O=Wt.getClass(f,S.keyInfo.subType,!k);if(!O)return;if(f==="tooltip"){if(w)return;w=!0}if(M&&M.constructor===O)M.name=S.keyInfo.name,M.mergeOption(A,this),M.optionUpdated(A,!1);else{var P=_e({componentIndex:D},S.keyInfo);M=new O(A,this,this,P),_e(M,P),S.brandNew&&(M.__requireNewView=!0),M.init(A,this,this),M.optionUpdated(null,!0)}}M?(m.push(M.option),y.push(M),b++):(m.push(void 0),y.push(void 0))},this),i[f]=m,a.set(f,y),o.set(f,b),f==="series"&&Oh(this)}this._seriesIndices||Oh(this)},e.prototype.getOption=function(){var r=kt(this.option);return F(r,function(n,i){if(Wt.hasClass(i)){for(var a=Ir(n),o=a.length,s=!1,u=o-1;u>=0;u--)a[u]&&!Kc(a[u])?s=!0:(a[u]=null,!s&&o--);a.length=o,r[i]=a}}),delete r[d5],r},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(r){this._payload=r},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},e.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,a=r.id,o=r.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var u;return i!=null?(u=[],F(Ir(i),function(l){s[l]&&u.push(s[l])})):a!=null?u=v5("id",a,s):o!=null?u=v5("name",o,s):u=xr(s,function(l){return!!l}),p5(u,r)},e.prototype.findComponents=function(r){var n=r.query,i=r.mainType,a=s(n),o=a?this.queryComponents(a):xr(this._componentsMap.get(i),function(l){return!!l});return u(p5(o,r));function s(l){var c=i+"Index",f=i+"Id",h=i+"Name";return l&&(l[c]!=null||l[f]!=null||l[h]!=null)?{mainType:i,index:l[c],id:l[f],name:l[h]}:null}function u(l){return r.filter?xr(l,r.filter):l}},e.prototype.eachComponent=function(r,n,i){var a=this._componentsMap;if(wt(r)){var o=n,s=r;a.each(function(f,h){for(var d=0;f&&d<f.length;d++){var v=f[d];v&&s.call(o,h,v,v.componentIndex)}})}else for(var u=je(r)?a.get(r):it(r)?this.findComponents(r):null,l=0;u&&l<u.length;l++){var c=u[l];c&&n.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(r){var n=pa(r,null);return xr(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},e.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},e.prototype.getSeriesByType=function(r){return xr(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},e.prototype.getSeries=function(){return xr(this._componentsMap.get("series"),function(r){return!!r})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(r,n){Xl(this),F(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];r.call(n,a,i)},this)},e.prototype.eachRawSeries=function(r,n){F(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(r,n,i){Xl(this),F(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===r&&n.call(i,o,a)},this)},e.prototype.eachRawSeriesByType=function(r,n,i){return F(this.getSeriesByType(r),n,i)},e.prototype.isSeriesFiltered=function(r){return Xl(this),this._seriesIndicesMap.get(r.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(r,n){Xl(this);var i=[];F(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];r.call(n,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=vt(i)},e.prototype.restoreData=function(r){Oh(this);var n=this._componentsMap,i=[];n.each(function(a,o){Wt.hasClass(o)&&i.push(o)}),Wt.topologicalTravel(i,Wt.getAllClassMainTypes(),function(a){F(n.get(a),function(o){o&&(a!=="series"||!ON(o,r))&&o.restoreData()})})},e.internalField=function(){Oh=function(r){var n=r._seriesIndices=[];F(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=vt(n)},Xl=function(r){},h5=function(r,n){r.option={},r.option[d5]=kN,r._componentsMap=vt({series:[]}),r._componentsCount=vt();var i=n.aria;it(i)&&i.enabled==null&&(i.enabled=!0),PN(n,r._theme.option),qt(n,AN,!1),r._mergeOption(n,null)}}(),e}(Sr);function ON(t,e){if(e){var r=e.seriesIndex,n=e.seriesId,i=e.seriesName;return r!=null&&t.componentIndex!==r||n!=null&&t.id!==n||i!=null&&t.name!==i}}function PN(t,e){var r=t.color&&!t.colorLayer;F(e,function(n,i){i==="colorLayer"&&r||Wt.hasClass(i)||(typeof n=="object"?t[i]=t[i]?qt(t[i],n,!1):kt(n):t[i]==null&&(t[i]=n))})}function v5(t,e,r){if(Fe(e)){var n=vt();return F(e,function(a){if(a!=null){var o=pa(a,null);o!=null&&n.set(a,!0)}}),xr(r,function(a){return a&&n.get(a[t])})}else{var i=pa(e,null);return xr(r,function(a){return a&&i!=null&&a[t]===i})}}function p5(t,e){return e.hasOwnProperty("subType")?xr(t,function(r){return r&&r.subType===e.subType}):t}function g5(t){var e=vt();return t&&F(Ir(t.replaceMerge),function(r){e.set(r,!0)}),{replaceMergeMainTypeMap:e}}Ta(y2,h2);var LN=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],WT=function(){function t(e){F(LN,function(r){this[r]=ur(e[r],e)},this)}return t}(),RN=/^(min|max)?(.+)$/,NN=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,r,n){e&&(F(Ir(e.series),function(o){o&&o.data&&Vn(o.data)&&Bd(o.data)}),F(Ir(e.dataset),function(o){o&&o.source&&Vn(o.source)&&Bd(o.source)})),e=kt(e);var i=this._optionBackup,a=FN(e,r,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},t.prototype.mountOption=function(e){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],kt(e?r.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var r,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(r=kt(n[i.getCurrentIndex()]))}return r},t.prototype.getMediaOption=function(e){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var u=0,l=i.length;u<l;u++)zN(i[u].query,r,n)&&o.push(u);return!o.length&&a&&(o=[-1]),o.length&&!$N(o,this._currentMediaIndices)&&(s=Xe(o,function(c){return kt(c===-1?a.option:i[c].option)})),this._currentMediaIndices=o,s},t}();function FN(t,e,r){var n=[],i,a,o=t.baseOption,s=t.timeline,u=t.options,l=t.media,c=!!t.media,f=!!(u||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((f||c)&&(t.options=t.media=null),a=t),c&&Fe(l)&&F(l,function(d){d&&d.option&&(d.query?n.push(d):i||(i=d))}),h(a),F(u,function(d){return h(d)}),F(n,function(d){return h(d.option)});function h(d){F(e,function(v){v(d,r)})}return{baseOption:a,timelineOptions:u||[],mediaDefault:i,mediaList:n}}function zN(t,e,r){var n={width:e,height:r,aspectratio:e/r},i=!0;return F(t,function(a,o){var s=o.match(RN);if(!(!s||!s[1]||!s[2])){var u=s[1],l=s[2].toLowerCase();BN(n[l],a,u)||(i=!1)}}),i}function BN(t,e,r){return r==="min"?t>=e:r==="max"?t<=e:t===e}function $N(t,e){return t.join(",")===e.join(",")}var Di=F,tf=it,m5=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function O0(t){var e=t&&t.itemStyle;if(e)for(var r=0,n=m5.length;r<n;r++){var i=m5[r],a=e.normal,o=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?qt(t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),o&&o[i]&&(t[i]=t[i]||{},t[i].emphasis?qt(t[i].emphasis,o[i]):t[i].emphasis=o[i],o[i]=null)}}function fn(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,i=t[e].emphasis;n&&(r?(t[e].normal=t[e].emphasis=null,It(t[e],n)):t[e]=n),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function dc(t){fn(t,"itemStyle"),fn(t,"lineStyle"),fn(t,"areaStyle"),fn(t,"label"),fn(t,"labelLine"),fn(t,"upperLabel"),fn(t,"edgeLabel")}function Mr(t,e){var r=tf(t)&&t[e],n=tf(r)&&r.textStyle;if(n)for(var i=0,a=Gb.length;i<a;i++){var o=Gb[i];n.hasOwnProperty(o)&&(r[o]=n[o])}}function li(t){t&&(dc(t),Mr(t,"label"),t.emphasis&&Mr(t.emphasis,"label"))}function VN(t){if(tf(t)){O0(t),dc(t),Mr(t,"label"),Mr(t,"upperLabel"),Mr(t,"edgeLabel"),t.emphasis&&(Mr(t.emphasis,"label"),Mr(t.emphasis,"upperLabel"),Mr(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(O0(e),li(e));var r=t.markLine;r&&(O0(r),li(r));var n=t.markArea;n&&li(n);var i=t.data;if(t.type==="graph"){i=i||t.nodes;var a=t.links||t.edges;if(a&&!Vn(a))for(var o=0;o<a.length;o++)li(a[o]);F(t.categories,function(l){dc(l)})}if(i&&!Vn(i))for(var o=0;o<i.length;o++)li(i[o]);if(e=t.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)li(s[o]);if(r=t.markLine,r&&r.data)for(var u=r.data,o=0;o<u.length;o++)Fe(u[o])?(li(u[o][0]),li(u[o][1])):li(u[o]);t.type==="gauge"?(Mr(t,"axisLabel"),Mr(t,"title"),Mr(t,"detail")):t.type==="treemap"?(fn(t.breadcrumb,"itemStyle"),F(t.levels,function(l){dc(l)})):t.type==="tree"&&dc(t.leaves)}}function Pa(t){return Fe(t)?t:t?[t]:[]}function y5(t){return(Fe(t)?t[0]:t)||{}}function HN(t,e){Di(Pa(t.series),function(n){tf(n)&&VN(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Di(r,function(n){Di(Pa(t[n]),function(i){i&&(Mr(i,"axisLabel"),Mr(i.axisPointer,"label"))})}),Di(Pa(t.parallel),function(n){var i=n&&n.parallelAxisDefault;Mr(i,"axisLabel"),Mr(i&&i.axisPointer,"label")}),Di(Pa(t.calendar),function(n){fn(n,"itemStyle"),Mr(n,"dayLabel"),Mr(n,"monthLabel"),Mr(n,"yearLabel")}),Di(Pa(t.radar),function(n){Mr(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Di(Pa(t.geo),function(n){tf(n)&&(li(n),Di(Pa(n.regions),function(i){li(i)}))}),Di(Pa(t.timeline),function(n){li(n),fn(n,"label"),fn(n,"itemStyle"),fn(n,"controlStyle",!0);var i=n.data;Fe(i)&&F(i,function(a){it(a)&&(fn(a,"label"),fn(a,"itemStyle"))})}),Di(Pa(t.toolbox),function(n){fn(n,"iconStyle"),Di(n.feature,function(i){fn(i,"iconStyle")})}),Mr(y5(t.axisPointer),"label"),Mr(y5(t.tooltip).axisPointer,"label")}function GN(t,e){for(var r=e.split(","),n=t,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function WN(t,e,r,n){for(var i=e.split(","),a=t,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];a[i[s]]==null&&(a[i[s]]=r)}function _5(t){t&&F(UN,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var UN=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],qN=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],P0=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Jl(t){var e=t&&t.itemStyle;if(e)for(var r=0;r<P0.length;r++){var n=P0[r][1],i=P0[r][0];e[n]!=null&&(e[i]=e[n])}}function b5(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function w5(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function YN(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function UT(t,e){if(t)for(var r=0;r<t.length;r++)e(t[r]),t[r]&&UT(t[r].children,e)}function qT(t,e){HN(t,e),t.series=Ir(t.series),F(t.series,function(r){if(it(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),b5(r.label);var i=r.data;if(i&&!Vn(i))for(var a=0;a<i.length;a++)b5(i[a]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var o=GN(r,"pointer.color");o!=null&&WN(r,"itemStyle.color",o)}else if(n==="bar"){Jl(r),Jl(r.backgroundStyle),Jl(r.emphasis);var i=r.data;if(i&&!Vn(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Jl(i[a]),Jl(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var s=r.highlightPolicy;s&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=s)),w5(r),UT(r.data,w5)}else n==="graph"||n==="sankey"?YN(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&It(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),_5(r)}}),t.dataRange&&(t.visualMap=t.dataRange),F(qN,function(r){var n=t[r];n&&(Fe(n)||(n=[n]),F(n,function(i){_5(i)}))})}function jN(t){var e=vt();t.eachSeries(function(r){var n=r.get("stack");if(n){var i=e.get(n)||e.set(n,[]),a=r.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:r};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),e.each(KN)}function KN(t){F(t,function(e,r){var n=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(l,c,f){var h=o.get(e.stackedDimension,f);if(isNaN(h))return i;var d,v;s?v=o.getRawIndex(f):d=o.get(e.stackedByDimension,f);for(var g=NaN,m=r-1;m>=0;m--){var y=t[m];if(s||(v=y.data.rawIndexOf(y.stackedByDimension,d)),v>=0){var b=y.data.getByRawIndex(y.stackResultDimension,v);if(u==="all"||u==="positive"&&b>0||u==="negative"&&b<0||u==="samesign"&&h>=0&&b>0||u==="samesign"&&h<=0&&b<0){h=hk(h,b),g=b;break}}}return n[0]=h,n[1]=g,n})})}var wi=function(){function t(){this.group=new Qn,this.uid=tp("viewComponent")}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){},t.prototype.updateLayout=function(e,r,n,i){},t.prototype.updateVisual=function(e,r,n,i){},t.prototype.toggleBlurSeries=function(e,r,n){},t.prototype.eachRendered=function(e){var r=this.group;r&&r.traverse(e)},t}();ky(wi);Vv(wi);var x5=cr(),S5={itemStyle:Yc(gS,!0),lineStyle:Yc(pS,!0)},ZN={lineStyle:"stroke",itemStyle:"fill"};function YT(t,e){var r=t.visualStyleMapper||S5[e];return r||(console.warn("Unknown style type '"+e+"'."),S5.itemStyle)}function jT(t,e){var r=t.visualDrawType||ZN[e];return r||(console.warn("Unknown style type '"+e+"'."),"fill")}var XN={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=t.getModel(n),a=YT(t,n),o=a(i),s=i.getShallow("decal");s&&(r.setVisual("decal",s),s.dirty=!0);var u=jT(t,n),l=o[u],c=wt(l)?l:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[u]||c||f){var h=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[u]||(o[u]=h,r.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||wt(o.fill)?h:o.fill,o.stroke=o.stroke==="auto"||wt(o.stroke)?h:o.stroke}if(r.setVisual("style",o),r.setVisual("drawType",u),!e.isSeriesFiltered(t)&&c)return r.setVisual("colorFromPalette",!1),{dataEach:function(d,v){var g=t.getDataParams(v),m=_e({},o);m[u]=c(g),d.setItemVisual(v,"style",m)}}}},Ql=new Sr,JN={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=YT(t,n),a=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(o,s){var u=o.getRawDataItem(s);if(u&&u[n]){Ql.option=u[n];var l=i(Ql),c=o.ensureUniqueItemVisual(s,"style");_e(c,l),Ql.option.decal&&(o.setItemVisual(s,"decal",Ql.option.decal),Ql.option.decal.dirty=!0),a in l&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},QN={performRawSeries:!0,overallReset:function(t){var e=vt();t.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,a=e.get(i);a||(a={},e.set(i,a)),x5(r).scope=a}}),t.eachSeries(function(r){if(!(r.isColorBySeries()||t.isSeriesFiltered(r))){var n=r.getRawData(),i={},a=r.getData(),o=x5(r).scope,s=r.visualStyleAccessPath||"itemStyle",u=jT(r,s);a.each(function(l){var c=a.getRawIndex(l);i[c]=l}),n.each(function(l){var c=i[l],f=a.getItemVisual(c,"colorFromPalette");if(f){var h=a.ensureUniqueItemVisual(c,"style"),d=n.getName(l)||l+"",v=n.count();h[u]=r.getColorFromPalette(d,o,v)}})}})}},Ph=Math.PI;function eF(t,e){e=e||{},It(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Qn,n=new Ar({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(n);var i=new gn({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Ar({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(a);var o;return e.showSpinner&&(o=new Kv({shape:{startAngle:-Ph/2,endAngle:-Ph/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Ph*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Ph*3/2}).delay(300).start("circularInOut"),r.add(o)),r.resize=function(){var s=i.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-u*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:u),c=t.getHeight()/2;e.showSpinner&&o.setShape({cx:l,cy:c}),a.setShape({x:l-u,y:c-u,width:u*2,height:u*2}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}var KT=function(){function t(e,r,n,i){this._stageTaskMap=vt(),this.ecInstance=e,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return t.prototype.restoreData=function(e,r){e.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},t.prototype.getPerformArgs=function(e,r){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,a=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex,o=a?n.step:null,s=i&&i.modDataCount,u=s!=null?Math.ceil(s/o):null;return{step:o,modBy:u,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,r){var n=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),o=n.progressiveEnabled&&r.incrementalPrepareRender&&a>=n.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),u=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:u,large:s}},t.prototype.restorePipelines=function(e){var r=this,n=r._pipelineMap=vt();e.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),r._pipe(i,i.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,r=this.api.getModel(),n=this.api;F(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),o="";Ga(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,r,n),i.overallReset&&this._createOverallStageTask(i,a,r,n)},this)},t.prototype.prepareView=function(e,r,n,i){var a=e.renderTask,o=a.context;o.model=r,o.ecModel=n,o.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(r,a)},t.prototype.performDataProcessorTasks=function(e,r){this._performStageTasks(this._dataProcessorHandlers,e,r,{block:!0})},t.prototype.performVisualTasks=function(e,r,n){this._performStageTasks(this._visualHandlers,e,r,n)},t.prototype._performStageTasks=function(e,r,n,i){i=i||{};var a=!1,o=this;F(e,function(u,l){if(!(i.visualType&&i.visualType!==u.visualType)){var c=o._stageTaskMap.get(u.uid),f=c.seriesTaskMap,h=c.overallTask;if(h){var d,v=h.agentStubMap;v.each(function(m){s(i,m)&&(m.dirty(),d=!0)}),d&&h.dirty(),o.updatePayload(h,n);var g=o.getPerformArgs(h,i.block);v.each(function(m){m.perform(g)}),h.perform(g)&&(a=!0)}else f&&f.each(function(m,y){s(i,m)&&m.dirty();var b=o.getPerformArgs(m,i.block);b.skip=!u.performRawSeries&&r.isSeriesFiltered(m.context.model),o.updatePayload(m,n),m.perform(b)&&(a=!0)})}});function s(u,l){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(l.__pipeline.id))}this.unfinished=a||this.unfinished},t.prototype.performSeriesTasks=function(e){var r;e.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var r=e.tail;do{if(r.__block){e.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},t.prototype.updatePayload=function(e,r){r!=="remain"&&(e.context.payload=r)},t.prototype._createSeriesStageTask=function(e,r,n,i){var a=this,o=r.seriesTaskMap,s=r.seriesTaskMap=vt(),u=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(c):u?n.eachRawSeriesByType(u,c):l&&l(n,i).each(c);function c(f){var h=f.uid,d=s.set(h,o&&o.get(h)||Lc({plan:aF,reset:oF,count:uF}));d.context={model:f,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(f,d)}},t.prototype._createOverallStageTask=function(e,r,n,i){var a=this,o=r.overallTask=r.overallTask||Lc({reset:tF});o.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,u=o.agentStubMap=vt(),l=e.seriesType,c=e.getTargetSeries,f=!0,h=!1,d="";Ga(!e.createOnAllSeries,d),l?n.eachRawSeriesByType(l,v):c?c(n,i).each(v):(f=!1,F(n.getSeries(),v));function v(g){var m=g.uid,y=u.set(m,s&&s.get(m)||(h=!0,Lc({reset:rF,onDirty:iF})));y.context={model:g,overallProgress:f},y.agent=o,y.__block=f,a._pipe(g,y)}h&&o.dirty()},t.prototype._pipe=function(e,r){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},t.wrapStageHandler=function(e,r){return wt(e)&&(e={overallReset:e,seriesType:lF(e)}),e.uid=tp("stageHandler"),r&&(e.visualType=r),e},t}();function tF(t){t.overallReset(t.ecModel,t.api,t.payload)}function rF(t){return t.overallProgress&&nF}function nF(){this.agent.dirty(),this.getDownstream().dirty()}function iF(){this.agent&&this.agent.dirty()}function aF(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function oF(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Ir(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Xe(e,function(r,n){return ZT(n)}):sF}var sF=ZT(0);function ZT(t){return function(e,r){var n=r.data,i=r.resetDefines[t];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(e,n)}}function uF(t){return t.data.count()}function lF(t){rv=null;try{t(rf,XT)}catch{}return rv}var rf={},XT={},rv;JT(rf,y2);JT(XT,WT);rf.eachSeriesByType=rf.eachRawSeriesByType=function(t){rv=t};rf.eachComponent=function(t){t.mainType==="series"&&t.subType&&(rv=t.subType)};function JT(t,e){for(var r in e.prototype)t[r]=Bn}var T5=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const cF={color:T5,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],T5]};var un="#B9B8CE",M5="#100C2A",Lh=function(){return{axisLine:{lineStyle:{color:un}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},D5=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],QT={darkMode:!0,color:D5,backgroundColor:M5,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:un},pageTextStyle:{color:un}},textStyle:{color:un},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:un}},dataZoom:{borderColor:"#71708A",textStyle:{color:un},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:un}},timeline:{lineStyle:{color:un},label:{color:un},controlStyle:{color:un,borderColor:un}},calendar:{itemStyle:{color:M5},dayLabel:{color:un},monthLabel:{color:un},yearLabel:{color:un}},timeAxis:Lh(),logAxis:Lh(),valueAxis:Lh(),categoryAxis:Lh(),line:{symbol:"circle"},graph:{color:D5},gauge:{title:{color:un},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:un},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};QT.categoryAxis.splitLine.show=!1;var fF=function(){function t(){}return t.prototype.normalizeQuery=function(e){var r={},n={},i={};if(je(e)){var a=ca(e);r.mainType=a.main||null,r.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};F(e,function(u,l){for(var c=!1,f=0;f<o.length;f++){var h=o[f],d=l.lastIndexOf(h);if(d>0&&d===l.length-h.length){var v=l.slice(0,d);v!=="data"&&(r.mainType=v,r[h.toLowerCase()]=u,c=!0)}}s.hasOwnProperty(l)&&(n[l]=u,c=!0),c||(i[l]=u)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},t.prototype.filter=function(e,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var u=r.cptQuery,l=r.dataQuery;return c(u,o,"mainType")&&c(u,o,"subType")&&c(u,o,"index","componentIndex")&&c(u,o,"name")&&c(u,o,"id")&&c(l,a,"name")&&c(l,a,"dataIndex")&&c(l,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,r.otherQuery,i,a));function c(f,h,d,v){return f[d]==null||h[v||d]===f[d]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),mm=["symbol","symbolSize","symbolRotate","symbolOffset"],C5=mm.concat(["symbolKeepAspect"]),hF={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData();if(t.legendIcon&&r.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var n={},i={},a=!1,o=0;o<mm.length;o++){var s=mm[o],u=t.get(s);wt(u)?(a=!0,i[s]=u):n[s]=u}if(n.symbol=n.symbol||t.defaultSymbol,r.setVisual(_e({legendIcon:t.legendIcon||n.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},n)),e.isSeriesFiltered(t))return;var l=or(i);function c(f,h){for(var d=t.getRawValue(h),v=t.getDataParams(h),g=0;g<l.length;g++){var m=l[g];f.setItemVisual(h,m,i[m](d,v))}}return{dataEach:a?c:null}}},dF={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var r=t.getData();function n(i,a){for(var o=i.getItemModel(a),s=0;s<C5.length;s++){var u=C5[s],l=o.getShallow(u,!0);l!=null&&i.setItemVisual(a,u,l)}}return{dataEach:r.hasItemOption?n:null}}};function vF(t,e,r){switch(r){case"color":var n=t.getItemVisual(e,"style");return n[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r)}}function pF(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function vc(t,e,r){for(var n;t&&!(e(t)&&(n=t,r));)t=t.__hostTarget||t.parent;return n}var gF=Math.round(Math.random()*9),mF=typeof Object.defineProperty=="function",yF=function(){function t(){this._id="__ec_inner_"+gF++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,r){var n=this._guard(e);return mF?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}();function Ms(t){return isFinite(t)}function _F(t,e,r){var n=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(n=n*r.width+r.x,i=i*r.width+r.x,a=a*r.height+r.y,o=o*r.height+r.y),n=Ms(n)?n:0,i=Ms(i)?i:1,a=Ms(a)?a:0,o=Ms(o)?o:0;var s=t.createLinearGradient(n,a,i,o);return s}function bF(t,e,r){var n=r.width,i=r.height,a=Math.min(n,i),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,u=e.r==null?.5:e.r;e.global||(o=o*n+r.x,s=s*i+r.y,u=u*a),o=Ms(o)?o:.5,s=Ms(s)?s:.5,u=u>=0&&Ms(u)?u:.5;var l=t.createRadialGradient(o,s,0,o,s,u);return l}function ym(t,e,r){for(var n=e.type==="radial"?bF(t,e,r):_F(t,e,r),i=e.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function wF(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1}function Rh(t){return parseInt(t,10)}function Nh(t,e,r){var n=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var s=document.defaultView.getComputedStyle(t);return(t[i]||Rh(s[n])||Rh(t.style[n]))-(Rh(s[a])||0)-(Rh(s[o])||0)|0}function xF(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:Jt(t)?[t]:Fe(t)?t:null}function e7(t){var e=t.style,r=e.lineDash&&e.lineWidth>0&&xF(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(r){var i=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;i&&i!==1&&(r=Xe(r,function(a){return a/i}),n/=i)}return[r,n]}var SF=new Ro(!0);function nv(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function A5(t){return typeof t=="string"&&t!=="none"}function iv(t){var e=t.fill;return e!=null&&e!=="none"}function I5(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function E5(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function _m(t,e,r){var n=sx(e.image,e.__image,r);if(Hv(n)){var i=t.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*EI),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function TF(t,e,r,n){var i,a=nv(r),o=iv(r),s=r.strokePercent,u=s<1,l=!e.path;(!e.silent||u)&&l&&e.createPathProxy();var c=e.path||SF,f=e.__dirty;if(!n){var h=r.fill,d=r.stroke,v=o&&!!h.colorStops,g=a&&!!d.colorStops,m=o&&!!h.image,y=a&&!!d.image,b=void 0,w=void 0,S=void 0,D=void 0,M=void 0;(v||g)&&(M=e.getBoundingRect()),v&&(b=f?ym(t,h,M):e.__canvasFillGradient,e.__canvasFillGradient=b),g&&(w=f?ym(t,d,M):e.__canvasStrokeGradient,e.__canvasStrokeGradient=w),m&&(S=f||!e.__canvasFillPattern?_m(t,h,e):e.__canvasFillPattern,e.__canvasFillPattern=S),y&&(D=f||!e.__canvasStrokePattern?_m(t,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=S),v?t.fillStyle=b:m&&(S?t.fillStyle=S:o=!1),g?t.strokeStyle=w:y&&(D?t.strokeStyle=D:a=!1)}var A=e.getGlobalScale();c.setScale(A[0],A[1],e.segmentIgnoreThreshold);var k,O;t.setLineDash&&r.lineDash&&(i=e7(e),k=i[0],O=i[1]);var P=!0;(l||f&lc)&&(c.setDPR(t.dpr),u?c.setContext(null):(c.setContext(t),P=!1),c.reset(),e.buildPath(c,e.shape,n),c.toStatic(),e.pathUpdated()),P&&c.rebuildPath(t,u?s:1),k&&(t.setLineDash(k),t.lineDashOffset=O),n||(r.strokeFirst?(a&&E5(t,r),o&&I5(t,r)):(o&&I5(t,r),a&&E5(t,r))),k&&t.setLineDash([])}function MF(t,e,r){var n=e.__image=sx(r.image,e.__image,e,e.onload);if(!(!n||!Hv(n))){var i=r.x||0,a=r.y||0,o=e.getWidth(),s=e.getHeight(),u=n.width/n.height;if(o==null&&s!=null?o=s*u:s==null&&o!=null?s=o/u:o==null&&s==null&&(o=n.width,s=n.height),r.sWidth&&r.sHeight){var l=r.sx||0,c=r.sy||0;t.drawImage(n,l,c,r.sWidth,r.sHeight,i,a,o,s)}else if(r.sx&&r.sy){var l=r.sx,c=r.sy,f=o-l,h=s-c;t.drawImage(n,l,c,f,h,i,a,o,s)}else t.drawImage(n,i,a,o,s)}}function DF(t,e,r){var n,i=r.text;if(i!=null&&(i+=""),i){t.font=r.font||Rs,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var a=void 0,o=void 0;t.setLineDash&&r.lineDash&&(n=e7(e),a=n[0],o=n[1]),a&&(t.setLineDash(a),t.lineDashOffset=o),r.strokeFirst?(nv(r)&&t.strokeText(i,r.x,r.y),iv(r)&&t.fillText(i,r.x,r.y)):(iv(r)&&t.fillText(i,r.x,r.y),nv(r)&&t.strokeText(i,r.x,r.y)),a&&t.setLineDash([])}}var k5=["shadowBlur","shadowOffsetX","shadowOffsetY"],O5=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function t7(t,e,r,n,i){var a=!1;if(!n&&(r=r||{},e===r))return!1;if(n||e.opacity!==r.opacity){Fn(t,i),a=!0;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?ks.opacity:o}(n||e.blend!==r.blend)&&(a||(Fn(t,i),a=!0),t.globalCompositeOperation=e.blend||ks.blend);for(var s=0;s<k5.length;s++){var u=k5[s];(n||e[u]!==r[u])&&(a||(Fn(t,i),a=!0),t[u]=t.dpr*(e[u]||0))}return(n||e.shadowColor!==r.shadowColor)&&(a||(Fn(t,i),a=!0),t.shadowColor=e.shadowColor||ks.shadowColor),a}function P5(t,e,r,n,i){var a=nf(e,i.inHover),o=n?null:r&&nf(r,i.inHover)||{};if(a===o)return!1;var s=t7(t,a,o,n,i);if((n||a.fill!==o.fill)&&(s||(Fn(t,i),s=!0),A5(a.fill)&&(t.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(Fn(t,i),s=!0),A5(a.stroke)&&(t.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(Fn(t,i),s=!0),t.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var u=a.lineWidth,l=u/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(Fn(t,i),s=!0),t.lineWidth=l)}for(var c=0;c<O5.length;c++){var f=O5[c],h=f[0];(n||a[h]!==o[h])&&(s||(Fn(t,i),s=!0),t[h]=a[h]||f[1])}return s}function CF(t,e,r,n,i){return t7(t,nf(e,i.inHover),r&&nf(r,i.inHover),n,i)}function r7(t,e){var r=e.transform,n=t.dpr||1;r?t.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):t.setTransform(n,0,0,n,0,0)}function AF(t,e,r){for(var n=!1,i=0;i<t.length;i++){var a=t[i];n=n||a.isZeroArea(),r7(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}r.allClipped=n}function IF(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var L5=1,R5=2,N5=3,F5=4;function EF(t){var e=iv(t),r=nv(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!="string"||r&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function Fn(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function nf(t,e){return e&&t.__hoverStyle||t.style}function n7(t,e){Ds(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Ds(t,e,r,n){var i=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){e.__dirty&=-2,e.__isRendered=!1;return}var a=e.__clipPaths,o=r.prevElClipPaths,s=!1,u=!1;if((!o||wF(a,o))&&(o&&o.length&&(Fn(t,r),t.restore(),u=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),a&&a.length&&(Fn(t,r),t.save(),AF(a,t,r),s=!0),r.prevElClipPaths=a),r.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var l=r.prevEl;l||(u=s=!0);var c=e instanceof Ot&&e.autoBatch&&EF(e.style);s||IF(i,l.transform)?(Fn(t,r),r7(t,e)):c||Fn(t,r);var f=nf(e,r.inHover);e instanceof Ot?(r.lastDrawType!==L5&&(u=!0,r.lastDrawType=L5),P5(t,e,l,u,r),(!c||!r.batchFill&&!r.batchStroke)&&t.beginPath(),TF(t,e,f,c),c&&(r.batchFill=f.fill||"",r.batchStroke=f.stroke||"")):e instanceof Wd?(r.lastDrawType!==N5&&(u=!0,r.lastDrawType=N5),P5(t,e,l,u,r),DF(t,e,f)):e instanceof $s?(r.lastDrawType!==R5&&(u=!0,r.lastDrawType=R5),CF(t,e,l,u,r),MF(t,e,f)):e.getTemporalDisplayables&&(r.lastDrawType!==F5&&(u=!0,r.lastDrawType=F5),kF(t,e,r)),c&&n&&Fn(t,r),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),r.prevEl=e,e.__dirty=0,e.__isRendered=!0}function kF(t,e,r){var n=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},o,s;for(o=e.getCursor(),s=n.length;o<s;o++){var u=n[o];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),Ds(t,u,a,o===s-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}for(var l=0,c=i.length;l<c;l++){var u=i[l];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),Ds(t,u,a,l===c-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var L0=new yF,z5=new Tf(100),B5=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function bm(t,e){if(t==="none")return null;var r=e.getDevicePixelRatio(),n=e.getZr(),i=n.painter.type==="svg";t.dirty&&L0.delete(t);var a=L0.get(t);if(a)return a;var o=It(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return u(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/r,L0.set(t,s),t.dirty=!1,s;function u(l){for(var c=[r],f=!0,h=0;h<B5.length;++h){var d=o[B5[h]];if(d!=null&&!Fe(d)&&!je(d)&&!Jt(d)&&typeof d!="boolean"){f=!1;break}c.push(d)}var v;if(f){v=c.join(",")+(i?"-svg":"");var g=z5.get(v);g&&(i?l.svgElement=g:l.image=g)}var m=a7(o.dashArrayX),y=OF(o.dashArrayY),b=i7(o.symbol),w=PF(m),S=o7(y),D=!i&&ul.createCanvas(),M=i&&{tag:"g",attrs:{},key:"dcl",children:[]},A=O(),k;D&&(D.width=A.width*r,D.height=A.height*r,k=D.getContext("2d")),P(),f&&z5.put(v,D||M),l.image=D,l.svgElement=M,l.svgWidth=A.width,l.svgHeight=A.height;function O(){for(var R=1,H=0,z=w.length;H<z;++H)R=Vb(R,w[H]);for(var W=1,H=0,z=b.length;H<z;++H)W=Vb(W,b[H].length);R*=W;var ee=S*w.length*b.length;return{width:Math.max(1,Math.min(R,o.maxTileWidth)),height:Math.max(1,Math.min(ee,o.maxTileHeight))}}function P(){k&&(k.clearRect(0,0,D.width,D.height),o.backgroundColor&&(k.fillStyle=o.backgroundColor,k.fillRect(0,0,D.width,D.height)));for(var R=0,H=0;H<y.length;++H)R+=y[H];if(R<=0)return;for(var z=-S,W=0,ee=0,ne=0;z<A.height;){if(W%2===0){for(var he=ee/2%b.length,X=0,te=0,oe=0;X<A.width*2;){for(var Q=0,H=0;H<m[ne].length;++H)Q+=m[ne][H];if(Q<=0)break;if(te%2===0){var ue=(1-o.symbolSize)*.5,pe=X+m[ne][te]*ue,Ee=z+y[W]*ue,Be=m[ne][te]*o.symbolSize,Ye=y[W]*o.symbolSize,Ke=oe/2%b[he].length;Ge(pe,Ee,Be,Ye,b[he][Ke])}X+=m[ne][te],++oe,++te,te===m[ne].length&&(te=0)}++ne,ne===m.length&&(ne=0)}z+=y[W],++ee,++W,W===y.length&&(W=0)}function Ge(ve,et,Ie,be,xe){var Se=i?1:r,Re=v2(xe,ve*Se,et*Se,Ie*Se,be*Se,o.color,o.symbolKeepAspect);if(i){var ut=n.painter.renderOneToVNode(Re);ut&&M.children.push(ut)}else n7(k,Re)}}}}function i7(t){if(!t||t.length===0)return[["rect"]];if(je(t))return[[t]];for(var e=!0,r=0;r<t.length;++r)if(!je(t[r])){e=!1;break}if(e)return i7([t]);for(var n=[],r=0;r<t.length;++r)je(t[r])?n.push([t[r]]):n.push(t[r]);return n}function a7(t){if(!t||t.length===0)return[[0,0]];if(Jt(t)){var e=Math.ceil(t);return[[e,e]]}for(var r=!0,n=0;n<t.length;++n)if(!Jt(t[n])){r=!1;break}if(r)return a7([t]);for(var i=[],n=0;n<t.length;++n)if(Jt(t[n])){var e=Math.ceil(t[n]);i.push([e,e])}else{var e=Xe(t[n],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function OF(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(Jt(t)){var e=Math.ceil(t);return[e,e]}var r=Xe(t,function(n){return Math.ceil(n)});return t.length%2?r.concat(r):r}function PF(t){return Xe(t,function(e){return o7(e)})}function o7(t){for(var e=0,r=0;r<t.length;++r)e+=t[r];return t.length%2===1?e*2:e}function LF(t,e){t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var u=n.ensureUniqueItemVisual(o,"style");u.decal=bm(s,e)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=bm(i,e)}}})}var Oi=new Ma,s7={};function RF(t,e){s7[t]=e}function NF(t){return s7[t]}var FF=1,zF=800,BF=900,$F=1e3,VF=2e3,HF=5e3,u7=1e3,GF=1100,_2=2e3,l7=3e3,WF=4e3,lp=4500,UF=4600,qF=5e3,YF=6e3,c7=7e3,jF={PROCESSOR:{FILTER:$F,SERIES_FILTER:zF,STATISTIC:HF},VISUAL:{LAYOUT:u7,PROGRESSIVE_LAYOUT:GF,GLOBAL:_2,CHART:l7,POST_CHART_LAYOUT:UF,COMPONENT:WF,BRUSH:qF,CHART_ITEM:lp,ARIA:YF,DECAL:c7}},sn="__flagInMainProcess",kn="__pendingUpdate",R0="__needsUpdateStatus",$5=/^[a-zA-Z0-9_]+$/,N0="__connectUpdateStatus",V5=0,KF=1,ZF=2;function f7(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this.isDisposed()){this.id;return}return d7(this,t,e)}}function h7(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return d7(this,t,e)}}function d7(t,e,r){return r[0]=r[0]&&r[0].toLowerCase(),Ma.prototype[e].apply(t,r)}var v7=function(t){ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ma),p7=v7.prototype;p7.on=h7("on");p7.off=h7("off");var du,F0,Fh,co,z0,B0,$0,ec,tc,H5,G5,V0,W5,zh,U5,g7,ii,q5,m7=function(t){ze(e,t);function e(r,n,i){var a=t.call(this,new fF)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},je(n)&&(n=y7[n]),a._dom=r;var o="canvas",s="auto",u=!1;i.ssr;var l=a._zr=f5(r,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:bt(i.useDirtyRect,u),useCoarsePointer:bt(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=g2(ur(l.flush,l),17),n=kt(n),n&&qT(n,!0),a._theme=n,a._locale=ZP(i.locale||US),a._coordSysMgr=new a2;var c=a._api=U5(a);function f(h,d){return h.__prio-d.__prio}return md(ov,f),md(wm,f),a._scheduler=new KT(a,c,wm,ov),a._messageCenter=new v7,a._initEvents(),a.resize=ur(a.resize,a),l.animation.on("frame",a._onframe,a),H5(l,a),G5(l,a),Bd(a),a}return e.prototype._onframe=function(){if(!this._disposed){q5(this);var r=this._scheduler;if(this[kn]){var n=this[kn].silent;this[sn]=!0;try{du(this),co.update.call(this,null,this[kn].updateParams)}catch(u){throw this[sn]=!1,this[kn]=null,u}this._zr.flush(),this[sn]=!1,this[kn]=null,ec.call(this,n),tc.call(this,n)}else if(r.unfinished){var i=FF,a=this._model,o=this._api;r.unfinished=!1;do{var s=+new Date;r.performSeriesTasks(a),r.performDataProcessorTasks(a),B0(this,a),r.performVisualTasks(a),zh(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(r,n,i){if(!this[sn]){if(this._disposed){this.id;return}var a,o,s;if(it(n)&&(i=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[sn]=!0,!this._model||n){var u=new NN(this._api),l=this._theme,c=this._model=new y2;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,l,this._locale,u)}this._model.setOption(r,{replaceMerge:o},xm);var f={seriesTransition:s,optionChanged:!0};if(i)this[kn]={silent:a,updateParams:f},this[sn]=!1,this.getZr().wakeUp();else{try{du(this),co.update.call(this,null,f)}catch(h){throw this[kn]=null,this[sn]=!1,h}this._ssr||this._zr.flush(),this[kn]=null,this[sn]=!1,ec.call(this,a),tc.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||ht.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},e.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},e.prototype.getSvgDataURL=function(){if(ht.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return F(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()}},e.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,a=[],o=this;F(n,function(u){i.eachComponent({mainType:u},function(l){var c=o._componentsMap[l.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return F(a,function(u){u.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(Y5[i]){var u=s,l=s,c=-s,f=-s,h=[],d=r&&r.pixelRatio||this.getDevicePixelRatio();F(Nc,function(w,S){if(w.group===i){var D=n?w.getZr().painter.getSvgDom().innerHTML:w.renderToCanvas(kt(r)),M=w.getDom().getBoundingClientRect();u=a(M.left,u),l=a(M.top,l),c=o(M.right,c),f=o(M.bottom,f),h.push({dom:D,left:M.left,top:M.top})}}),u*=d,l*=d,c*=d,f*=d;var v=c-u,g=f-l,m=ul.createCanvas(),y=f5(m,{renderer:n?"svg":"canvas"});if(y.resize({width:v,height:g}),n){var b="";return F(h,function(w){var S=w.left-u,D=w.top-l;b+='<g transform="translate('+S+","+D+')">'+w.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=b,r.connectedBackgroundColor&&y.painter.setBackgroundColor(r.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}else return r.connectedBackgroundColor&&y.add(new Ar({shape:{x:0,y:0,width:v,height:g},style:{fill:r.connectedBackgroundColor}})),F(h,function(w){var S=new $s({style:{x:w.left*d-u,y:w.top*d-l,image:w.dom}});y.add(S)}),y.refreshImmediately(),m.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},e.prototype.convertToPixel=function(r,n){return z0(this,"convertToPixel",r,n)},e.prototype.convertFromPixel=function(r,n){return z0(this,"convertFromPixel",r,n)},e.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,a,o=e0(i,r);return F(o,function(s,u){u.indexOf("Models")>=0&&F(s,function(l){var c=l.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(u==="seriesModels"){var f=this._chartsMap[l.__viewId];f&&f.containPoint&&(a=a||f.containPoint(n,l))}},this)},this),!!a},e.prototype.getVisual=function(r,n){var i=this._model,a=e0(i,r,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),u=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return u!=null?vF(s,u,n):pF(s,n)},e.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},e.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},e.prototype._initEvents=function(){var r=this;F(XF,function(n){var i=function(a){var o=r.getModel(),s=a.target,u,l=n==="globalout";if(l?u={}:s&&vc(s,function(v){var g=$t(v);if(g&&g.dataIndex!=null){var m=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return u=m&&m.getDataParams(g.dataIndex,g.dataType,s)||{},!0}else if(g.eventData)return u=_e({},g.eventData),!0},!0),u){var c=u.componentType,f=u.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",f=u.seriesIndex);var h=c&&f!=null&&o.getComponent(c,f),d=h&&r[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];u.event=a,u.type=n,r._$eventProcessor.eventInfo={targetEl:s,packedEvent:u,model:h,view:d},r.trigger(n,u)}};i.zrEventfulCallAtLast=!0,r._zr.on(n,i,r)}),F(Rc,function(n,i){r._messageCenter.on(i,function(a){this.trigger(i,a)},r)}),F(["selectchanged"],function(n){r._messageCenter.on(n,function(i){this.trigger(n,i)},r)}),kR(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&zx(this.getDom(),w2,"");var n=this,i=n._api,a=n._model;F(n._componentsViews,function(o){o.dispose(a,i)}),F(n._chartsViews,function(o){o.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Nc[n.id]},e.prototype.resize=function(r){if(!this[sn]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=r&&r.silent;this[kn]&&(a==null&&(a=this[kn].silent),i=!0,this[kn]=null),this[sn]=!0;try{i&&du(this),co.update.call(this,{type:"resize",animation:_e({duration:0},r&&r.animation)})}catch(o){throw this[sn]=!1,o}this[sn]=!1,ec.call(this,a),tc.call(this,a)}}},e.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(it(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!Sm[r]){var i=Sm[r](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(r){var n=_e({},r);return n.type=Rc[r.type],n},e.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(it(n)||(n={silent:!!n}),!!av[r.type]&&this._model){if(this[sn]){this._pendingActions.push(r);return}var i=n.silent;$0.call(this,r,i);var a=n.flush;a?this._zr.flush():a!==!1&&ht.browser.weChat&&this._throttledZrFlush(),ec.call(this,i),tc.call(this,i)}},e.prototype.updateLabelLayout=function(){Oi.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){du=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),F0(f,!0),F0(f,!1),h.plan()},F0=function(f,h){for(var d=f._model,v=f._scheduler,g=h?f._componentsViews:f._chartsViews,m=h?f._componentsMap:f._chartsMap,y=f._zr,b=f._api,w=0;w<g.length;w++)g[w].__alive=!1;h?d.eachComponent(function(M,A){M!=="series"&&S(A)}):d.eachSeries(S);function S(M){var A=M.__requireNewView;M.__requireNewView=!1;var k="_ec_"+M.id+"_"+M.type,O=!A&&m[k];if(!O){var P=ca(M.type),R=h?wi.getClass(P.main,P.sub):Ha.getClass(P.sub);O=new R,O.init(d,b),m[k]=O,g.push(O),y.add(O.group)}M.__viewId=O.__id=k,O.__alive=!0,O.__model=M,O.group.__ecComponentInfo={mainType:M.mainType,index:M.componentIndex},!h&&v.prepareView(O,M,d,b)}for(var w=0;w<g.length;){var D=g[w];D.__alive?w++:(!h&&D.renderTask.dispose(),y.remove(D.group),D.dispose(d,b),g.splice(w,1),m[D.__id]===D&&delete m[D.__id],D.__id=D.group.__ecComponentInfo=null)}},Fh=function(f,h,d,v,g){var m=f._model;if(m.setUpdatePayload(d),!v){F([].concat(f._componentsViews).concat(f._chartsViews),D);return}var y={};y[v+"Id"]=d[v+"Id"],y[v+"Index"]=d[v+"Index"],y[v+"Name"]=d[v+"Name"];var b={mainType:v,query:y};g&&(b.subType=g);var w=d.excludeSeriesId,S;w!=null&&(S=vt(),F(Ir(w),function(M){var A=pa(M,null);A!=null&&S.set(A,!0)})),m&&m.eachComponent(b,function(M){var A=S&&S.get(M.id)!=null;if(!A)if(Xb(d))if(M instanceof wa)d.type===Os&&!d.notBlur&&!M.get(["emphasis","disabled"])&&Hk(M,d,f._api);else{var k=Uy(M.mainType,M.componentIndex,d.name,f._api),O=k.focusSelf,P=k.dispatchers;d.type===Os&&O&&!d.notBlur&&Kg(M.mainType,M.componentIndex,f._api),P&&F(P,function(R){d.type===Os?qg(R):Yg(R)})}else Jg(d)&&M instanceof wa&&(Uk(M,d,f._api),Kb(M),ii(f))},f),m&&m.eachComponent(b,function(M){var A=S&&S.get(M.id)!=null;A||D(f[v==="series"?"_chartsMap":"_componentsMap"][M.__viewId])},f);function D(M){M&&M.__alive&&M[h]&&M[h](M.__model,m,f._api,d)}},co={prepareAndUpdate:function(f){du(this),co.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,h){var d=this._model,v=this._api,g=this._zr,m=this._coordSysMgr,y=this._scheduler;if(d){d.setUpdatePayload(f),y.restoreData(d,f),y.performSeriesTasks(d),m.create(d,v),y.performDataProcessorTasks(d,f),B0(this,d),m.update(d,v),r(d),y.performVisualTasks(d,f),V0(this,d,v,f,h);var b=d.get("backgroundColor")||"transparent",w=d.get("darkMode");g.setBackgroundColor(b),w!=null&&w!=="auto"&&g.setDarkMode(w),Oi.trigger("afterupdate",d,v)}},updateTransform:function(f){var h=this,d=this._model,v=this._api;if(d){d.setUpdatePayload(f);var g=[];d.eachComponent(function(y,b){if(y!=="series"){var w=h.getViewOfComponentModel(b);if(w&&w.__alive)if(w.updateTransform){var S=w.updateTransform(b,d,v,f);S&&S.update&&g.push(w)}else g.push(w)}});var m=vt();d.eachSeries(function(y){var b=h._chartsMap[y.__viewId];if(b.updateTransform){var w=b.updateTransform(y,d,v,f);w&&w.update&&m.set(y.uid,1)}else m.set(y.uid,1)}),r(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0,dirtyMap:m}),zh(this,d,v,f,{},m),Oi.trigger("afterupdate",d,v)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),Ha.markUpdateMethod(f,"updateView"),r(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),V0(this,h,this._api,f,{}),Oi.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,d=this._model;d&&(d.setUpdatePayload(f),d.eachSeries(function(v){v.getData().clearAllVisual()}),Ha.markUpdateMethod(f,"updateVisual"),r(d),this._scheduler.performVisualTasks(d,f,{visualType:"visual",setDirty:!0}),d.eachComponent(function(v,g){if(v!=="series"){var m=h.getViewOfComponentModel(g);m&&m.__alive&&m.updateVisual(g,d,h._api,f)}}),d.eachSeries(function(v){var g=h._chartsMap[v.__viewId];g.updateVisual(v,d,h._api,f)}),Oi.trigger("afterupdate",d,this._api))},updateLayout:function(f){co.update.call(this,f)}},z0=function(f,h,d,v){if(f._disposed){f.id;return}for(var g=f._model,m=f._coordSysMgr.getCoordinateSystems(),y,b=e0(g,d),w=0;w<m.length;w++){var S=m[w];if(S[h]&&(y=S[h](g,b,v))!=null)return y}},B0=function(f,h){var d=f._chartsMap,v=f._scheduler;h.eachSeries(function(g){v.updateStreamModes(g,d[g.__viewId])})},$0=function(f,h){var d=this,v=this.getModel(),g=f.type,m=f.escapeConnect,y=av[g],b=y.actionInfo,w=(b.update||"update").split(":"),S=w.pop(),D=w[0]!=null&&ca(w[0]);this[sn]=!0;var M=[f],A=!1;f.batch&&(A=!0,M=Xe(f.batch,function(W){return W=It(_e({},W),f),W.batch=null,W}));var k=[],O,P=Jg(f),R=Xb(f);if(R&&jx(this._api),F(M,function(W){if(O=y.action(W,d._model,d._api),O=O||_e({},W),O.type=b.event||O.type,k.push(O),R){var ee=$y(f),ne=ee.queryOptionMap,he=ee.mainTypeSpecified,X=he?ne.keys()[0]:"series";Fh(d,S,W,X),ii(d)}else P?(Fh(d,S,W,"series"),ii(d)):D&&Fh(d,S,W,D.main,D.sub)}),S!=="none"&&!R&&!P&&!D)try{this[kn]?(du(this),co.update.call(this,f),this[kn]=null):co[S].call(this,f)}catch(W){throw this[sn]=!1,W}if(A?O={type:b.event||g,escapeConnect:m,batch:k}:O=k[0],this[sn]=!1,!h){var H=this._messageCenter;if(H.trigger(O.type,O),P){var z={type:"selectchanged",escapeConnect:m,selected:qk(v),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};H.trigger(z.type,z)}}},ec=function(f){for(var h=this._pendingActions;h.length;){var d=h.shift();$0.call(this,d,f)}},tc=function(f){!f&&this.trigger("updated")},H5=function(f,h){f.on("rendered",function(d){h.trigger("rendered",d),f.animation.isFinished()&&!h[kn]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},G5=function(f,h){f.on("mouseover",function(d){var v=d.target,g=vc(v,Xg);g&&(Gk(g,d,h._api),ii(h))}).on("mouseout",function(d){var v=d.target,g=vc(v,Xg);g&&(Wk(g,d,h._api),ii(h))}).on("click",function(d){var v=d.target,g=vc(v,function(b){return $t(b).dataIndex!=null},!0);if(g){var m=g.selected?"unselect":"select",y=$t(g);h._api.dispatchAction({type:m,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})};function r(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function n(f){var h=[],d=[],v=!1;if(f.eachComponent(function(b,w){var S=w.get("zlevel")||0,D=w.get("z")||0,M=w.getZLevelKey();v=v||!!M,(b==="series"?d:h).push({zlevel:S,z:D,idx:w.componentIndex,type:b,key:M})}),v){var g=h.concat(d),m,y;md(g,function(b,w){return b.zlevel===w.zlevel?b.z-w.z:b.zlevel-w.zlevel}),F(g,function(b){var w=f.getComponent(b.type,b.idx),S=b.zlevel,D=b.key;m!=null&&(S=Math.max(m,S)),D?(S===m&&D!==y&&S++,y=D):y&&(S===m&&S++,y=""),m=S,w.setZLevel(S)})}}V0=function(f,h,d,v,g){n(h),W5(f,h,d,v,g),F(f._chartsViews,function(m){m.__alive=!1}),zh(f,h,d,v,g),F(f._chartsViews,function(m){m.__alive||m.remove(h,d)})},W5=function(f,h,d,v,g,m){F(m||f._componentsViews,function(y){var b=y.__model;l(b,y),y.render(b,h,d,v),s(b,y),c(b,y)})},zh=function(f,h,d,v,g,m){var y=f._scheduler;g=_e(g||{},{updatedSeries:h.getSeries()}),Oi.trigger("series:beforeupdate",h,d,g);var b=!1;h.eachSeries(function(w){var S=f._chartsMap[w.__viewId];S.__alive=!0;var D=S.renderTask;y.updatePayload(D,v),l(w,S),m&&m.get(w.uid)&&D.dirty(),D.perform(y.getPerformArgs(D))&&(b=!0),S.group.silent=!!w.get("silent"),o(w,S),Kb(w)}),y.unfinished=b||y.unfinished,Oi.trigger("series:layoutlabels",h,d,g),Oi.trigger("series:transition",h,d,g),h.eachSeries(function(w){var S=f._chartsMap[w.__viewId];s(w,S),c(w,S)}),a(f,h),Oi.trigger("series:afterupdate",h,d,g)},ii=function(f){f[R0]=!0,f.getZr().wakeUp()},q5=function(f){f[R0]&&(f.getZr().storage.traverse(function(h){Bu(h)||i(h)}),f[R0]=!1)};function i(f){for(var h=[],d=f.currentStates,v=0;v<d.length;v++){var g=d[v];g==="emphasis"||g==="blur"||g==="select"||h.push(g)}f.selected&&f.states.select&&h.push("select"),f.hoverState===Gy&&f.states.emphasis?h.push("emphasis"):f.hoverState===Hy&&f.states.blur&&h.push("blur"),f.useStates(h)}function a(f,h){var d=f._zr,v=d.storage,g=0;v.traverse(function(m){m.isGroup||g++}),g>h.get("hoverLayerThreshold")&&!ht.node&&!ht.worker&&h.eachSeries(function(m){if(!m.preventUsingHoverLayer){var y=f._chartsMap[m.__viewId];y.__alive&&y.eachRendered(function(b){b.states.emphasis&&(b.states.emphasis.hoverLayer=!0)})}})}function o(f,h){var d=f.get("blendMode")||null;h.eachRendered(function(v){v.isGroup||(v.style.blend=d)})}function s(f,h){if(!f.preventAutoZ){var d=f.get("z")||0,v=f.get("zlevel")||0;h.eachRendered(function(g){return u(g,d,v,-1/0),!0})}}function u(f,h,d,v){var g=f.getTextContent(),m=f.getTextGuideLine(),y=f.isGroup;if(y)for(var b=f.childrenRef(),w=0;w<b.length;w++)v=Math.max(u(b[w],h,d,v),v);else f.z=h,f.zlevel=d,v=Math.max(f.z2,v);if(g&&(g.z=h,g.zlevel=d,isFinite(v)&&(g.z2=v+2)),m){var S=f.textGuideLineConfig;m.z=h,m.zlevel=d,isFinite(v)&&(m.z2=v+(S&&S.showAbove?1:-1))}return v}function l(f,h){h.eachRendered(function(d){if(!Bu(d)){var v=d.getTextContent(),g=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function c(f,h){var d=f.getModel("stateAnimation"),v=f.isAnimationEnabled(),g=d.get("duration"),m=g>0?{duration:g,delay:d.get("delay"),easing:d.get("easing")}:null;h.eachRendered(function(y){if(y.states&&y.states.emphasis){if(Bu(y))return;if(y instanceof Ot&&Xk(y),y.__dirty){var b=y.prevStates;b&&y.useStates(b)}if(v){y.stateTransition=m;var w=y.getTextContent(),S=y.getTextGuideLine();w&&(w.stateTransition=m),S&&(S.stateTransition=m)}y.__dirty&&i(y)}})}U5=function(f){return new(function(h){ze(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(v){for(;v;){var g=v.__ecComponentInfo;if(g!=null)return f._model.getComponent(g.mainType,g.index);v=v.parent}},d.prototype.enterEmphasis=function(v,g){qg(v,g),ii(f)},d.prototype.leaveEmphasis=function(v,g){Yg(v,g),ii(f)},d.prototype.enterBlur=function(v){Vk(v),ii(f)},d.prototype.leaveBlur=function(v){Wx(v),ii(f)},d.prototype.enterSelect=function(v){Ux(v),ii(f)},d.prototype.leaveSelect=function(v){qx(v),ii(f)},d.prototype.getModel=function(){return f.getModel()},d.prototype.getViewOfComponentModel=function(v){return f.getViewOfComponentModel(v)},d.prototype.getViewOfSeriesModel=function(v){return f.getViewOfSeriesModel(v)},d}(WT))(f)},g7=function(f){function h(d,v){for(var g=0;g<d.length;g++){var m=d[g];m[N0]=v}}F(Rc,function(d,v){f._messageCenter.on(v,function(g){if(Y5[f.group]&&f[N0]!==V5){if(g&&g.escapeConnect)return;var m=f.makeActionFromEvent(g),y=[];F(Nc,function(b){b!==f&&b.group===f.group&&y.push(b)}),h(y,V5),F(y,function(b){b[N0]!==KF&&b.dispatchAction(m)}),h(y,ZF)}})})}}(),e}(Ma),b2=m7.prototype;b2.on=f7("on");b2.off=f7("off");b2.one=function(t,e,r){var n=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),n.off(t,i)}this.on.call(this,t,i,r)};var XF=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var av={},Rc={},wm=[],xm=[],ov=[],y7={},Sm={},Nc={},Y5={},JF=+new Date-0,w2="_echarts_instance_";function Tm(t,e,r){var n=!(r&&r.ssr);if(n){var i=QF(t);if(i)return i}var a=new m7(t,e,r);return a.id="ec_"+JF++,Nc[a.id]=a,n&&zx(t,w2,a.id),g7(a),Oi.trigger("afterinit",a),a}function QF(t){return Nc[Ak(t,w2)]}function _7(t,e){y7[t]=e}function b7(t){Ut(xm,t)<0&&xm.push(t)}function w7(t,e){S2(wm,t,e,VF)}function ez(t){x2("afterinit",t)}function tz(t){x2("afterupdate",t)}function x2(t,e){Oi.on(t,e)}function dl(t,e,r){wt(e)&&(r=e,e="");var n=it(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,!Rc[e]&&(Ga($5.test(n)&&$5.test(e)),av[n]||(av[n]={action:r,actionInfo:t}),Rc[e]=n)}function rz(t,e){a2.register(t,e)}function nz(t,e){S2(ov,t,e,u7,"layout")}function Vs(t,e){S2(ov,t,e,l7,"visual")}var j5=[];function S2(t,e,r,n,i){if((wt(e)||it(e))&&(r=e,e=n),!(Ut(j5,r)>=0)){j5.push(r);var a=KT.wrapStageHandler(r,i);a.__prio=e,a.__raw=r,t.push(a)}}function x7(t,e){Sm[t]=e}function iz(t,e,r){var n=NF("registerMap");n&&n(t,e,r)}var az=bL;Vs(_2,XN);Vs(lp,JN);Vs(lp,QN);Vs(_2,hF);Vs(lp,dF);Vs(c7,LF);b7(qT);w7(BF,jN);x7("default",eF);dl({type:Os,event:Os,update:Os},Bn);dl({type:cd,event:cd,update:cd},Bn);dl({type:Ic,event:Ic,update:Ic},Bn);dl({type:fd,event:fd,update:fd},Bn);dl({type:Ec,event:Ec,update:Ec},Bn);_7("light",cF);_7("dark",QT);var K5=[],oz={registerPreprocessor:b7,registerProcessor:w7,registerPostInit:ez,registerPostUpdate:tz,registerUpdateLifecycle:x2,registerAction:dl,registerCoordinateSystem:rz,registerLayout:nz,registerVisual:Vs,registerTransform:az,registerLoading:x7,registerMap:iz,registerImpl:RF,PRIORITY:jF,ComponentModel:Wt,ComponentView:wi,SeriesModel:wa,ChartView:Ha,registerComponentModel:function(t){Wt.registerClass(t)},registerComponentView:function(t){wi.registerClass(t)},registerSeriesModel:function(t){wa.registerClass(t)},registerChartView:function(t){Ha.registerClass(t)},registerSubTypeDefaulter:function(t,e){Wt.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){CN(t,e)}};function Bo(t){if(Fe(t)){F(t,function(e){Bo(e)});return}Ut(K5,t)>=0||(K5.push(t),wt(t)&&(t={install:t}),t.install(oz))}var sz=function(t){ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Wt),uz=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}(),Mm=function(t){ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Ni).models[0]},e.type="cartesian2dAxis",e}(Wt);Ta(Mm,uz);var S7={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},lz=qt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},S7),T2=qt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},S7),cz=qt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},T2),fz=It({logBase:10},T2);const hz={category:lz,value:T2,time:cz,log:fz};var dz=0,Dm=function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++dz}return t.createByAxisModel=function(e){var r=e.option,n=r.data,i=n&&Xe(n,vz);return new t({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var r,n=this._needCollect;if(!je(e)&&!n)return e;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=e,r;var i=this._getOrCreateMap();return r=i.get(e),r==null&&(n?(r=this.categories.length,this.categories[r]=e,i.set(e,r)):r=NaN),r},t.prototype._getOrCreateMap=function(){return this._map||(this._map=vt(this.categories))},t}();function vz(t){return it(t)&&t.value!=null?t.value:t+""}var pz={value:1,category:1,time:1,log:1};function Z5(t,e,r,n){F(pz,function(i,a){var o=qt(qt({},hz[a],!0),n,!0),s=function(u){ze(l,u);function l(){var c=u!==null&&u.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return l.prototype.mergeDefaultAndTheme=function(c,f){var h=Qc(this),d=h?up(c):{},v=f.getTheme();qt(c,v.get(a+"Axis")),qt(c,this.getDefaultOption()),c.type=X5(c),h&&Ju(c,d,h)},l.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Dm.createByAxisModel(this))},l.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=e+"Axis."+a,l.defaultOption=o,l}(r);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",X5)}function X5(t){return t.type||(t.data?"category":"value")}var Ca=function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1])},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,r){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(r)||(n[1]=r)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t}();Vv(Ca);function Cm(t){return t.type==="interval"||t.type==="log"}function gz(t,e,r,n){var i={},a=t[1]-t[0],o=i.interval=Px(a/e);r!=null&&o<r&&(o=i.interval=r),n!=null&&o>n&&(o=i.interval=n);var s=i.intervalPrecision=T7(o),u=i.niceTickExtent=[Lr(Math.ceil(t[0]/o)*o,s),Lr(Math.floor(t[1]/o)*o,s)];return mz(u,t),i}function H0(t){var e=Math.pow(10,zy(t)),r=t/e;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Lr(r*e)}function T7(t){return za(t)+2}function J5(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function mz(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),J5(t,0,e),J5(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function cp(t,e){return t>=e[0]&&t<=e[1]}function fp(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function hp(t,e){return t*(e[1]-e[0])+e[0]}var M2=function(t){ze(e,t);function e(r){var n=t.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new Dm({})),Fe(i)&&(i=new Dm({categories:Xe(i,function(a){return it(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return e.prototype.parse=function(r){return r==null?NaN:je(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},e.prototype.contain=function(r){return r=this.parse(r),cp(r,this._extent)&&this._ordinalMeta.categories[r]!=null},e.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),fp(r,this._extent)},e.prototype.scale=function(r){return r=Math.round(hp(r,this._extent)),this.getRawOrdinalNumber(r)},e.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},e.prototype.getMinorTicks=function(r){},e.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,u=Math.min(s,n.length);o<u;++o){var l=n[o];i[o]=l,a[l]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;i.push(c),a[c]=o}},e.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},e.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Ca);Ca.registerClass(M2);var vs=Lr,vl=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return cp(r,this._extent)},e.prototype.normalize=function(r){return fp(r,this._extent)},e.prototype.scale=function(r){return hp(r,this._extent)},e.prototype.setExtent=function(r,n){var i=this._extent;isNaN(r)||(i[0]=parseFloat(r)),isNaN(n)||(i[1]=parseFloat(n))},e.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=T7(r)},e.prototype.getTicks=function(r){var n=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!n)return s;var u=1e4;i[0]<a[0]&&(r?s.push({value:vs(a[0]-n,o)}):s.push({value:i[0]}));for(var l=a[0];l<=a[1]&&(s.push({value:l}),l=vs(l+n,o),l!==s[s.length-1].value);)if(s.length>u)return[];var c=s.length?s[s.length-1].value:a[1];return i[1]>c&&(r?s.push({value:vs(c+n,o)}):s.push({value:i[1]})),s},e.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<n.length;o++){for(var s=n[o],u=n[o-1],l=0,c=[],f=s.value-u.value,h=f/r;l<r-1;){var d=vs(u.value+(l+1)*h);d>a[0]&&d<a[1]&&c.push(d),l++}i.push(c)}return i},e.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=za(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=vs(r.value,i,!0);return tT(a)},e.prototype.calcNiceTicks=function(r,n,i){r=r||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=gz(a,r,n,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var o=this._interval;r.fixMin||(n[0]=vs(Math.floor(n[0]/o)*o)),r.fixMax||(n[1]=vs(Math.ceil(n[1]/o)*o))},e.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},e.type="interval",e}(Ca);Ca.registerClass(vl);var yz=function(t,e,r,n){for(;r<n;){var i=r+n>>>1;t[i][1]<e?r=i+1:n=i}return r},M7=function(t){ze(e,t);function e(r){var n=t.call(this,r)||this;return n.type="time",n}return e.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return rp(r.value,D3[eL(Vu(this._minLevelUnit))]||D3.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(r,n,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return tL(r,n,i,o,a)},e.prototype.getTicks=function(){var r=this._interval,n=this._extent,i=[];if(!r)return i;i.push({value:n[0],level:0});var a=this.getSetting("useUTC"),o=Mz(this._minLevelUnit,this._approxInterval,a,n);return i=i.concat(o),i.push({value:n[1],level:0}),i},e.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=vi,n[1]+=vi),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-vi}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},e.prototype.calcNiceTicks=function(r,n,i){r=r||10;var a=this._extent,o=a[1]-a[0];this._approxInterval=o/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=Bh.length,u=Math.min(yz(Bh,this._approxInterval,0,s),s-1);this._interval=Bh[u][1],this._minLevelUnit=Bh[Math.max(u-1,0)][0]},e.prototype.parse=function(r){return Jt(r)?r:+Wa(r)},e.prototype.contain=function(r){return cp(this.parse(r),this._extent)},e.prototype.normalize=function(r){return fp(this.parse(r),this._extent)},e.prototype.scale=function(r){return hp(r,this._extent)},e.type="time",e}(vl),Bh=[["second",u2],["minute",l2],["hour",Oc],["quarter-day",Oc*6],["half-day",Oc*12],["day",vi*1.2],["half-week",vi*3.5],["week",vi*7],["month",vi*31],["quarter",vi*95],["half-year",M3/2],["year",M3]];function _z(t,e,r,n){var i=Wa(e),a=Wa(r),o=function(v){return C3(i,v,n)===C3(a,v,n)},s=function(){return o("year")},u=function(){return s()&&o("month")},l=function(){return u()&&o("day")},c=function(){return l()&&o("hour")},f=function(){return c()&&o("minute")},h=function(){return f()&&o("second")},d=function(){return h()&&o("millisecond")};switch(t){case"year":return s();case"month":return u();case"day":return l();case"hour":return c();case"minute":return f();case"second":return h();case"millisecond":return d()}}function bz(t,e){return t/=vi,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function wz(t){var e=30*vi;return t/=e,t>6?6:t>3?3:t>2?2:1}function xz(t){return t/=Oc,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function Q5(t,e){return t/=e?l2:u2,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function Sz(t){return Px(t)}function Tz(t,e,r){var n=new Date(t);switch(Vu(e)){case"year":case"month":n[KS(r)](0);case"day":n[ZS(r)](1);case"hour":n[XS(r)](0);case"minute":n[JS(r)](0);case"second":n[QS(r)](0),n[eT(r)](0)}return n.getTime()}function Mz(t,e,r,n){var i=1e4,a=YS,o=0;function s(P,R,H,z,W,ee,ne){for(var he=new Date(R),X=R,te=he[z]();X<H&&X<=n[1];)ne.push({value:X}),te+=P,he[W](te),X=he.getTime();ne.push({value:X,notAdd:!0})}function u(P,R,H){var z=[],W=!R.length;if(!_z(Vu(P),n[0],n[1],r)){W&&(R=[{value:Tz(new Date(n[0]),P,r)},{value:n[1]}]);for(var ee=0;ee<R.length-1;ee++){var ne=R[ee].value,he=R[ee+1].value;if(ne!==he){var X=void 0,te=void 0,oe=void 0,Q=!1;switch(P){case"year":X=Math.max(1,Math.round(e/vi/365)),te=c2(r),oe=rL(r);break;case"half-year":case"quarter":case"month":X=wz(e),te=Hu(r),oe=KS(r);break;case"week":case"half-week":case"day":X=bz(e),te=np(r),oe=ZS(r),Q=!0;break;case"half-day":case"quarter-day":case"hour":X=xz(e),te=Xc(r),oe=XS(r);break;case"minute":X=Q5(e,!0),te=ip(r),oe=JS(r);break;case"second":X=Q5(e,!1),te=ap(r),oe=QS(r);break;case"millisecond":X=Sz(e),te=op(r),oe=eT(r);break}s(X,ne,he,te,oe,Q,z),P==="year"&&H.length>1&&ee===0&&H.unshift({value:H[0].value-X})}}for(var ee=0;ee<z.length;ee++)H.push(z[ee]);return z}}for(var l=[],c=[],f=0,h=0,d=0;d<a.length&&o++<i;++d){var v=Vu(a[d]);if(QP(a[d])){u(a[d],l[l.length-1]||[],c);var g=a[d+1]?Vu(a[d+1]):null;if(v!==g){if(c.length){h=f,c.sort(function(P,R){return P.value-R.value});for(var m=[],y=0;y<c.length;++y){var b=c[y].value;(y===0||c[y-1].value!==b)&&(m.push(c[y]),b>=n[0]&&b<=n[1]&&f++)}var w=(n[1]-n[0])/e;if(f>w*1.5&&h>w/1.5||(l.push(m),f>w||t===a[d]))break}c=[]}}}for(var S=xr(Xe(l,function(P){return xr(P,function(R){return R.value>=n[0]&&R.value<=n[1]&&!R.notAdd})}),function(P){return P.length>0}),D=[],M=S.length-1,d=0;d<S.length;++d)for(var A=S[d],k=0;k<A.length;++k)D.push({value:A[k].value,level:M-d});D.sort(function(P,R){return P.value-R.value});for(var O=[],d=0;d<D.length;++d)(d===0||D[d].value!==D[d-1].value)&&O.push(D[d]);return O}Ca.registerClass(M7);var ew=Ca.prototype,Fc=vl.prototype,Dz=Lr,Cz=Math.floor,Az=Math.ceil,$h=Math.pow,Ci=Math.log,D2=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new vl,r._interval=0,r}return e.prototype.getTicks=function(r){var n=this._originalScale,i=this._extent,a=n.getExtent(),o=Fc.getTicks.call(this,r);return Xe(o,function(s){var u=s.value,l=Lr($h(this.base,u));return l=u===i[0]&&this._fixMin?Vh(l,a[0]):l,l=u===i[1]&&this._fixMax?Vh(l,a[1]):l,{value:l}},this)},e.prototype.setExtent=function(r,n){var i=Ci(this.base);r=Ci(Math.max(0,r))/i,n=Ci(Math.max(0,n))/i,Fc.setExtent.call(this,r,n)},e.prototype.getExtent=function(){var r=this.base,n=ew.getExtent.call(this);n[0]=$h(r,n[0]),n[1]=$h(r,n[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(n[0]=Vh(n[0],a[0])),this._fixMax&&(n[1]=Vh(n[1],a[1])),n},e.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=Ci(r[0])/Ci(n),r[1]=Ci(r[1])/Ci(n),ew.unionExtent.call(this,r)},e.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},e.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var a=vk(i),o=r/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[Lr(Az(n[0]/a)*a),Lr(Cz(n[1]/a)*a)];this._interval=a,this._niceExtent=s}},e.prototype.calcNiceExtent=function(r){Fc.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return r=Ci(r)/Ci(this.base),cp(r,this._extent)},e.prototype.normalize=function(r){return r=Ci(r)/Ci(this.base),fp(r,this._extent)},e.prototype.scale=function(r){return r=hp(r,this._extent),$h(this.base,r)},e.type="log",e}(Ca),D7=D2.prototype;D7.getMinorTicks=Fc.getMinorTicks;D7.getLabel=Fc.getLabel;function Vh(t,e){return Dz(t,za(e))}Ca.registerClass(D2);var Iz=function(){function t(e,r,n){this._prepareParams(e,r,n)}return t.prototype._prepareParams=function(e,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var a=r.get("min",!0);a==null&&(a=r.get("startValue",!0));var o=this._modelMinRaw=a;wt(o)?this._modelMinNum=Hh(e,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=Hh(e,o));var s=this._modelMaxRaw=r.get("max",!0);if(wt(s)?this._modelMaxNum=Hh(e,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=Hh(e,s)),i)this._axisDataLen=r.getCategories().length;else{var u=r.get("boundaryGap"),l=Fe(u)?u:[u||0,u||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Po(l[0],1),Po(l[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=e?null:n-r||Math.abs(r),s=this._modelMinRaw==="dataMin"?r:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,l=s!=null,c=u!=null;s==null&&(s=e?i?0:NaN:r-a[0]*o),u==null&&(u=e?i?i-1:NaN:n+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(u==null||!isFinite(u))&&(u=NaN);var f=zd(s)||zd(u)||e&&!i;this._needCrossZero&&(s>0&&u>0&&!l&&(s=0),s<0&&u<0&&!c&&(u=0));var h=this._determinedMin,d=this._determinedMax;return h!=null&&(s=h,l=!0),d!=null&&(u=d,c=!0),{min:s,max:u,minFixed:l,maxFixed:c,isBlank:f}},t.prototype.modifyDataMinMax=function(e,r){this[kz[e]]=r},t.prototype.setDeterminedMinMax=function(e,r){var n=Ez[e];this[n]=r},t.prototype.freeze=function(){this.frozen=!0},t}(),Ez={min:"_determinedMin",max:"_determinedMax"},kz={min:"_dataMin",max:"_dataMax"};function Oz(t,e,r){var n=t.rawExtentInfo;return n||(n=new Iz(t,e,r),t.rawExtentInfo=n,n)}function Hh(t,e){return e==null?null:zd(e)?NaN:t.parse(e)}function C7(t,e){var r=t.type,n=Oz(t,e,t.getExtent()).calculate();t.setBlank(n.isBlank);var i=n.min,a=n.max,o=e.ecModel;if(o&&r==="time"){var s=mT("bar",o),u=!1;if(F(s,function(f){u=u||f.getBaseAxis()===e.axis}),u){var l=yT(s),c=Pz(i,a,e,l);i=c.min,a=c.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function Pz(t,e,r,n){var i=r.axis.getExtent(),a=Math.abs(i[1]-i[0]),o=fR(n,r.axis);if(o===void 0)return{min:t,max:e};var s=1/0;F(o,function(d){s=Math.min(d.offset,s)});var u=-1/0;F(o,function(d){u=Math.max(d.offset+d.width,u)}),s=Math.abs(s),u=Math.abs(u);var l=s+u,c=e-t,f=1-(s+u)/a,h=c/f-c;return e+=h*(u/l),t-=h*(s/l),{min:t,max:e}}function tw(t,e){var r=e,n=C7(t,r),i=n.extent,a=r.get("splitNumber");t instanceof D2&&(t.base=r.get("logBase"));var o=t.type,s=r.get("interval"),u=o==="interval"||o==="time";t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:u?r.get("minInterval"):null,maxInterval:u?r.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function Lz(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new M2({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new M7({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(Ca.getClass(e)||vl)}}function Rz(t){var e=t.scale.getExtent(),r=e[0],n=e[1];return!(r>0&&n>0||r<0&&n<0)}function pl(t){var e=t.getLabelModel().get("formatter"),r=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(n){return function(i,a){return t.scale.getFormattedLabel(i,a,n)}}(e):je(e)?function(n){return function(i){var a=t.scale.getLabel(i),o=n.replace("{value}",a??"");return o}}(e):wt(e)?function(n){return function(i,a){return r!=null&&(a=i.value-r),n(C2(t,i),a,i.level!=null?{level:i.level}:null)}}(e):function(n){return t.scale.getLabel(n)}}function C2(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function Nz(t){var e=t.model,r=t.scale;if(!(!e.get(["axisLabel","show"])||r.isBlank())){var n,i,a=r.getExtent();r instanceof M2?i=r.count():(n=r.getTicks(),i=n.length);var o=t.getLabelModel(),s=pl(t),u,l=1;i>40&&(l=Math.ceil(i/40));for(var c=0;c<i;c+=l){var f=n?n[c]:{value:a[0]+c},h=s(f,c),d=o.getTextRect(h),v=Fz(d,o.get("rotate")||0);u?u.union(v):u=v}return u}}function Fz(t,e){var r=e*Math.PI/180,n=t.width,i=t.height,a=n*Math.abs(Math.cos(r))+Math.abs(i*Math.sin(r)),o=n*Math.abs(Math.sin(r))+Math.abs(i*Math.cos(r)),s=new Nt(t.x,t.y,a,o);return s}function A2(t){var e=t.get("interval");return e??"auto"}function A7(t){return t.type==="category"&&A2(t.getLabelModel())===0}function zz(t,e){var r={};return F(t.mapDimensionsAll(e),function(n){r[LP(t,n)]=!0}),or(r)}var Bz=function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return Xe(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),xr(this.getAxes(),function(r){return r.scale.type===e})},t.prototype.addAxis=function(e){var r=e.dim;this._axes[r]=e,this._dimList.push(r)},t}(),Am=["x","y"];function rw(t){return t.type==="interval"||t.type==="time"}var $z=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=Am,r}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!rw(r)||!rw(n))){var i=r.getExtent(),a=n.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),u=i[1]-i[0],l=a[1]-a[0];if(!(!u||!l)){var c=(s[0]-o[0])/u,f=(s[1]-o[1])/l,h=o[0]-i[0]*c,d=o[1]-a[0]*f,v=this._transform=[c,0,0,f,h,d];this._invTransform=Gv([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},e.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},e.prototype.containZone=function(r,n){var i=this.dataToPoint(r),a=this.dataToPoint(n),o=this.getArea(),s=new Nt(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(r,n,i){i=i||[];var a=r[0],o=r[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return _i(i,r,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,n)),i[1]=u.toGlobalCoord(u.dataToCoord(o,n)),i},e.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),u=i.parse(r[0]),l=a.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n},e.prototype.pointToData=function(r,n){var i=[];if(this._invTransform)return _i(i,r,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(r[0]),n),i[1]=o.coordToData(o.toLocalCoord(r[1]),n),i},e.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},e.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-r,o=Math.min(i[0],i[1])-r,s=Math.max(n[0],n[1])-a+r,u=Math.max(i[0],i[1])-o+r;return new Nt(a,o,s,u)},e}(Bz),af=cr();function I7(t,e){var r=Xe(e,function(n){return t.scale.parse(n)});return t.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function Vz(t){var e=t.getLabelModel().get("customValues");if(e){var r=pl(t),n=t.scale.getExtent(),i=I7(t,e),a=xr(i,function(o){return o>=n[0]&&o<=n[1]});return{labels:Xe(a,function(o){var s={value:o};return{formattedLabel:r(s),rawLabel:t.scale.getLabel(s),tickValue:o}})}}return t.type==="category"?Gz(t):Uz(t)}function Hz(t,e){var r=t.getTickModel().get("customValues");if(r){var n=t.scale.getExtent(),i=I7(t,r);return{ticks:xr(i,function(a){return a>=n[0]&&a<=n[1]})}}return t.type==="category"?Wz(t,e):{ticks:Xe(t.scale.getTicks(),function(a){return a.value})}}function Gz(t){var e=t.getLabelModel(),r=E7(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function E7(t,e){var r=k7(t,"labels"),n=A2(e),i=O7(r,n);if(i)return i;var a,o;return wt(n)?a=R7(t,n):(o=n==="auto"?qz(t):n,a=L7(t,o)),P7(r,n,{labels:a,labelCategoryInterval:o})}function Wz(t,e){var r=k7(t,"ticks"),n=A2(e),i=O7(r,n);if(i)return i;var a,o;if((!e.get("show")||t.scale.isBlank())&&(a=[]),wt(n))a=R7(t,n,!0);else if(n==="auto"){var s=E7(t,t.getLabelModel());o=s.labelCategoryInterval,a=Xe(s.labels,function(u){return u.tickValue})}else o=n,a=L7(t,o,!0);return P7(r,n,{ticks:a,tickCategoryInterval:o})}function Uz(t){var e=t.scale.getTicks(),r=pl(t);return{labels:Xe(e,function(n,i){return{level:n.level,formattedLabel:r(n,i),rawLabel:t.scale.getLabel(n),tickValue:n.value}})}}function k7(t,e){return af(t)[e]||(af(t)[e]=[])}function O7(t,e){for(var r=0;r<t.length;r++)if(t[r].key===e)return t[r].value}function P7(t,e,r){return t.push({key:e,value:r}),r}function qz(t){var e=af(t).autoInterval;return e??(af(t).autoInterval=t.calculateCategoryInterval())}function Yz(t){var e=jz(t),r=pl(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=a[0],l=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(l*Math.cos(n)),f=Math.abs(l*Math.sin(n)),h=0,d=0;u<=a[1];u+=s){var v=0,g=0,m=Ly(r({value:u}),e.font,"center","top");v=m.width*1.3,g=m.height*1.3,h=Math.max(h,v,7),d=Math.max(d,g,7)}var y=h/c,b=d/f;isNaN(y)&&(y=1/0),isNaN(b)&&(b=1/0);var w=Math.max(0,Math.floor(Math.min(y,b))),S=af(t.model),D=t.getExtent(),M=S.lastAutoInterval,A=S.lastTickCount;return M!=null&&A!=null&&Math.abs(M-w)<=1&&Math.abs(A-o)<=1&&M>w&&S.axisExtent0===D[0]&&S.axisExtent1===D[1]?w=M:(S.lastTickCount=o,S.lastAutoInterval=w,S.axisExtent0=D[0],S.axisExtent1=D[1]),w}function jz(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function L7(t,e,r){var n=pl(t),i=t.scale,a=i.getExtent(),o=t.getLabelModel(),s=[],u=Math.max((e||0)+1,1),l=a[0],c=i.count();l!==0&&u>1&&c/u>2&&(l=Math.round(Math.ceil(l/u)*u));var f=A7(t),h=o.get("showMinLabel")||f,d=o.get("showMaxLabel")||f;h&&l!==a[0]&&g(a[0]);for(var v=l;v<=a[1];v+=u)g(v);d&&v-u!==a[1]&&g(a[1]);function g(m){var y={value:m};s.push(r?m:{formattedLabel:n(y),rawLabel:i.getLabel(y),tickValue:m})}return s}function R7(t,e,r){var n=t.scale,i=pl(t),a=[];return F(n.getTicks(),function(o){var s=n.getLabel(o),u=o.value;e(o.value,s)&&a.push(r?u:{formattedLabel:i(o),rawLabel:s,tickValue:u})}),a}var nw=[0,1],Kz=function(){function t(e,r,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=r,this._extent=n||[0,0]}return t.prototype.contain=function(e){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return e>=n&&e<=i},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return ck(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,r){var n=this._extent;n[0]=e,n[1]=r},t.prototype.dataToCoord=function(e,r){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(n=n.slice(),iw(n,i.count())),Wg(e,nw,n,r)},t.prototype.coordToData=function(e,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),iw(n,i.count()));var a=Wg(e,n,nw,r);return this.scale.scale(a)},t.prototype.pointToData=function(e,r){},t.prototype.getTicksCoords=function(e){e=e||{};var r=e.tickModel||this.getTickModel(),n=Hz(this,r),i=n.ticks,a=Xe(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=r.get("alignWithLabel");return Zz(this,a,o,e.clamp),a},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),r=e.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=Xe(n,function(a){return Xe(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},t.prototype.getViewLabels=function(){return Vz(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return Yz(this)},t}();function iw(t,e){var r=t[1]-t[0],n=e,i=r/n/2;t[0]+=i,t[1]-=i}function Zz(t,e,r,n){var i=e.length;if(!t.onBand||r||!i)return;var a=t.getExtent(),o,s;if(i===1)e[0].coord=a[0],o=e[1]={coord:a[1],tickValue:e[0].tickValue};else{var u=e[i-1].tickValue-e[0].tickValue,l=(e[i-1].coord-e[0].coord)/u;F(e,function(d){d.coord-=l/2});var c=t.scale.getExtent();s=1+c[1]-e[i-1].tickValue,o={coord:e[i-1].coord+l*s,tickValue:c[1]+1},e.push(o)}var f=a[0]>a[1];h(e[0].coord,a[0])&&(n?e[0].coord=a[0]:e.shift()),n&&h(a[0],e[0].coord)&&e.unshift({coord:a[0]}),h(a[1],o.coord)&&(n?o.coord=a[1]:e.pop()),n&&h(o.coord,a[1])&&e.push({coord:a[1]});function h(d,v){return d=Lr(d),v=Lr(v),f?d>v:d<v}}var Xz=function(t){ze(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},e.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},e}(Kz);function Im(t,e,r){r=r||{};var n=t.coordinateSystem,i=e.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,u=o?"onZero":s,l=i.dim,c=n.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,v=l==="x"?[f[2]-d,f[3]+d]:[f[0]-d,f[1]+d];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));v[h.onZero]=Math.max(Math.min(g,v[1]),v[0])}a.position=[l==="y"?v[h[u]]:f[0],l==="x"?v[h[u]]:f[3]],a.rotation=Math.PI/2*(l==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=m[s],a.labelOffset=o?v[h[s]]-v[h.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),qc(r.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var y=e.get(["axisLabel","rotate"]);return a.labelRotate=u==="top"?-y:y,a.z2=1,a}function aw(t){return t.get("coordinateSystem")==="cartesian2d"}function ow(t){var e={xAxisModel:null,yAxisModel:null};return F(e,function(r,n){var i=n.replace(/Model$/,""),a=t.getReferringComponents(i,Ni).models[0];e[n]=a}),e}var G0=Math.log;function Jz(t,e,r){var n=vl.prototype,i=n.getTicks.call(r),a=n.getTicks.call(r,!0),o=i.length-1,s=n.getInterval.call(r),u=C7(t,e),l=u.extent,c=u.fixMin,f=u.fixMax;if(t.type==="log"){var h=G0(t.base);l=[G0(l[0])/h,G0(l[1])/h]}t.setExtent(l[0],l[1]),t.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var d=n.getExtent.call(t);c&&(l[0]=d[0]),f&&(l[1]=d[1]);var v=n.getInterval.call(t),g=l[0],m=l[1];if(c&&f)v=(m-g)/o;else if(c)for(m=l[0]+v*o;m<l[1]&&isFinite(m)&&isFinite(l[1]);)v=H0(v),m=l[0]+v*o;else if(f)for(g=l[1]-v*o;g>l[0]&&isFinite(g)&&isFinite(l[0]);)v=H0(v),g=l[1]-v*o;else{var y=t.getTicks().length-1;y>o&&(v=H0(v));var b=v*o;m=Math.ceil(l[1]/v)*v,g=Lr(m-b),g<0&&l[0]>=0?(g=0,m=Lr(b)):m>0&&l[1]<=0&&(m=0,g=-Lr(b))}var w=(i[0].value-a[0].value)/s,S=(i[o].value-a[o].value)/s;n.setExtent.call(t,g+v*w,m+v*S),n.setInterval.call(t,v),(w||S)&&n.setNiceExtent.call(t,g+v,m-v)}var Qz=function(){function t(e,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Am,this._initCartesian(e,r,n),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,r){var n=this._axesMap;this._updateScale(e,this.model);function i(o){var s,u=or(o),l=u.length;if(l){for(var c=[],f=l-1;f>=0;f--){var h=+u[f],d=o[h],v=d.model,g=d.scale;Cm(g)&&v.get("alignTicks")&&v.get("interval")==null?c.push(d):(tw(g,v),Cm(g)&&(s=d))}c.length&&(s||(s=c.pop(),tw(s.scale,s.model)),F(c,function(m){Jz(m.scale,m.model,s.scale)}))}}i(n.x),i(n.y);var a={};F(n.x,function(o){sw(n,"y",o,a)}),F(n.y,function(o){sw(n,"x",o,a)}),this.resize(this.model,r)},t.prototype.resize=function(e,r,n){var i=e.getBoxLayoutParams(),a=!n&&e.get("containLabel"),o=Xu(i,{width:r.getWidth(),height:r.getHeight()});this._rect=o;var s=this._axesList;u(),a&&(F(s,function(l){if(!l.model.get(["axisLabel","inside"])){var c=Nz(l);if(c){var f=l.isHorizontal()?"height":"width",h=l.model.get(["axisLabel","margin"]);o[f]-=c[f]+h,l.position==="top"?o.y+=c.height+h:l.position==="left"&&(o.x+=c.width+h)}}}),u()),F(this._coordsList,function(l){l.calcAffineTransform()});function u(){F(s,function(l){var c=l.isHorizontal(),f=c?[0,o.width]:[0,o.height],h=l.inverse?1:0;l.setExtent(f[h],f[1-h]),eB(l,c?o.x:o.y)})}},t.prototype.getAxis=function(e,r){var n=this._axesMap[e];if(n!=null)return n[r||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,r){if(e!=null&&r!=null){var n="x"+e+"y"+r;return this._coordsMap[n]}it(e)&&(r=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===r)return a[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(e,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(e){var r=e.seriesModel,n=e.xAxisModel||r&&r.getReferringComponents("xAxis",Ni).models[0],i=e.yAxisModel||r&&r.getReferringComponents("yAxis",Ni).models[0],a=e.gridModel,o=this._coordsList,s,u;if(r)s=r.coordinateSystem,Ut(o,s)<0&&(s=null);else if(n&&i)s=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)u=this.getAxis("x",n.componentIndex);else if(i)u=this.getAxis("y",i.componentIndex);else if(a){var l=a.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},t.prototype.containPoint=function(e){var r=this._coordsList[0];if(r)return r.containPoint(e)},t.prototype._initCartesian=function(e,r,n){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(r.eachComponent("xAxis",l("x"),this),r.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,F(s.x,function(c,f){F(s.y,function(h,d){var v="x"+f+"y"+d,g=new $z(v);g.master=i,g.model=e,i._coordsMap[v]=g,i._coordsList.push(g),g.addAxis(c),g.addAxis(h)})});function l(c){return function(f,h){if(W0(f,e)){var d=f.get("position");c==="x"?d!=="top"&&d!=="bottom"&&(d=o.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=o.left?"right":"left"),o[d]=!0;var v=new Xz(c,Lz(f),[0,0],f.get("type"),d),g=v.type==="category";v.onBand=g&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.grid=a,v.index=h,a._axesList.push(v),s[c][h]=v,u[c]++}}}},t.prototype._updateScale=function(e,r){F(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(aw(i)){var a=ow(i),o=a.xAxisModel,s=a.yAxisModel;if(!W0(o,r)||!W0(s,r))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),l=i.getData(),c=u.getAxis("x"),f=u.getAxis("y");n(l,c),n(l,f)}},this);function n(i,a){F(zz(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},t.prototype.getTooltipAxes=function(e){var r=[],n=[];return F(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(a);Ut(r,a)<0&&r.push(a),Ut(n,o)<0&&n.push(o)}),{baseAxes:r,otherAxes:n}},t.create=function(e,r){var n=[];return e.eachComponent("grid",function(i,a){var o=new t(i,e,r);o.name="grid_"+a,o.resize(i,r,!0),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(i){if(aw(i)){var a=ow(i),o=a.xAxisModel,s=a.yAxisModel,u=o.getCoordSysModel(),l=u.coordinateSystem;i.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),n},t.dimensions=Am,t}();function W0(t,e){return t.getCoordSysModel()===e}function sw(t,e,r,n){r.getAxesOnZeroOf=function(){return a?[a]:[]};var i=t[e],a,o=r.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)uw(i[u])&&(a=i[u]);else for(var l in i)if(i.hasOwnProperty(l)&&uw(i[l])&&!n[c(i[l])]){a=i[l];break}a&&(n[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function uw(t){return t&&t.type!=="category"&&t.type!=="time"&&Rz(t)}function eB(t,e){var r=t.getExtent(),n=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(i){return i+e}:function(i){return n-i+e},t.toLocalCoord=t.dim==="x"?function(i){return i-e}:function(i){return n-i+e}}var xo=Math.PI,Co=function(){function t(e,r){this.group=new Qn,this.opt=r,this.axisModel=e,It(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Qn({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(e){return!!lw[e]},t.prototype.add=function(e){lw[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,r,n){var i=Ox(r-e),a,o;return Ud(i)?(o=n>0?"top":"bottom",a="center"):Ud(i-xo)?(o=n>0?"bottom":"top",a="center"):(o="middle",i>0&&i<xo?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},t.makeAxisEventDataBase=function(e){var r={componentType:e.mainType,componentIndex:e.componentIndex};return r[e.mainType+"Index"]=e.componentIndex,r},t.isLabelSilent=function(e){var r=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||r&&r.show)},t}(),lw={axisLine:function(t,e,r,n){var i=e.get(["axisLine","show"]);if(i==="auto"&&t.handleAutoShown&&(i=t.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),o=n.transform,s=[a[0],0],u=[a[1],0],l=s[0]>u[0];o&&(_i(s,s,o),_i(u,u,o));var c=_e({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new Fo({shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});Zc(f.shape,f.style.lineWidth),f.anid="line",r.add(f);var h=e.get(["axisLine","symbol"]);if(h!=null){var d=e.get(["axisLine","symbolSize"]);je(h)&&(h=[h,h]),(je(d)||Jt(d))&&(d=[d,d]);var v=jL(e.get(["axisLine","symbolOffset"])||0,d),g=d[0],m=d[1];F([{rotate:t.rotation+Math.PI/2,offset:v[0],r:0},{rotate:t.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],function(y,b){if(h[b]!=="none"&&h[b]!=null){var w=v2(h[b],-g/2,-m/2,g,m,c.stroke,!0),S=y.r+y.offset,D=l?u:s;w.attr({rotation:y.rotate,x:D[0]+S*Math.cos(t.rotation),y:D[1]-S*Math.sin(t.rotation),silent:!0,z2:11}),r.add(w)}})}}},axisTickLabel:function(t,e,r,n){var i=nB(r,n,e,t),a=aB(r,n,e,t);if(rB(e,a,i),iB(r,n,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=kT(Xe(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));LT(o)}},axisName:function(t,e,r,n){var i=qc(t.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),o=t.nameDirection,s=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,l=e.axis.getExtent(),c=l[0]>l[1]?-1:1,f=[a==="start"?l[0]-c*u:a==="end"?l[1]+c*u:(l[0]+l[1])/2,fw(a)?t.labelOffset+o*u:0],h,d=e.get("nameRotate");d!=null&&(d=d*xo/180);var v;fw(a)?h=Co.innerTextLayout(t.rotation,d??t.rotation,o):(h=tB(t.rotation,a,d||0,l),v=t.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(h.rotation)),!isFinite(v)&&(v=null)));var g=s.getFont(),m=e.get("nameTruncate",!0)||{},y=m.ellipsis,b=qc(t.nameTruncateMaxWidth,m.maxWidth,v),w=new gn({x:f[0],y:f[1],rotation:h.rotation,silent:Co.isLabelSilent(e),style:zo(s,{text:i,font:g,overflow:"truncate",width:b,ellipsis:y,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(Xv({el:w,componentModel:e,itemName:i}),w.__fullText=i,w.anid="name",e.get("triggerEvent")){var S=Co.makeAxisEventDataBase(e);S.targetType="axisName",S.name=i,$t(w).eventData=S}n.add(w),w.updateTransform(),r.add(w),w.decomposeTransform()}}};function tB(t,e,r,n){var i=Ox(r-t),a,o,s=n[0]>n[1],u=e==="start"&&!s||e!=="start"&&s;return Ud(i-xo/2)?(o=u?"bottom":"top",a="center"):Ud(i-xo*1.5)?(o=u?"top":"bottom",a="center"):(o="middle",i<xo*1.5&&i>xo/2?a=u?"left":"right":a=u?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function rB(t,e,r){if(!A7(t.axis)){var n=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]);e=e||[],r=r||[];var a=e[0],o=e[1],s=e[e.length-1],u=e[e.length-2],l=r[0],c=r[1],f=r[r.length-1],h=r[r.length-2];n===!1?(ai(a),ai(l)):cw(a,o)&&(n?(ai(o),ai(c)):(ai(a),ai(l))),i===!1?(ai(s),ai(f)):cw(u,s)&&(i?(ai(u),ai(h)):(ai(s),ai(f)))}}function ai(t){t&&(t.ignore=!0)}function cw(t,e){var r=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(!(!r||!n)){var i=Oy([]);return Py(i,i,-t.rotation),r.applyTransform(Nu([],i,t.getLocalTransform())),n.applyTransform(Nu([],i,e.getLocalTransform())),r.intersect(n)}}function fw(t){return t==="middle"||t==="center"}function N7(t,e,r,n,i){for(var a=[],o=[],s=[],u=0;u<t.length;u++){var l=t[u].coord;o[0]=l,o[1]=0,s[0]=l,s[1]=r,e&&(_i(o,o,e),_i(s,s,e));var c=new Fo({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});Zc(c.shape,c.style.lineWidth),c.anid=i+"_"+t[u].tickValue,a.push(c)}return a}function nB(t,e,r,n){var i=r.axis,a=r.getModel("axisTick"),o=a.get("show");if(o==="auto"&&n.handleAutoShown&&(o=n.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=a.getModel("lineStyle"),u=n.tickDirection*a.get("length"),l=i.getTicksCoords(),c=N7(l,e.transform,u,It(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)t.add(c[f]);return c}}function iB(t,e,r,n){var i=r.axis,a=r.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),u=n*a.get("length"),l=It(s.getLineStyle(),It(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var f=N7(o[c],e.transform,u,l,"minorticks_"+c),h=0;h<f.length;h++)t.add(f[h])}}function aB(t,e,r,n){var i=r.axis,a=qc(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var o=r.getModel("axisLabel"),s=o.get("margin"),u=i.getViewLabels(),l=(qc(n.labelRotate,o.get("rotate"))||0)*xo/180,c=Co.innerTextLayout(n.rotation,l,n.labelDirection),f=r.getCategories&&r.getCategories(!0),h=[],d=Co.isLabelSilent(r),v=r.get("triggerEvent");return F(u,function(g,m){var y=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,b=g.formattedLabel,w=g.rawLabel,S=o;if(f&&f[y]){var D=f[y];it(D)&&D.textStyle&&(S=new Sr(D.textStyle,o,r.ecModel))}var M=S.getTextColor()||r.get(["axisLine","lineStyle","color"]),A=i.dataToCoord(y),k=S.getShallow("align",!0)||c.textAlign,O=bt(S.getShallow("alignMinLabel",!0),k),P=bt(S.getShallow("alignMaxLabel",!0),k),R=S.getShallow("verticalAlign",!0)||S.getShallow("baseline",!0)||c.textVerticalAlign,H=bt(S.getShallow("verticalAlignMinLabel",!0),R),z=bt(S.getShallow("verticalAlignMaxLabel",!0),R),W=new gn({x:A,y:n.labelOffset+n.labelDirection*s,rotation:c.rotation,silent:d,z2:10+(g.level||0),style:zo(S,{text:b,align:m===0?O:m===u.length-1?P:k,verticalAlign:m===0?H:m===u.length-1?z:R,fill:wt(M)?M(i.type==="category"?w:i.type==="value"?y+"":y,m):M})});if(W.anid="label_"+y,Xv({el:W,componentModel:r,itemName:b,formatterParamsExtra:{isTruncated:function(){return W.isTruncated},value:w,tickIndex:m}}),v){var ee=Co.makeAxisEventDataBase(r);ee.targetType="axisLabel",ee.value=w,ee.tickIndex=m,i.type==="category"&&(ee.dataIndex=y),$t(W).eventData=ee}e.add(W),W.updateTransform(),h.push(W),t.add(W),W.decomposeTransform()}),h}}function oB(t,e){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return sB(r,t,e),r.seriesInvolved&&lB(r,t),r}function sB(t,e,r){var n=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];F(r.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var u=of(s.model),l=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=s;var c=s.model,f=c.getModel("tooltip",n);if(F(s.getAxes(),Cr(g,!1,null)),s.getTooltipAxes&&n&&f.get("show")){var h=f.get("trigger")==="axis",d=f.get(["axisPointer","type"])==="cross",v=s.getTooltipAxes(f.get(["axisPointer","axis"]));(h||d)&&F(v.baseAxes,Cr(g,d?"cross":!0,h)),d&&F(v.otherAxes,Cr(g,"cross",!1))}function g(m,y,b){var w=b.model.getModel("axisPointer",i),S=w.get("show");if(!(!S||S==="auto"&&!m&&!Em(w))){y==null&&(y=w.get("triggerTooltip")),w=m?uB(b,f,i,e,m,y):w;var D=w.get("snap"),M=w.get("triggerEmphasis"),A=of(b.model),k=y||D||b.type==="category",O=t.axesInfo[A]={key:A,axis:b,coordSys:s,axisPointerModel:w,triggerTooltip:y,triggerEmphasis:M,involveSeries:k,snap:D,useHandle:Em(w),seriesModels:[],linkGroup:null};l[A]=O,t.seriesInvolved=t.seriesInvolved||k;var P=cB(a,b);if(P!=null){var R=o[P]||(o[P]={axesInfo:{}});R.axesInfo[A]=O,R.mapper=a[P].mapper,O.linkGroup=R}}}})}function uB(t,e,r,n,i,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};F(s,function(h){u[h]=kt(o.get(h))}),u.snap=t.type!=="category"&&!!a,o.get("type")==="cross"&&(u.type="line");var l=u.label||(u.label={});if(l.show==null&&(l.show=!1),i==="cross"){var c=o.get(["label","show"]);if(l.show=c??!0,!a){var f=u.lineStyle=o.get("crossStyle");f&&It(l,f.textStyle)}}return t.model.getModel("axisPointer",new Sr(u,r,n))}function lB(t,e){e.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),a=r.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||a===!1||r.get(["axisPointer","show"],!0)===!1||F(t.coordSysAxesInfo[of(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(r),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=r.getData().count())})})}function cB(t,e){for(var r=e.model,n=e.dim,i=0;i<t.length;i++){var a=t[i]||{};if(U0(a[n+"AxisId"],r.id)||U0(a[n+"AxisIndex"],r.componentIndex)||U0(a[n+"AxisName"],r.name))return i}}function U0(t,e){return t==="all"||Fe(t)&&Ut(t,e)>=0||t===e}function fB(t){var e=I2(t);if(e){var r=e.axisPointerModel,n=e.axis.scale,i=r.option,a=r.get("status"),o=r.get("value");o!=null&&(o=n.parse(o));var s=Em(r);a==null&&(i.status=s?"show":"hide");var u=n.getExtent().slice();u[0]>u[1]&&u.reverse(),(o==null||o>u[1])&&(o=u[1]),o<u[0]&&(o=u[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function I2(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[of(t)]}function hB(t){var e=I2(t);return e&&e.axisPointerModel}function Em(t){return!!t.get(["handle","show"])}function of(t){return t.type+"||"+t.id}var hw={},F7=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i,a){this.axisPointerClass&&fB(r),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},e.prototype.updateAxisPointer=function(r,n,i,a){this._doUpdateAxisPointerClass(r,i,!1)},e.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},e.prototype.dispose=function(r,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(r,n,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=hB(r);o?(this._axisPointer||(this._axisPointer=new a)).render(r,o,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},e.registerAxisPointerClass=function(r,n){hw[r]=n},e.getAxisPointerClass=function(r){return r&&hw[r]},e.type="axis",e}(wi),km=cr();function dB(t,e,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),u=n.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:a,clamp:!0});if(l.length){var c=s.length,f=km(t).splitAreaColors,h=vt(),d=0;if(f)for(var v=0;v<l.length;v++){var g=f.get(l[v].tickValue);if(g!=null){d=(g+(c-1)*v)%c;break}}var m=i.toGlobalCoord(l[0].coord),y=o.getAreaStyle();s=Fe(s)?s:[s];for(var v=1;v<l.length;v++){var b=i.toGlobalCoord(l[v].coord),w=void 0,S=void 0,D=void 0,M=void 0;i.isHorizontal()?(w=m,S=u.y,D=b-w,M=u.height,m=w+D):(w=u.x,S=m,D=u.width,M=b-S,m=S+M);var A=l[v-1].tickValue;A!=null&&h.set(A,d),e.add(new Ar({anid:A!=null?"area_"+A:null,shape:{x:w,y:S,width:D,height:M},style:It({fill:s[d]},y),autoBatch:!0,silent:!0})),d=(d+1)%c}km(t).splitAreaColors=h}}}function vB(t){km(t).splitAreaColors=null}var pB=["axisLine","axisTickLabel","axisName"],gB=["splitArea","splitLine","minorSplitLine"],z7=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="CartesianAxisPointer",r}return e.prototype.render=function(r,n,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Qn,this.group.add(this._axisGroup),!!r.get("show")){var s=r.getCoordSysModel(),u=Im(s,r),l=new Co(r,_e({handleAutoShown:function(f){for(var h=s.coordinateSystem.getCartesians(),d=0;d<h.length;d++)if(Cm(h[d].getOtherAxis(r.axis).scale))return!0;return!1}},u));F(pB,l.add,l),this._axisGroup.add(l.getGroup()),F(gB,function(f){r.get([f,"show"])&&mB[f](this,this._axisGroup,r,s)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||fS(o,this._axisGroup,r),t.prototype.render.call(this,r,n,i,a)}},e.prototype.remove=function(){vB(this)},e.type="cartesianAxis",e}(F7),mB={splitLine:function(t,e,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color"),u=a.get("showMinLine")!==!1,l=a.get("showMaxLine")!==!1;s=Fe(s)?s:[s];for(var c=n.coordinateSystem.getRect(),f=i.isHorizontal(),h=0,d=i.getTicksCoords({tickModel:a}),v=[],g=[],m=o.getLineStyle(),y=0;y<d.length;y++){var b=i.toGlobalCoord(d[y].coord);if(!(y===0&&!u||y===d.length-1&&!l)){var w=d[y].tickValue;f?(v[0]=b,v[1]=c.y,g[0]=b,g[1]=c.y+c.height):(v[0]=c.x,v[1]=b,g[0]=c.x+c.width,g[1]=b);var S=h++%s.length,D=new Fo({anid:w!=null?"line_"+w:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:g[0],y2:g[1]},style:It({stroke:s[S]},m),silent:!0});Zc(D.shape,m.lineWidth),e.add(D)}}}},minorSplitLine:function(t,e,r,n){var i=r.axis,a=r.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=n.coordinateSystem.getRect(),u=i.isHorizontal(),l=i.getMinorTicksCoords();if(l.length)for(var c=[],f=[],h=o.getLineStyle(),d=0;d<l.length;d++)for(var v=0;v<l[d].length;v++){var g=i.toGlobalCoord(l[d][v].coord);u?(c[0]=g,c[1]=s.y,f[0]=g,f[1]=s.y+s.height):(c[0]=s.x,c[1]=g,f[0]=s.x+s.width,f[1]=g);var m=new Fo({anid:"minor_line_"+l[d][v].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:h,silent:!0});Zc(m.shape,h.lineWidth),e.add(m)}},splitArea:function(t,e,r,n){dB(t,e,r,n)}},B7=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="xAxis",e}(z7),yB=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=B7.type,r}return e.type="yAxis",e}(z7),_B=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="grid",r}return e.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new Ar({shape:r.coordinateSystem.getRect(),style:It({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(wi),dw={offset:0};function bB(t){t.registerComponentView(_B),t.registerComponentModel(sz),t.registerCoordinateSystem("cartesian2d",Qz),Z5(t,"x",Mm,dw),Z5(t,"y",Mm,dw),t.registerComponentView(B7),t.registerComponentView(yB),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var Ss=cr(),vw=kt,q0=ur,wB=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,r,n,i){var a=r.get("value"),o=r.get("status");if(this._axisModel=e,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,u=this._handle;if(!o||o==="hide"){s&&s.hide(),u&&u.hide();return}s&&s.show(),u&&u.show();var l={};this.makeElOption(l,a,e,r,n);var c=l.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(e,r);if(!s)s=this._group=new Qn,this.createPointerEl(s,l,e,r),this.createLabelEl(s,l,e,r),n.getZr().add(s);else{var h=Cr(pw,r,f);this.updatePointerEl(s,l,h),this.updateLabelEl(s,l,h,r)}mw(s,r,!0),this._renderHandle(a)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,r){var n=r.get("animation"),i=e.axis,a=i.type==="category",o=r.get("snap");if(!o&&!a)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var u=I2(e).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/u>s}return!1}return n===!0},t.prototype.makeElOption=function(e,r,n,i,a){},t.prototype.createPointerEl=function(e,r,n,i){var a=r.pointer;if(a){var o=Ss(e).pointerEl=new VO[a.type](vw(r.pointer));e.add(o)}},t.prototype.createLabelEl=function(e,r,n,i){if(r.label){var a=Ss(e).labelEl=new gn(vw(r.label));e.add(a),gw(a,i)}},t.prototype.updatePointerEl=function(e,r,n){var i=Ss(e).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},t.prototype.updateLabelEl=function(e,r,n,i){var a=Ss(e).labelEl;a&&(a.setStyle(r.label.style),n(a,{x:r.label.x,y:r.label.y}),gw(a,i))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=r.getModel("handle"),o=r.get("status");if(!a.get("show")||!o||o==="hide"){i&&n.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=Qy(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(l){NT(l.event)},onmousedown:q0(this._onHandleDragMove,this,0,0),drift:q0(this._onHandleDragMove,this),ondragend:q0(this._onHandleDragEnd,this)}),n.add(i)),mw(i,r,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=a.get("size");Fe(u)||(u=[u,u]),i.scaleX=u[0]/2,i.scaleY=u[1]/2,wT(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,r){pw(this._axisPointerModel,!r&&this._moveAnimation,this._handle,Y0(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(Y0(n),[e,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(Y0(i)),Ss(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var r=e.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),dm(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,r,n){return n=n||0,{x:e[n],y:e[1-n],width:r[n],height:r[1-n]}},t}();function pw(t,e,r,n){$7(Ss(r).lastProp,n)||(Ss(r).lastProp=n,e?Hn(r,n,t):(r.stopAnimation(),r.attr(n)))}function $7(t,e){if(it(t)&&it(e)){var r=!0;return F(e,function(n,i){r=r&&$7(t[i],n)}),!!r}else return t===e}function gw(t,e){t[e.get(["label","show"])?"show":"hide"]()}function Y0(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function mw(t,e,r){var n=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=r)})}function xB(t){var e=t.get("type"),r=t.getModel(e+"Style"),n;return e==="line"?(n=r.getLineStyle(),n.fill=null):e==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function SB(t,e,r,n,i){var a=r.get("value"),o=V7(a,e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),s=r.getModel("label"),u=sp(s.get("padding")||0),l=s.getFont(),c=Ly(o,l),f=i.position,h=c.width+u[1]+u[3],d=c.height+u[0]+u[2],v=i.align;v==="right"&&(f[0]-=h),v==="center"&&(f[0]-=h/2);var g=i.verticalAlign;g==="bottom"&&(f[1]-=d),g==="middle"&&(f[1]-=d/2),TB(f,h,d,n);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),t.label={x:f[0],y:f[1],style:zo(s,{text:o,font:l,fill:s.getTextColor(),padding:u,backgroundColor:m}),z2:10}}function TB(t,e,r,n){var i=n.getWidth(),a=n.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+r,a)-r,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function V7(t,e,r,n,i){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:i.precision}),o=i.formatter;if(o){var s={value:C2(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};F(n,function(u){var l=r.getSeriesByIndex(u.seriesIndex),c=u.dataIndexInside,f=l&&l.getDataParams(c);f&&s.seriesData.push(f)}),je(o)?a=o.replace("{value}",a):wt(o)&&(a=o(s))}return a}function H7(t,e,r){var n=Ru();return Py(n,n,r.rotation),Og(n,n,r.position),Jy([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function MB(t,e,r,n,i,a){var o=Co.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),SB(e,n,i,a,{position:H7(n.axis,t,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function DB(t,e,r){return r=r||0,{x1:t[r],y1:t[1-r],x2:e[r],y2:e[1-r]}}function CB(t,e,r){return r=r||0,{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}}var AB=function(t){ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,n,i,a,o){var s=i.axis,u=s.grid,l=a.get("type"),c=yw(u,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(n,!0));if(l&&l!=="none"){var h=xB(a),d=IB[l](s,f,c);d.style=h,r.graphicKey=d.type,r.pointer=d}var v=Im(u.model,i);MB(n,r,v,i,a,o)},e.prototype.getHandleTransform=function(r,n,i){var a=Im(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=H7(n.axis,r,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(r,n,i,a){var o=i.axis,s=o.grid,u=o.getGlobalExtent(!0),l=yw(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[r.x,r.y];f[c]+=n[c],f[c]=Math.min(u[1],f[c]),f[c]=Math.max(u[0],f[c]);var h=(l[1]+l[0])/2,d=[h,h];d[c]=f[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:r.rotation,cursorPoint:d,tooltipOption:v[c]}},e}(wB);function yw(t,e){var r={};return r[e.dim+"AxisIndex"]=e.index,t.getCartesian(r)}var IB={line:function(t,e,r){var n=DB([e,r[0]],[e,r[1]],_w(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,r){var n=Math.max(1,t.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:CB([e-n/2,r[0]],[n,i],_w(t))}}};function _w(t){return t.dim==="x"?0:1}var EB=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Wt),Ba=cr(),kB=F;function G7(t,e,r){if(!ht.node){var n=e.getZr();Ba(n).records||(Ba(n).records={}),OB(n,e);var i=Ba(n).records[t]||(Ba(n).records[t]={});i.handler=r}}function OB(t,e){if(Ba(t).initialized)return;Ba(t).initialized=!0,r("click",Cr(bw,"click")),r("mousemove",Cr(bw,"mousemove")),r("globalout",LB);function r(n,i){t.on(n,function(a){var o=RB(e);kB(Ba(t).records,function(s){s&&i(s,a,o.dispatchAction)}),PB(o.pendings,e)})}}function PB(t,e){var r=t.showTip.length,n=t.hideTip.length,i;r?i=t.showTip[r-1]:n&&(i=t.hideTip[n-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function LB(t,e,r){t.handler("leave",null,r)}function bw(t,e,r,n){e.handler(t,r,n)}function RB(t){var e={showTip:[],hideTip:[]},r=function(n){var i=e[n.type];i?i.push(n):(n.dispatchAction=r,t.dispatchAction(n))};return{dispatchAction:r,pendings:e}}function Om(t,e){if(!ht.node){var r=e.getZr(),n=(Ba(r).records||{})[t];n&&(Ba(r).records[t]=null)}}var NB=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i){var a=n.getComponent("tooltip"),o=r.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";G7("axisPointer",i,function(s,u,l){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&l({type:"updateAxisPointer",currTrigger:s,x:u&&u.offsetX,y:u&&u.offsetY})})},e.prototype.remove=function(r,n){Om("axisPointer",n)},e.prototype.dispose=function(r,n){Om("axisPointer",n)},e.type="axisPointer",e}(wi);function W7(t,e){var r=[],n=t.seriesIndex,i;if(n==null||!(i=e.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),o=Cf(a,t);if(o==null||o<0||Fe(o))return{point:[]};var s=a.getItemGraphicEl(o),u=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(o)||[];else if(u&&u.dataToPoint)if(t.isStacked){var l=u.getBaseAxis(),c=u.getOtherAxis(l),f=c.dim,h=l.dim,d=f==="x"||f==="radius"?1:0,v=a.mapDimension(h),g=[];g[d]=a.get(v,o),g[1-d]=a.get(a.getCalculationInfo("stackResultDimension"),o),r=u.dataToPoint(g)||[]}else r=u.dataToPoint(a.getValues(Xe(u.dimensions,function(y){return a.mapDimension(y)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),r=[m.x+m.width/2,m.y+m.height/2]}return{point:r,el:s}}var ww=cr();function FB(t,e,r){var n=t.currTrigger,i=[t.x,t.y],a=t,o=t.dispatchAction||ur(r.dispatchAction,r),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){bd(i)&&(i=W7({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var u=bd(i),l=a.axesInfo,c=s.axesInfo,f=n==="leave"||bd(i),h={},d={},v={list:[],map:{}},g={showPointer:Cr(BB,d),showTooltip:Cr($B,v)};F(s.coordSysMap,function(y,b){var w=u||y.containPoint(i);F(s.coordSysAxesInfo[b],function(S,D){var M=S.axis,A=WB(l,S);if(!f&&w&&(!l||A)){var k=A&&A.value;k==null&&!u&&(k=M.pointToData(i)),k!=null&&xw(S,k,g,!1,h)}})});var m={};return F(c,function(y,b){var w=y.linkGroup;w&&!d[b]&&F(w.axesInfo,function(S,D){var M=d[D];if(S!==y&&M){var A=M.value;w.mapper&&(A=y.axis.scale.parse(w.mapper(A,Sw(S),Sw(y)))),m[y.key]=A}})}),F(m,function(y,b){xw(c[b],y,g,!0,h)}),VB(d,c,h),HB(v,i,t,o),GB(c,o,r),h}}function xw(t,e,r,n,i){var a=t.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!t.involveSeries){r.showPointer(t,e);return}var o=zB(e,t),s=o.payloadBatch,u=o.snapToValue;s[0]&&i.seriesIndex==null&&_e(i,s[0]),!n&&t.snap&&a.containData(u)&&u!=null&&(e=u),r.showPointer(t,e,s),r.showTooltip(t,o,u)}}function zB(t,e){var r=e.axis,n=r.dim,i=t,a=[],o=Number.MAX_VALUE,s=-1;return F(e.seriesModels,function(u,l){var c=u.getData().mapDimensionsAll(n),f,h;if(u.getAxisTooltipData){var d=u.getAxisTooltipData(c,t,r);h=d.dataIndices,f=d.nestestValue}else{if(h=u.getData().indicesOfNearest(c[0],t,r.type==="category"?.5:null),!h.length)return;f=u.getData().get(c[0],h[0])}if(!(f==null||!isFinite(f))){var v=t-f,g=Math.abs(v);g<=o&&((g<o||v>=0&&s<0)&&(o=g,s=v,i=f,a.length=0),F(h,function(m){a.push({seriesIndex:u.seriesIndex,dataIndexInside:m,dataIndex:u.getData().getRawIndex(m)})}))}}),{payloadBatch:a,snapToValue:i}}function BB(t,e,r,n){t[e.key]={value:r,payloadBatch:n}}function $B(t,e,r,n){var i=r.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var u=e.coordSys.model,l=of(u),c=t.map[l];c||(c=t.map[l]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function VB(t,e,r){var n=r.axesInfo=[];F(e,function(i,a){var o=i.axisPointerModel.option,s=t[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function HB(t,e,r,n){if(bd(e)||!t.list.length){n({type:"hideTip"});return}var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}function GB(t,e,r){var n=r.getZr(),i="axisPointerLastHighlights",a=ww(n)[i]||{},o=ww(n)[i]={};F(t,function(l,c){var f=l.axisPointerModel.option;f.status==="show"&&l.triggerEmphasis&&F(f.seriesDataIndices,function(h){var d=h.seriesIndex+" | "+h.dataIndex;o[d]=h})});var s=[],u=[];F(a,function(l,c){!o[c]&&u.push(l)}),F(o,function(l,c){!a[c]&&s.push(l)}),u.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),s.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function WB(t,e){for(var r=0;r<(t||[]).length;r++){var n=t[r];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function Sw(t){var e=t.axis.model,r={},n=r.axisDim=t.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=e.componentIndex,r.axisName=r[n+"AxisName"]=e.name,r.axisId=r[n+"AxisId"]=e.id,r}function bd(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function U7(t){F7.registerAxisPointerClass("CartesianAxisPointer",AB),t.registerComponentModel(EB),t.registerComponentView(NB),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var r=e.axisPointer.link;r&&!Fe(r)&&(e.axisPointer.link=[r])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,r){e.getComponent("axisPointer").coordSysAxesInfo=oB(e,r)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},FB)}function UB(t){Bo(bB),Bo(U7)}function qB(t,e){var r=sp(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),t=new Ar({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1}),t}var YB=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Wt);function q7(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function Y7(t){if(ht.domSupported){for(var e=document.documentElement.style,r=0,n=t.length;r<n;r++)if(t[r]in e)return t[r]}}var j7=Y7(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),jB=Y7(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function K7(t,e){if(!t)return e;e=rT(e,!0);var r=t.indexOf(e);return t=r===-1?e:"-"+t.slice(0,r)+"-"+e,t.toLowerCase()}function KB(t,e){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?r[e]:null}var ZB=K7(jB,"transition"),E2=K7(j7,"transform"),XB="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ht.transform3dSupported?"will-change:transform;":"");function JB(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function QB(t,e,r){if(!je(r)||r==="inside")return"";var n=t.get("backgroundColor"),i=t.get("borderWidth");e=Jc(e);var a=JB(r),o=Math.max(Math.round(i)*1.5,6),s="",u=E2+":",l;Ut(["left","right"],a)>-1?(s+="top:50%",u+="translateY(-50%) rotate("+(l=a==="left"?-225:-45)+"deg)"):(s+="left:50%",u+="translateX(-50%) rotate("+(l=a==="top"?225:45)+"deg)");var c=l*Math.PI/180,f=o+i,h=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),d=Math.round(((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-f)/2)*100)/100;s+=";"+a+":-"+d+"px";var v=e+" solid "+i+"px;",g=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+u+";","border-bottom:"+v,"border-right:"+v,"background-color:"+n+";"];return'<div style="'+g.join("")+'"></div>'}function e$(t,e){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+t/2+"s "+r,i="opacity"+n+",visibility"+n;return e||(n=" "+t+"s "+r,i+=ht.transformSupported?","+E2+n:",left"+n+",top"+n),ZB+":"+i}function Tw(t,e,r){var n=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!ht.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=ht.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return r?"top:0;left:0;"+E2+":"+o+";":[["top",0],["left",0],[j7,o]]}function t$(t){var e=[],r=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont());var i=bt(t.get("lineHeight"),Math.round(r*3/2));r&&e.push("line-height:"+i+"px");var a=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,u=t.get("textShadowOffsetY")||0;return a&&o&&e.push("text-shadow:"+s+"px "+u+"px "+o+"px "+a),F(["decoration","align"],function(l){var c=t.get(l);c&&e.push("text-"+l+":"+c)}),e.join(";")}function r$(t,e,r){var n=[],i=t.get("transitionDuration"),a=t.get("backgroundColor"),o=t.get("shadowBlur"),s=t.get("shadowColor"),u=t.get("shadowOffsetX"),l=t.get("shadowOffsetY"),c=t.getModel("textStyle"),f=fT(t,"html"),h=u+"px "+l+"px "+o+"px "+s;return n.push("box-shadow:"+h),e&&i&&n.push(e$(i,r)),a&&n.push("background-color:"+a),F(["width","color","radius"],function(d){var v="border-"+d,g=rT(v),m=t.get(g);m!=null&&n.push(v+":"+m+(d==="color"?"":"px"))}),n.push(t$(c)),f!=null&&n.push("padding:"+sp(f).join("px ")+"px"),n.join(";")+";"}function Mw(t,e,r,n,i){var a=e&&e.painter;if(r){var o=a&&a.getViewportRoot();o&&GP(t,o,r,n,i)}else{t[0]=n,t[1]=i;var s=a&&a.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var n$=function(){function t(e,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,ht.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=e.getZr(),a=r.appendTo,o=a&&(je(a)?document.querySelector(a):Uc(a)?a:wt(a)&&a(e.getDom()));Mw(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(n),this._api=e,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(u){if(u=u||window.event,!s._enterable){var l=i.handler,c=i.painter.getViewportRoot();ui(c,u,!0),l.dispatch("mousemove",u)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){if(!this._container){var r=this._api.getDom(),n=KB(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},t.prototype.show=function(e,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=XB+r$(e,!this._firstShow,this._longHide)+Tw(a[0],a[1],!0)+("border-color:"+Jc(r)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,r,n,i,a){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(je(a)&&n.get("trigger")==="item"&&!q7(n)&&(s=QB(n,i,a)),je(e))o.innerHTML=e+s;else if(e){o.innerHTML="",Fe(e)||(e=[e]);for(var u=0;u<e.length;u++)Uc(e[u])&&e[u].parentNode!==o&&o.appendChild(e[u]);if(s&&o.childNodes.length){var l=document.createElement("div");l.innerHTML=s,o.appendChild(l)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},t.prototype.moveTo=function(e,r){if(this.el){var n=this._styleCoord;if(Mw(n,this._zr,this._container,e,r),n[0]!=null&&n[1]!=null){var i=this.el.style,a=Tw(n[0],n[1]);F(a,function(o){i[o[0]]=o[1]})}}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){var e=this,r=this.el.style;r.visibility="hidden",r.opacity="0",ht.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ur(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},t}(),i$=function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Cw(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var r=e.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,r,n,i,a){var o=this;it(e)&&Et(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new gn({style:{rich:r.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:fT(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),F(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(l){o.el.style[l]=n.get(l)}),F(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(l){o.el.style[l]=s.get(l)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,r=this.el.getBoundingRect(),n=Dw(e.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},t.prototype.moveTo=function(e,r){var n=this.el;if(n){var i=this._styleCoord;Cw(i,this._zr,e,r),e=i[0],r=i[1];var a=n.style,o=po(a.borderWidth||0),s=Dw(a);n.x=e+o+s.left,n.y=r+o+s.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ur(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function po(t){return Math.max(0,t)}function Dw(t){var e=po(t.shadowBlur||0),r=po(t.shadowOffsetX||0),n=po(t.shadowOffsetY||0);return{left:po(e-r),right:po(e+r),top:po(e-n),bottom:po(e+n)}}function Cw(t,e,r,n){t[0]=r,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var a$=new Ar({shape:{x:-1,y:-1,width:2,height:2}}),o$=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){if(!(ht.node||!n.getDom())){var i=r.getComponent("tooltip"),a=this._renderMode=Ik(i.get("renderMode"));this._tooltipContent=a==="richText"?new i$(n):new n$(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(r,n,i){if(!(ht.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(r),a.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?wT(this,"_updatePosition",50,"fixRate"):dm(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");G7("itemTooltip",this._api,ur(function(i,a,o){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,a=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(r,n,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(r,n,i,a){if(!(a.from===this.uid||ht.node||!i.getDom())){var o=Aw(a,i);this._ticket="";var s=a.dataByCoordSys,u=c$(a,n,i);if(u){var l=u.el.getBoundingRect().clone();l.applyTransform(u.el.transform),this._tryShow({offsetX:l.x+l.width/2,offsetY:l.y+l.height/2,target:u.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=a$;c.x=a.x,c.y=a.y,c.update(),$t(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,a))return;var f=W7(a,n),h=f.point[0],d=f.point[1];h!=null&&d!=null&&this._tryShow({offsetX:h,offsetY:d,target:f.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(r,n,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(Aw(a,i))},e.prototype._manuallyAxisShowTip=function(r,n,i,a){var o=a.seriesIndex,s=a.dataIndex,u=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||u==null)){var l=n.getSeriesByIndex(o);if(l){var c=l.getData(),f=rc([c.getItemModel(s),l,(l.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(r,n){var i=r.target,a=this._tooltipModel;if(a){this._lastX=r.offsetX,this._lastY=r.offsetY;var o=r.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,r);else if(i){var s=$t(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var u,l;vc(i,function(c){if($t(c).dataIndex!=null)return u=c,!0;if($t(c).tooltipConfig!=null)return l=c,!0},!0),u?this._showSeriesItemTooltip(r,u,n):l?this._showComponentItemTooltip(r,l,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=ur(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},e.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],s=rc([n.tooltipOption],a),u=this._renderMode,l=[],c=ef("section",{blocks:[],noHeader:!0}),f=[],h=new g0;F(r,function(b){F(b.dataByAxis,function(w){var S=i.getComponent(w.axisDim+"Axis",w.axisIndex),D=w.value;if(!(!S||D==null)){var M=V7(D,S.axis,i,w.seriesDataIndices,w.valueLabelOpt),A=ef("section",{header:M,noHeader:!la(M),sortBlocks:!0,blocks:[]});c.blocks.push(A),F(w.seriesDataIndices,function(k){var O=i.getSeriesByIndex(k.seriesIndex),P=k.dataIndexInside,R=O.getDataParams(P);if(!(R.dataIndex<0)){R.axisDim=w.axisDim,R.axisIndex=w.axisIndex,R.axisType=w.axisType,R.axisId=w.axisId,R.axisValue=C2(S.axis,{value:D}),R.axisValueLabel=M,R.marker=h.makeTooltipMarker("item",Jc(R.color),u);var H=k3(O.formatTooltip(P,!0,null)),z=H.frag;if(z){var W=rc([O],a).get("valueFormatter");A.blocks.push(W?_e({valueFormatter:W},z):z)}H.text&&f.push(H.text),l.push(R)}})}})}),c.blocks.reverse(),f.reverse();var d=n.position,v=s.get("order"),g=R3(c,h,u,v,i.get("useUTC"),s.get("textStyle"));g&&f.unshift(g);var m=u==="richText"?`

`:"<br/>",y=f.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(r,l)?this._updatePosition(s,d,o[0],o[1],this._tooltipContent,l):this._showTooltipContent(s,y,l,Math.random()+"",o[0],o[1],d,null,h)})},e.prototype._showSeriesItemTooltip=function(r,n,i){var a=this._ecModel,o=$t(n),s=o.seriesIndex,u=a.getSeriesByIndex(s),l=o.dataModel||u,c=o.dataIndex,f=o.dataType,h=l.getData(f),d=this._renderMode,v=r.positionDefault,g=rc([h.getItemModel(c),l,u&&(u.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),m=g.get("trigger");if(!(m!=null&&m!=="item")){var y=l.getDataParams(c,f),b=new g0;y.marker=b.makeTooltipMarker("item",Jc(y.color),d);var w=k3(l.formatTooltip(c,!1,f)),S=g.get("order"),D=g.get("valueFormatter"),M=w.frag,A=M?R3(D?_e({valueFormatter:D},M):M,b,d,S,a.get("useUTC"),g.get("textStyle")):w.text,k="item_"+l.name+"_"+c;this._showOrMove(g,function(){this._showTooltipContent(g,A,y,k,r.offsetX,r.offsetY,r.position,r.target,b)}),i({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(r,n,i){var a=this._renderMode==="html",o=$t(n),s=o.tooltipConfig,u=s.option||{},l=u.encodeHTMLContent;if(je(u)){var c=u;u={content:c,formatter:c},l=!0}l&&a&&u.content&&(u=kt(u),u.content=Nn(u.content));var f=[u],h=this._ecModel.getComponent(o.componentMainType,o.componentIndex);h&&f.push(h),f.push({formatter:u.content});var d=r.positionDefault,v=rc(f,this._tooltipModel,d?{position:d}:null),g=v.get("content"),m=Math.random()+"",y=new g0;this._showOrMove(v,function(){var b=kt(v.get("formatterParams")||{});this._showTooltipContent(v,g,b,m,r.offsetX,r.offsetY,r.position,n,y)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(r,n,i,a,o,s,u,l,c){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var f=this._tooltipContent;f.setEnterable(r.get("enterable"));var h=r.get("formatter");u=u||r.get("position");var d=n,v=this._getNearestPoint([o,s],i,r.get("trigger"),r.get("borderColor")),g=v.color;if(h)if(je(h)){var m=r.ecModel.get("useUTC"),y=Fe(i)?i[0]:i,b=y&&y.axisType&&y.axisType.indexOf("time")>=0;d=h,b&&(d=rp(y.axisValue,d,m)),d=nT(d,i,!0)}else if(wt(h)){var w=ur(function(S,D){S===this._ticket&&(f.setContent(D,c,r,g,u),this._updatePosition(r,u,o,s,f,i,l))},this);this._ticket=a,d=h(i,a,w)}else d=h;f.setContent(d,c,r,g,u),f.show(r,g),this._updatePosition(r,u,o,s,f,i,l)}},e.prototype._getNearestPoint=function(r,n,i,a){if(i==="axis"||Fe(n))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!Fe(n))return{color:a||n.color||n.borderColor}},e.prototype._updatePosition=function(r,n,i,a,o,s,u){var l=this._api.getWidth(),c=this._api.getHeight();n=n||r.get("position");var f=o.getSize(),h=r.get("align"),d=r.get("verticalAlign"),v=u&&u.getBoundingRect().clone();if(u&&v.applyTransform(u.transform),wt(n)&&(n=n([i,a],s,o.el,v,{viewSize:[l,c],contentSize:f.slice()})),Fe(n))i=ar(n[0],l),a=ar(n[1],c);else if(it(n)){var g=n;g.width=f[0],g.height=f[1];var m=Xu(g,{width:l,height:c});i=m.x,a=m.y,h=null,d=null}else if(je(n)&&u){var y=l$(n,v,f,r.get("borderWidth"));i=y[0],a=y[1]}else{var y=s$(i,a,o,l,c,h?null:20,d?null:20);i=y[0],a=y[1]}if(h&&(i-=Iw(h)?f[0]/2:h==="right"?f[0]:0),d&&(a-=Iw(d)?f[1]/2:d==="bottom"?f[1]:0),q7(r)){var y=u$(i,a,o,l,c);i=y[0],a=y[1]}o.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===r.length;return o&&F(i,function(s,u){var l=s.dataByAxis||[],c=r[u]||{},f=c.dataByAxis||[];o=o&&l.length===f.length,o&&F(l,function(h,d){var v=f[d]||{},g=h.seriesDataIndices||[],m=v.seriesDataIndices||[];o=o&&h.value===v.value&&h.axisType===v.axisType&&h.axisId===v.axisId&&g.length===m.length,o&&F(g,function(y,b){var w=m[b];o=o&&y.seriesIndex===w.seriesIndex&&y.dataIndex===w.dataIndex}),a&&F(h.seriesDataIndices,function(y){var b=y.seriesIndex,w=n[b],S=a[b];w&&S&&S.data!==w.data&&(o=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!o},e.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},e.prototype.dispose=function(r,n){ht.node||!n.getDom()||(dm(this,"_updatePosition"),this._tooltipContent.dispose(),Om("itemTooltip",n))},e.type="tooltip",e}(wi);function rc(t,e,r){var n=e.ecModel,i;r?(i=new Sr(r,n,n),i=new Sr(e.option,i,n)):i=e;for(var a=t.length-1;a>=0;a--){var o=t[a];o&&(o instanceof Sr&&(o=o.get("tooltip",!0)),je(o)&&(o={formatter:o}),o&&(i=new Sr(o,i,n)))}return i}function Aw(t,e){return t.dispatchAction||ur(e.dispatchAction,e)}function s$(t,e,r,n,i,a,o){var s=r.getSize(),u=s[0],l=s[1];return a!=null&&(t+u+a+2>n?t-=u+a:t+=a),o!=null&&(e+l+o>i?e-=l+o:e+=o),[t,e]}function u$(t,e,r,n,i){var a=r.getSize(),o=a[0],s=a[1];return t=Math.min(t+o,n)-o,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function l$(t,e,r,n){var i=r[0],a=r[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,u=0,l=e.width,c=e.height;switch(t){case"inside":s=e.x+l/2-i/2,u=e.y+c/2-a/2;break;case"top":s=e.x+l/2-i/2,u=e.y-a-o;break;case"bottom":s=e.x+l/2-i/2,u=e.y+c+o;break;case"left":s=e.x-i-o,u=e.y+c/2-a/2;break;case"right":s=e.x+l+o,u=e.y+c/2-a/2}return[s,u]}function Iw(t){return t==="center"||t==="middle"}function c$(t,e,r){var n=$y(t).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Af(e,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=r.getViewOfComponentModel(o),u;if(s.group.traverse(function(l){var c=$t(l).tooltipConfig;if(c&&c.name===t.name)return u=l,!0}),u)return{componentMainType:i,componentIndex:o.componentIndex,el:u}}}}function f$(t){Bo(U7),t.registerComponentModel(YB),t.registerComponentView(o$),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Bn),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Bn)}var h$=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Wt),d$=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var a=this.group,o=r.getModel("textStyle"),s=r.getModel("subtextStyle"),u=r.get("textAlign"),l=bt(r.get("textBaseline"),r.get("textVerticalAlign")),c=new gn({style:zo(o,{text:r.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),h=r.get("subtext"),d=new gn({style:zo(s,{text:h,fill:s.getTextColor(),y:f.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=r.get("link"),g=r.get("sublink"),m=r.get("triggerEvent",!0);c.silent=!v&&!m,d.silent=!g&&!m,v&&c.on("click",function(){I3(v,"_"+r.get("target"))}),g&&d.on("click",function(){I3(g,"_"+r.get("subtarget"))}),$t(c).eventData=$t(d).eventData=m?{componentType:"title",componentIndex:r.componentIndex}:null,a.add(c),h&&a.add(d);var y=a.getBoundingRect(),b=r.getBoxLayoutParams();b.width=y.width,b.height=y.height;var w=Xu(b,{width:i.getWidth(),height:i.getHeight()},r.get("padding"));u||(u=r.get("left")||r.get("right"),u==="middle"&&(u="center"),u==="right"?w.x+=w.width:u==="center"&&(w.x+=w.width/2)),l||(l=r.get("top")||r.get("bottom"),l==="center"&&(l="middle"),l==="bottom"?w.y+=w.height:l==="middle"&&(w.y+=w.height/2),l=l||"top"),a.x=w.x,a.y=w.y,a.markRedraw();var S={align:u,verticalAlign:l};c.setStyle(S),d.setStyle(S),y=a.getBoundingRect();var D=w.margin,M=r.getItemStyle(["color","opacity"]);M.fill=r.get("backgroundColor");var A=new Ar({shape:{x:y.x-D[3],y:y.y-D[0],width:y.width+D[1]+D[3],height:y.height+D[0]+D[2],r:r.get("borderRadius")},style:M,subPixelOptimize:!0,silent:!0});a.add(A)}},e.type="title",e}(wi);function v$(t){t.registerComponentModel(h$),t.registerComponentView(d$)}var p$=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},Pm=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),r.selected=r.selected||{},this._updateSelector(r)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},e.prototype._updateSelector=function(r){var n=r.selector,i=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),Fe(n)&&F(n,function(a,o){je(a)&&(a={type:a}),n[o]=qt(a,p$(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<r.length;i++){var a=r[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(r[0].get("name"))}},e.prototype._updateData=function(r){var n=[],i=[];r.eachRawSeries(function(u){var l=u.name;i.push(l);var c;if(u.legendVisualProvider){var f=u.legendVisualProvider,h=f.getAllNames();r.isSeriesFiltered(u)||(i=i.concat(h)),h.length?n=n.concat(h):c=!0}else c=!0;c&&By(u)&&n.push(u.name)}),this._availableNames=i;var a=this.get("data")||n,o=vt(),s=Xe(a,function(u){return(je(u)||Jt(u))&&(u={name:u}),o.get(u.name)?null:(o.set(u.name,!0),new Sr(u,this,this.ecModel))},this);this._data=xr(s,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(r){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;F(a,function(o){n[o.get("name")]=!1})}n[r]=!0},e.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},e.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},e.prototype.allSelect=function(){var r=this._data,n=this.option.selected;F(r,function(i){n[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;F(r,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},e.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&Ut(this._availableNames,r)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Wt),vu=Cr,Lm=F,Gh=Qn,Z7=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!1,r}return e.prototype.init=function(){this.group.add(this._contentGroup=new Gh),this.group.add(this._selectorGroup=new Gh),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(r,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var o=r.get("align"),s=r.get("orient");(!o||o==="auto")&&(o=r.get("left")==="right"&&s==="vertical"?"right":"left");var u=r.get("selector",!0),l=r.get("selectorPosition",!0);u&&(!l||l==="auto")&&(l=s==="horizontal"?"end":"start"),this.renderInner(o,r,n,i,u,s,l);var c=r.getBoxLayoutParams(),f={width:i.getWidth(),height:i.getHeight()},h=r.get("padding"),d=Xu(c,f,h),v=this.layoutInner(r,o,d,a,u,l),g=Xu(It({width:v.width,height:v.height},c),f,h);this.group.x=g.x-v.x,this.group.y=g.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=qB(v,r))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(r,n,i,a,o,s,u){var l=this.getContentGroup(),c=vt(),f=n.get("selectedMode"),h=[];i.eachRawSeries(function(d){!d.get("legendHoverLink")&&h.push(d.id)}),Lm(n.getData(),function(d,v){var g=d.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var m=new Gh;m.newline=!0,l.add(m);return}var y=i.getSeriesByName(g)[0];if(!c.get(g))if(y){var b=y.getData(),w=b.getVisual("legendLineStyle")||{},S=b.getVisual("legendIcon"),D=b.getVisual("style"),M=this._createItem(y,g,v,d,n,r,w,D,S,f,a);M.on("click",vu(Ew,g,null,a,h)).on("mouseover",vu(Rm,y.name,null,a,h)).on("mouseout",vu(Nm,y.name,null,a,h)),i.ssr&&M.eachChild(function(A){var k=$t(A);k.seriesIndex=y.seriesIndex,k.dataIndex=v,k.ssrType="legend"}),c.set(g,!0)}else i.eachRawSeries(function(A){if(!c.get(g)&&A.legendVisualProvider){var k=A.legendVisualProvider;if(!k.containName(g))return;var O=k.indexOfName(g),P=k.getItemVisual(O,"style"),R=k.getItemVisual(O,"legendIcon"),H=Es(P.fill);H&&H[3]===0&&(H[3]=.2,P=_e(_e({},P),{fill:Ny(H,"rgba")}));var z=this._createItem(A,g,v,d,n,r,{},P,R,f,a);z.on("click",vu(Ew,null,g,a,h)).on("mouseover",vu(Rm,null,g,a,h)).on("mouseout",vu(Nm,null,g,a,h)),i.ssr&&z.eachChild(function(W){var ee=$t(W);ee.seriesIndex=A.seriesIndex,ee.dataIndex=v,ee.ssrType="legend"}),c.set(g,!0)}},this)},this),o&&this._createSelector(o,n,a,s,u)},e.prototype._createSelector=function(r,n,i,a,o){var s=this.getSelectorGroup();Lm(r,function(l){var c=l.type,f=new gn({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});s.add(f);var h=n.getModel("selectorLabel"),d=n.getModel(["emphasis","selectorLabel"]);t2(f,{normal:h,emphasis:d},{defaultText:l.title}),Zg(f)})},e.prototype._createItem=function(r,n,i,a,o,s,u,l,c,f,h){var d=r.visualDrawType,v=o.get("itemWidth"),g=o.get("itemHeight"),m=o.isSelected(n),y=a.get("symbolRotate"),b=a.get("symbolKeepAspect"),w=a.get("icon");c=w||c||"roundRect";var S=g$(c,a,u,l,d,m,h),D=new Gh,M=a.getModel("textStyle");if(wt(r.getLegendIcon)&&(!w||w==="inherit"))D.add(r.getLegendIcon({itemWidth:v,itemHeight:g,icon:c,iconRotate:y,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:b}));else{var A=w==="inherit"&&r.getData().getVisual("symbol")?y==="inherit"?r.getData().getVisual("symbolRotate"):y:0;D.add(m$({itemWidth:v,itemHeight:g,icon:c,iconRotate:A,itemStyle:S.itemStyle,symbolKeepAspect:b}))}var k=s==="left"?v+5:-5,O=s,P=o.get("formatter"),R=n;je(P)&&P?R=P.replace("{name}",n??""):wt(P)&&(R=P(n));var H=m?M.getTextColor():a.get("inactiveColor");D.add(new gn({style:zo(M,{text:R,x:k,y:g/2,fill:H,align:O,verticalAlign:"middle"},{inheritColor:H})}));var z=new Ar({shape:D.getBoundingRect(),style:{fill:"transparent"}}),W=a.getModel("tooltip");return W.get("show")&&Xv({el:z,componentModel:o,itemName:n,itemTooltipOption:W.option}),D.add(z),D.eachChild(function(ee){ee.silent=!0}),z.silent=!f,this.getContentGroup().add(D),Zg(D),D.__legendDataIndex=i,D},e.prototype.layoutInner=function(r,n,i,a,o,s){var u=this.getContentGroup(),l=this.getSelectorGroup();Pc(r.get("orient"),u,r.get("itemGap"),i.width,i.height);var c=u.getBoundingRect(),f=[-c.x,-c.y];if(l.markRedraw(),u.markRedraw(),o){Pc("horizontal",l,r.get("selectorItemGap",!0));var h=l.getBoundingRect(),d=[-h.x,-h.y],v=r.get("selectorButtonGap",!0),g=r.getOrient().index,m=g===0?"width":"height",y=g===0?"height":"width",b=g===0?"y":"x";s==="end"?d[g]+=c[m]+v:f[g]+=h[m]+v,d[1-g]+=c[y]/2-h[y]/2,l.x=d[0],l.y=d[1],u.x=f[0],u.y=f[1];var w={x:0,y:0};return w[m]=c[m]+v+h[m],w[y]=Math.max(c[y],h[y]),w[b]=Math.min(0,h[b]+d[1-g]),w}else return u.x=f[0],u.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(wi);function g$(t,e,r,n,i,a,o){function s(m,y){m.lineWidth==="auto"&&(m.lineWidth=y.lineWidth>0?2:0),Lm(m,function(b,w){m[w]==="inherit"&&(m[w]=y[w])})}var u=e.getModel("itemStyle"),l=u.getItemStyle(),c=t.lastIndexOf("empty",0)===0?"fill":"stroke",f=u.getShallow("decal");l.decal=!f||f==="inherit"?n.decal:bm(f,o),l.fill==="inherit"&&(l.fill=n[i]),l.stroke==="inherit"&&(l.stroke=n[c]),l.opacity==="inherit"&&(l.opacity=(i==="fill"?n:r).opacity),s(l,n);var h=e.getModel("lineStyle"),d=h.getLineStyle();if(s(d,r),l.fill==="auto"&&(l.fill=n.fill),l.stroke==="auto"&&(l.stroke=n.fill),d.stroke==="auto"&&(d.stroke=n.fill),!a){var v=e.get("inactiveBorderWidth"),g=l[c];l.lineWidth=v==="auto"?n.lineWidth>0&&g?2:0:l.lineWidth,l.fill=e.get("inactiveColor"),l.stroke=e.get("inactiveBorderColor"),d.stroke=h.get("inactiveColor"),d.lineWidth=h.get("inactiveWidth")}return{itemStyle:l,lineStyle:d}}function m$(t){var e=t.icon||"roundRect",r=v2(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return r.setStyle(t.itemStyle),r.rotation=(t.iconRotate||0)*Math.PI/180,r.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function Ew(t,e,r,n){Nm(t,e,r,n),r.dispatchAction({type:"legendToggleSelect",name:t??e}),Rm(t,e,r,n)}function X7(t){for(var e=t.getZr().storage.getDisplayList(),r,n=0,i=e.length;n<i&&!(r=e[n].states.emphasis);)n++;return r&&r.hoverLayer}function Rm(t,e,r,n){X7(r)||r.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function Nm(t,e,r,n){X7(r)||r.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}function y$(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(r){for(var n=0;n<e.length;n++)if(!e[n].isSelected(r.name))return!1;return!0})}function nc(t,e,r){var n=t==="allSelect"||t==="inverseSelect",i={},a=[];r.eachComponent({mainType:"legend",query:e},function(s){n?s[t]():s[t](e.name),kw(s,i),a.push(s.componentIndex)});var o={};return r.eachComponent("legend",function(s){F(i,function(u,l){s[u?"select":"unSelect"](l)}),kw(s,o)}),n?{selected:o,legendIndex:a}:{name:e.name,selected:o}}function kw(t,e){var r=e||{};return F(t.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=t.isSelected(i);ya(r,i)?r[i]=r[i]&&a:r[i]=a}}),r}function _$(t){t.registerAction("legendToggleSelect","legendselectchanged",Cr(nc,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Cr(nc,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Cr(nc,"inverseSelect")),t.registerAction("legendSelect","legendselected",Cr(nc,"select")),t.registerAction("legendUnSelect","legendunselected",Cr(nc,"unSelect"))}function J7(t){t.registerComponentModel(Pm),t.registerComponentView(Z7),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,y$),t.registerSubTypeDefaulter("legend",function(){return"plain"}),_$(t)}var b$=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},e.prototype.init=function(r,n,i){var a=up(r);t.prototype.init.call(this,r,n,i),Ow(this,r,a)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),Ow(this,this.option,r)},e.type="legend.scroll",e.defaultOption=GS(Pm.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Pm);function Ow(t,e,r){var n=t.getOrient(),i=[1,1];i[n.index]=0,Ju(e,r,{type:"box",ignoreSize:!!i})}var Pw=Qn,j0=["width","height"],K0=["x","y"],w$=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!0,r._currentIndex=0,r}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new Pw),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Pw)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(r,n,i,a,o,s,u){var l=this;t.prototype.renderInner.call(this,r,n,i,a,o,s,u);var c=this._controllerGroup,f=n.get("pageIconSize",!0),h=Fe(f)?f:[f,f];v("pagePrev",0);var d=n.getModel("pageTextStyle");c.add(new gn({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(g,m){var y=g+"DataIndex",b=Qy(n.get("pageIcons",!0)[n.getOrient().name][m],{onclick:ur(l._pageGo,l,y,n,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});b.name=g,c.add(b)}},e.prototype.layoutInner=function(r,n,i,a,o,s){var u=this.getSelectorGroup(),l=r.getOrient().index,c=j0[l],f=K0[l],h=j0[1-l],d=K0[1-l];o&&Pc("horizontal",u,r.get("selectorItemGap",!0));var v=r.get("selectorButtonGap",!0),g=u.getBoundingRect(),m=[-g.x,-g.y],y=kt(i);o&&(y[c]=i[c]-g[c]-v);var b=this._layoutContentAndController(r,a,y,l,c,h,d,f);if(o){if(s==="end")m[l]+=b[c]+v;else{var w=g[c]+v;m[l]-=w,b[f]-=w}b[c]+=g[c]+v,m[1-l]+=b[d]+b[h]/2-g[h]/2,b[h]=Math.max(b[h],g[h]),b[d]=Math.min(b[d],g[d]+m[1-l]),u.x=m[0],u.y=m[1],u.markRedraw()}return b},e.prototype._layoutContentAndController=function(r,n,i,a,o,s,u,l){var c=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;Pc(r.get("orient"),c,r.get("itemGap"),a?i.width:null,a?null:i.height),Pc("horizontal",h,r.get("pageButtonItemGap",!0));var d=c.getBoundingRect(),v=h.getBoundingRect(),g=this._showController=d[o]>i[o],m=[-d.x,-d.y];n||(m[a]=c[l]);var y=[0,0],b=[-v.x,-v.y],w=bt(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(g){var S=r.get("pageButtonPosition",!0);S==="end"?b[a]+=i[o]-v[o]:y[a]+=v[o]+w}b[1-a]+=d[s]/2-v[s]/2,c.setPosition(m),f.setPosition(y),h.setPosition(b);var D={x:0,y:0};if(D[o]=g?i[o]:d[o],D[s]=Math.max(d[s],v[s]),D[u]=Math.min(0,v[u]+b[1-a]),f.__rectSize=i[o],g){var M={x:0,y:0};M[o]=Math.max(i[o]-v[o]-w,0),M[s]=D[s],f.setClipPath(new Ar({shape:M})),f.__rectSize=M[o]}else h.eachChild(function(k){k.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(r);return A.pageIndex!=null&&Hn(c,{x:A.contentPosition[0],y:A.contentPosition[1]},g?r:null),this._updatePageInfoView(r,A),D},e.prototype._pageGo=function(r,n,i){var a=this._getPageInfo(n)[r];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},e.prototype._updatePageInfoView=function(r,n){var i=this._controllerGroup;F(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",h=n[f]!=null,d=i.childOfName(c);d&&(d.setStyle("fill",h?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),d.cursor=h?"pointer":"default")});var a=i.childOfName("pageText"),o=r.get("pageFormatter"),s=n.pageIndex,u=s!=null?s+1:0,l=n.pageCount;a&&o&&a.setStyle("text",je(o)?o.replace("{current}",u==null?"":u+"").replace("{total}",l==null?"":l+""):o({current:u,total:l}))},e.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=r.getOrient().index,s=j0[o],u=K0[o],l=this._findTargetItemIndex(n),c=i.children(),f=c[l],h=c.length,d=h?1:0,v={contentPosition:[i.x,i.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var g=S(f);v.contentPosition[o]=-g.s;for(var m=l+1,y=g,b=g,w=null;m<=h;++m)w=S(c[m]),(!w&&b.e>y.s+a||w&&!D(w,y.s))&&(b.i>y.i?y=b:y=w,y&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=y.i),++v.pageCount)),b=w;for(var m=l-1,y=g,b=g,w=null;m>=-1;--m)w=S(c[m]),(!w||!D(b,w.s))&&y.i<b.i&&(b=y,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=y.i),++v.pageCount,++v.pageIndex),y=w;return v;function S(M){if(M){var A=M.getBoundingRect(),k=A[u]+M[u];return{s:k,e:k+A[s],i:M.__legendDataIndex}}}function D(M,A){return M.e>=A&&M.s<=A+a}},e.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var u=o.__legendDataIndex;a==null&&u!=null&&(a=s),u===r&&(n=s)}),n??a},e.type="legend.scroll",e}(Z7);function x$(t){t.registerAction("legendScroll","legendscroll",function(e,r){var n=e.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})})}function S$(t){Bo(J7),t.registerComponentModel(b$),t.registerComponentView(w$),x$(t)}function T$(t){Bo(J7),Bo(S$)}var Lw={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},M$=function(){function t(e){var r=this._condVal=je(e)?new RegExp(e):MI(e)?e:null;if(r==null){var n="";Et(n)}}return t.prototype.evaluate=function(e){var r=typeof e;return je(r)?this._condVal.test(e):Jt(r)?this._condVal.test(e+""):!1},t}(),D$=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),C$=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,r=0;r<e.length;r++)if(!e[r].evaluate())return!1;return!0},t}(),A$=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,r=0;r<e.length;r++)if(e[r].evaluate())return!0;return!1},t}(),I$=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),E$=function(){function t(){}return t.prototype.evaluate=function(){for(var e=!!this.valueParser,r=this.getValue,n=r(this.valueGetterParam),i=e?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?i:n))return!1;return!0},t}();function k2(t,e){if(t===!0||t===!1){var r=new D$;return r.value=t,r}var n="";return Q7(t)||Et(n),t.and?Rw("and",t,e):t.or?Rw("or",t,e):t.not?k$(t,e):O$(t,e)}function Rw(t,e,r){var n=e[t],i="";Fe(n)||Et(i),n.length||Et(i);var a=t==="and"?new C$:new A$;return a.children=Xe(n,function(o){return k2(o,r)}),a.children.length||Et(i),a}function k$(t,e){var r=t.not,n="";Q7(r)||Et(n);var i=new I$;return i.child=k2(r,e),i.child||Et(n),i}function O$(t,e){for(var r="",n=e.prepareGetValue(t),i=[],a=or(t),o=t.parser,s=o?IS(o):null,u=0;u<a.length;u++){var l=a[u];if(!(l==="parser"||e.valueGetterAttrMap.get(l))){var c=ya(Lw,l)?Lw[l]:l,f=t[l],h=s?s(f):f,d=gP(c,h)||c==="reg"&&new M$(h);d||Et(r),i.push(d)}}i.length||Et(r);var v=new E$;return v.valueGetterParam=n,v.valueParser=s,v.getValue=e.getValue,v.subCondList=i,v}function Q7(t){return it(t)&&!Dn(t)}var P$=function(){function t(e,r){this._cond=k2(e,r)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function L$(t,e){return new P$(t,e)}var R$={type:"echarts:filter",transform:function(t){for(var e=t.upstream,r,n=L$(t.config,{valueGetterAttrMap:vt({dimension:!0}),prepareGetValue:function(s){var u="",l=s.dimension;ya(s,"dimension")||Et(u);var c=e.getDimensionInfo(l);return c||Et(u),{dimIdx:c.index}},getValue:function(s){return e.retrieveValueFromItem(r,s.dimIdx)}}),i=[],a=0,o=e.count();a<o;a++)r=e.getRawDataItem(a),n.evaluate()&&i.push(r);return{data:i}}},N$={type:"echarts:sort",transform:function(t){var e=t.upstream,r=t.config,n="",i=Ir(r);i.length||Et(n);var a=[];F(i,function(c){var f=c.dimension,h=c.order,d=c.parser,v=c.incomparable;if(f==null&&Et(n),h!=="asc"&&h!=="desc"&&Et(n),v&&v!=="min"&&v!=="max"){var g="";Et(g)}if(h!=="asc"&&h!=="desc"){var m="";Et(m)}var y=e.getDimensionInfo(f);y||Et(n);var b=d?IS(d):null;d&&!b&&Et(n),a.push({dimIdx:y.index,parser:b,comparator:new kS(h,v)})});var o=e.sourceFormat;o!==Cn&&o!==Si&&Et(n);for(var s=[],u=0,l=e.count();u<l;u++)s.push(e.getRawDataItem(u));return s.sort(function(c,f){for(var h=0;h<a.length;h++){var d=a[h],v=e.retrieveValueFromItem(c,d.dimIdx),g=e.retrieveValueFromItem(f,d.dimIdx);d.parser&&(v=d.parser(v),g=d.parser(g));var m=d.comparator.evaluate(v,g);if(m!==0)return m}return 0}),{data:s}}};function F$(t){t.registerTransform(R$),t.registerTransform(N$)}var z$=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return e.prototype.init=function(r,n,i){t.prototype.init.call(this,r,n,i),this._sourceManager=new aT(this),P3(this)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),P3(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:ga},e}(Wt),B$=function(t){ze(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return e.type="dataset",e}(wi);function $$(t){t.registerComponentModel(z$),t.registerComponentView(B$)}function V$(t){if(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].slice());return e}}function H$(t,e){var r=t.label,n=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:V$(n&&n.shape.points)}}var Nw=["align","verticalAlign","width","height","fontSize"],bn=new Mf,Z0=cr(),G$=cr();function Wh(t,e,r){for(var n=0;n<r.length;n++){var i=r[n];e[i]!=null&&(t[i]=e[i])}}var Uh=["x","y","rotation"],W$=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(e,r,n,i,a){var o=i.style,s=i.__hostTarget,u=s.textConfig||{},l=i.getComputedTransform(),c=i.getBoundingRect().plain();Nt.applyTransform(c,c,l),l?bn.setLocalTransform(l):(bn.x=bn.y=bn.rotation=bn.originX=bn.originY=0,bn.scaleX=bn.scaleY=1),bn.rotation=Fa(bn.rotation);var f=i.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var d=f.getComputedTransform();Nt.applyTransform(h,h,d)}var v=h&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:v,seriesModel:n,dataIndex:e,dataType:r,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:v&&v.ignore,x:bn.x,y:bn.y,scaleX:bn.scaleX,scaleY:bn.scaleY,rotation:bn.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:u.position,attachedRot:u.rotation}})},t.prototype.addLabelsOfSeries=function(e){var r=this;this._chartViewList.push(e);var n=e.__model,i=n.get("labelLayout");(wt(i)||or(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=$t(a);o&&!o.disableLabelLayout&&r._addLabel(s.dataIndex,s.dataType,n,o,i)})},t.prototype.updateLayoutConfig=function(e){var r=e.getWidth(),n=e.getHeight();function i(w,S){return function(){Q3(w,S)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,u=s.__hostTarget,l=o.defaultAttr,c=void 0;wt(o.layoutOption)?c=o.layoutOption(H$(o,u)):c=o.layoutOption,c=c||{},o.computedLayoutOption=c;var f=Math.PI/180;u&&u.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:l.attachedPos,rotation:c.rotate!=null?c.rotate*f:l.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(s.x=ar(c.x,r),s.setStyle("x",0),h=!0):(s.x=l.x,s.setStyle("x",l.style.x)),c.y!=null?(s.y=ar(c.y,n),s.setStyle("y",0),h=!0):(s.y=l.y,s.setStyle("y",l.style.y)),c.labelLinePoints){var d=u.getTextGuideLine();d&&(d.setShape({points:c.labelLinePoints}),h=!1)}var v=Z0(s);v.needsUpdateLabelLine=h,s.rotation=c.rotate!=null?c.rotate*f:l.rotation,s.scaleX=l.scaleX,s.scaleY=l.scaleY;for(var g=0;g<Nw.length;g++){var m=Nw[g];s.setStyle(m,c[m]!=null?c[m]:l.style[m])}if(c.draggable){if(s.draggable=!0,s.cursor="move",u){var y=o.seriesModel;if(o.dataIndex!=null){var b=o.seriesModel.getData(o.dataType);y=b.getItemModel(o.dataIndex)}s.on("drag",i(u,y.getModel("labelLine")))}}else s.off("drag"),s.cursor=l.cursor}},t.prototype.layout=function(e){var r=e.getWidth(),n=e.getHeight(),i=kT(this._labelList),a=xr(i,function(u){return u.layoutOption.moveOverlap==="shiftX"}),o=xr(i,function(u){return u.layoutOption.moveOverlap==="shiftY"});VR(a,0,r),PT(o,0,n);var s=xr(i,function(u){return u.layoutOption.hideOverlap});LT(s)},t.prototype.processLabelsOverall=function(){var e=this;F(this._chartViewList,function(r){var n=r.__model,i=r.ignoreLabelLineUpdate,a=n.isAnimationEnabled();r.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,u=o.getTextContent();!s&&u&&(s=Z0(u).needsUpdateLabelLine),s&&e._updateLabelLine(o,n),a&&e._animateLabels(o,n)})})},t.prototype._updateLabelLine=function(e,r){var n=e.getTextContent(),i=$t(e),a=i.dataIndex;if(n&&a!=null){var o=r.getData(i.dataType),s=o.getItemModel(a),u={},l=o.getItemVisual(a,"style");if(l){var c=o.getVisual("drawType");u.stroke=l[c]}var f=s.getModel("labelLine");IT(e,ET(s),u),Q3(e,f)}},t.prototype._animateLabels=function(e,r){var n=e.getTextContent(),i=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!Bu(e))){var a=Z0(n),o=a.oldLayout,s=$t(e),u=s.dataIndex,l={x:n.x,y:n.y,rotation:n.rotation},c=r.getData(s.dataType);if(o){n.attr(o);var h=e.prevStates;h&&(Ut(h,"select")>=0&&n.attr(a.oldLayoutSelect),Ut(h,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),Hn(n,l,r,u)}else if(n.attr(l),!Ef(n).valueAnimation){var f=bt(n.style.opacity,1);n.style.opacity=0,bi(n,{style:{opacity:f}},r,u)}if(a.oldLayout=l,n.states.select){var d=a.oldLayoutSelect={};Wh(d,l,Uh),Wh(d,n.states.select,Uh)}if(n.states.emphasis){var v=a.oldLayoutEmphasis={};Wh(v,l,Uh),Wh(v,n.states.emphasis,Uh)}qO(n,u,c,r,r)}if(i&&!i.ignore&&!i.invisible){var a=G$(i),o=a.oldLayout,g={points:i.shape.points};o?(i.attr({shape:o}),Hn(i,{shape:g},r)):(i.setShape(g),i.style.strokePercent=0,bi(i,{style:{strokePercent:1}},r)),a.oldLayout=g}},t}(),X0=cr();function U$(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,n){var i=X0(r).labelManager;i||(i=X0(r).labelManager=new W$),i.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(e,r,n){var i=X0(r).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(r.getViewOfSeriesModel(a))}),i.updateLayoutConfig(r),i.layout(r),i.processLabelsOverall()})}var ea=Ro.CMD;function Cu(t,e){return Math.abs(t-e)<1e-5}function Fm(t){var e=t.data,r=t.len(),n=[],i,a=0,o=0,s=0,u=0;function l(z,W){i&&i.length>2&&n.push(i),i=[z,W]}function c(z,W,ee,ne){Cu(z,ee)&&Cu(W,ne)||i.push(z,W,ee,ne,ee,ne)}function f(z,W,ee,ne,he,X){var te=Math.abs(W-z),oe=Math.tan(te/4)*4/3,Q=W<z?-1:1,ue=Math.cos(z),pe=Math.sin(z),Ee=Math.cos(W),Be=Math.sin(W),Ye=ue*he+ee,Ke=pe*X+ne,Ge=Ee*he+ee,ve=Be*X+ne,et=he*oe*Q,Ie=X*oe*Q;i.push(Ye-et*pe,Ke+Ie*ue,Ge+et*Be,ve-Ie*Ee,Ge,ve)}for(var h,d,v,g,m=0;m<r;){var y=e[m++],b=m===1;switch(b&&(a=e[m],o=e[m+1],s=a,u=o,(y===ea.L||y===ea.C||y===ea.Q)&&(i=[s,u])),y){case ea.M:a=s=e[m++],o=u=e[m++],l(s,u);break;case ea.L:h=e[m++],d=e[m++],c(a,o,h,d),a=h,o=d;break;case ea.C:i.push(e[m++],e[m++],e[m++],e[m++],a=e[m++],o=e[m++]);break;case ea.Q:h=e[m++],d=e[m++],v=e[m++],g=e[m++],i.push(a+2/3*(h-a),o+2/3*(d-o),v+2/3*(h-v),g+2/3*(d-g),v,g),a=v,o=g;break;case ea.A:var w=e[m++],S=e[m++],D=e[m++],M=e[m++],A=e[m++],k=e[m++]+A;m+=1;var O=!e[m++];h=Math.cos(A)*D+w,d=Math.sin(A)*M+S,b?(s=h,u=d,l(s,u)):c(a,o,h,d),a=Math.cos(k)*D+w,o=Math.sin(k)*M+S;for(var P=(O?-1:1)*Math.PI/2,R=A;O?R>k:R<k;R+=P){var H=O?Math.max(R+P,k):Math.min(R+P,k);f(R,H,w,S,D,M)}break;case ea.R:s=a=e[m++],u=o=e[m++],h=s+e[m++],d=u+e[m++],l(h,u),c(h,u,h,d),c(h,d,s,d),c(s,d,s,u),c(s,u,h,u);break;case ea.Z:i&&c(a,o,s,u),a=s,o=u;break}}return i&&i.length>2&&n.push(i),n}function zm(t,e,r,n,i,a,o,s,u,l){if(Cu(t,r)&&Cu(e,n)&&Cu(i,o)&&Cu(a,s)){u.push(o,s);return}var c=2/l,f=c*c,h=o-t,d=s-e,v=Math.sqrt(h*h+d*d);h/=v,d/=v;var g=r-t,m=n-e,y=i-o,b=a-s,w=g*g+m*m,S=y*y+b*b;if(w<f&&S<f){u.push(o,s);return}var D=h*g+d*m,M=-h*y-d*b,A=w-D*D,k=S-M*M;if(A<f&&D>=0&&k<f&&M>=0){u.push(o,s);return}var O=[],P=[];Lo(t,r,i,o,.5,O),Lo(e,n,a,s,.5,P),zm(O[0],P[0],O[1],P[1],O[2],P[2],O[3],P[3],u,l),zm(O[4],P[4],O[5],P[5],O[6],P[6],O[7],P[7],u,l)}function q$(t,e){var r=Fm(t),n=[];e=e||1;for(var i=0;i<r.length;i++){var a=r[i],o=[],s=a[0],u=a[1];o.push(s,u);for(var l=2;l<a.length;){var c=a[l++],f=a[l++],h=a[l++],d=a[l++],v=a[l++],g=a[l++];zm(s,u,c,f,h,d,v,g,o,e),s=v,u=g}n.push(o)}return n}function e8(t,e,r){var n=t[e],i=t[1-e],a=Math.abs(n/i),o=Math.ceil(Math.sqrt(a*r)),s=Math.floor(r/o);s===0&&(s=1,o=r);for(var u=[],l=0;l<o;l++)u.push(s);var c=o*s,f=r-c;if(f>0)for(var l=0;l<f;l++)u[l%o]+=1;return u}function Fw(t,e,r){for(var n=t.r0,i=t.r,a=t.startAngle,o=t.endAngle,s=Math.abs(o-a),u=s*i,l=i-n,c=u>Math.abs(l),f=e8([u,l],c?0:1,e),h=(c?s:l)/f.length,d=0;d<f.length;d++)for(var v=(c?l:s)/f[d],g=0;g<f[d];g++){var m={};c?(m.startAngle=a+h*d,m.endAngle=a+h*(d+1),m.r0=n+v*g,m.r=n+v*(g+1)):(m.startAngle=a+v*g,m.endAngle=a+v*(g+1),m.r0=n+h*d,m.r=n+h*(d+1)),m.clockwise=t.clockwise,m.cx=t.cx,m.cy=t.cy,r.push(m)}}function Y$(t,e,r){for(var n=t.width,i=t.height,a=n>i,o=e8([n,i],a?0:1,e),s=a?"width":"height",u=a?"height":"width",l=a?"x":"y",c=a?"y":"x",f=t[s]/o.length,h=0;h<o.length;h++)for(var d=t[u]/o[h],v=0;v<o[h];v++){var g={};g[l]=h*f,g[c]=v*d,g[s]=f,g[u]=d,g.x+=t.x,g.y+=t.y,r.push(g)}}function zw(t,e,r,n){return t*n-r*e}function j$(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,c=o-i,f=s-a,h=zw(c,f,u,l);if(Math.abs(h)<1e-6)return null;var d=t-i,v=e-a,g=zw(d,v,c,f)/h;return g<0||g>1?null:new nt(g*u+t,g*l+e)}function K$(t,e,r){var n=new nt;nt.sub(n,r,e),n.normalize();var i=new nt;nt.sub(i,t,e);var a=i.dot(n);return a}function pu(t,e){var r=t[t.length-1];r&&r[0]===e[0]&&r[1]===e[1]||t.push(e)}function Z$(t,e,r){for(var n=t.length,i=[],a=0;a<n;a++){var o=t[a],s=t[(a+1)%n],u=j$(o[0],o[1],s[0],s[1],e.x,e.y,r.x,r.y);u&&i.push({projPt:K$(u,e,r),pt:u,idx:a})}if(i.length<2)return[{points:t},{points:t}];i.sort(function(m,y){return m.projPt-y.projPt});var l=i[0],c=i[i.length-1];if(c.idx<l.idx){var f=l;l=c,c=f}for(var h=[l.pt.x,l.pt.y],d=[c.pt.x,c.pt.y],v=[h],g=[d],a=l.idx+1;a<=c.idx;a++)pu(v,t[a].slice());pu(v,d),pu(v,h);for(var a=c.idx+1;a<=l.idx+n;a++)pu(g,t[a%n].slice());return pu(g,h),pu(g,d),[{points:v},{points:g}]}function Bw(t){var e=t.points,r=[],n=[];Mx(e,r,n);var i=new Nt(r[0],r[1],n[0]-r[0],n[1]-r[1]),a=i.width,o=i.height,s=i.x,u=i.y,l=new nt,c=new nt;return a>o?(l.x=c.x=s+a/2,l.y=u,c.y=u+o):(l.y=c.y=u+o/2,l.x=s,c.x=s+a),Z$(e,l,c)}function sv(t,e,r,n){if(r===1)n.push(e);else{var i=Math.floor(r/2),a=t(e);sv(t,a[0],i,n),sv(t,a[1],r-i,n)}return n}function X$(t,e){for(var r=[],n=0;n<e;n++)r.push(qy(t));return r}function J$(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function Q$(t){for(var e=[],r=0;r<t.length;)e.push([t[r++],t[r++]]);return e}function eV(t,e){var r=[],n=t.shape,i;switch(t.type){case"rect":Y$(n,e,r),i=Ar;break;case"sector":Fw(n,e,r),i=ba;break;case"circle":Fw({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,r),i=ba;break;default:var a=t.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=Xe(q$(t.getUpdatedPathProxy(),o),function(y){return Q$(y)}),u=s.length;if(u===0)sv(Bw,{points:s[0]},e,r);else if(u===e)for(var l=0;l<u;l++)r.push({points:s[l]});else{var c=0,f=Xe(s,function(y){var b=[],w=[];Mx(y,b,w);var S=(w[1]-b[1])*(w[0]-b[0]);return c+=S,{poly:y,area:S}});f.sort(function(y,b){return b.area-y.area});for(var h=e,l=0;l<u;l++){var d=f[l];if(h<=0)break;var v=l===u-1?h:Math.ceil(d.area/c*e);v<0||(sv(Bw,{points:d.poly},v,r),h-=v)}}i=jv;break}if(!i)return X$(t,e);for(var g=[],l=0;l<r.length;l++){var m=new i;m.setShape(r[l]),J$(t,m),g.push(m)}return g}function tV(t,e){var r=t.length,n=e.length;if(r===n)return[t,e];for(var i=[],a=[],o=r<n?t:e,s=Math.min(r,n),u=Math.abs(n-r)/6,l=(s-2)/6,c=Math.ceil(u/l)+1,f=[o[0],o[1]],h=u,d=2;d<s;){var v=o[d-2],g=o[d-1],m=o[d++],y=o[d++],b=o[d++],w=o[d++],S=o[d++],D=o[d++];if(h<=0){f.push(m,y,b,w,S,D);continue}for(var M=Math.min(h,c-1)+1,A=1;A<=M;A++){var k=A/M;Lo(v,m,b,S,k,i),Lo(g,y,w,D,k,a),v=i[3],g=a[3],f.push(i[1],a[1],i[2],a[2],v,g),m=i[5],y=a[5],b=i[6],w=a[6]}h-=M-1}return o===t?[f,e]:[t,f]}function $w(t,e){for(var r=t.length,n=t[r-2],i=t[r-1],a=[],o=0;o<e.length;)a[o++]=n,a[o++]=i;return a}function rV(t,e){for(var r,n,i,a=[],o=[],s=0;s<Math.max(t.length,e.length);s++){var u=t[s],l=e[s],c=void 0,f=void 0;u?l?(r=tV(u,l),c=r[0],f=r[1],n=c,i=f):(f=$w(i||u,u),c=u):(c=$w(n||l,l),f=l),a.push(c),o.push(f)}return[a,o]}function Vw(t){for(var e=0,r=0,n=0,i=t.length,a=0,o=i-2;a<i;o=a,a+=2){var s=t[o],u=t[o+1],l=t[a],c=t[a+1],f=s*c-l*u;e+=f,r+=(s+l)*f,n+=(u+c)*f}return e===0?[t[0]||0,t[1]||0]:[r/e/3,n/e/3,e]}function nV(t,e,r,n){for(var i=(t.length-2)/6,a=1/0,o=0,s=t.length,u=s-2,l=0;l<i;l++){for(var c=l*6,f=0,h=0;h<s;h+=2){var d=h===0?c:(c+h-2)%u+2,v=t[d]-r[0],g=t[d+1]-r[1],m=e[h]-n[0],y=e[h+1]-n[1],b=m-v,w=y-g;f+=b*b+w*w}f<a&&(a=f,o=l)}return o}function iV(t){for(var e=[],r=t.length,n=0;n<r;n+=2)e[n]=t[r-n-2],e[n+1]=t[r-n-1];return e}function aV(t,e,r,n){for(var i=[],a,o=0;o<t.length;o++){var s=t[o],u=e[o],l=Vw(s),c=Vw(u);a==null&&(a=l[2]<0!=c[2]<0);var f=[],h=[],d=0,v=1/0,g=[],m=s.length;a&&(s=iV(s));for(var y=nV(s,u,l,c)*6,b=m-2,w=0;w<b;w+=2){var S=(y+w)%b+2;f[w+2]=s[S]-l[0],f[w+3]=s[S+1]-l[1]}f[0]=s[y]-l[0],f[1]=s[y+1]-l[1];for(var D=n/r,M=-n/2;M<=n/2;M+=D){for(var A=Math.sin(M),k=Math.cos(M),O=0,w=0;w<s.length;w+=2){var P=f[w],R=f[w+1],H=u[w]-c[0],z=u[w+1]-c[1],W=H*k-z*A,ee=H*A+z*k;g[w]=W,g[w+1]=ee;var ne=W-P,he=ee-R;O+=ne*ne+he*he}if(O<v){v=O,d=M;for(var X=0;X<g.length;X++)h[X]=g[X]}}i.push({from:f,to:h,fromCp:l,toCp:c,rotation:-d})}return i}function uv(t){return t.__isCombineMorphing}var t8="__mOriginal_";function lv(t,e,r){var n=t8+e,i=t[n]||t[e];t[n]||(t[n]=t[e]);var a=r.replace,o=r.after,s=r.before;t[e]=function(){var u=arguments,l;return s&&s.apply(this,u),a?l=a.apply(this,u):l=i.apply(this,u),o&&o.apply(this,u),l}}function zc(t,e){var r=t8+e;t[r]&&(t[e]=t[r],t[r]=null)}function Hw(t,e){for(var r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.length;){var a=n[i],o=n[i+1];n[i++]=e[0]*a+e[2]*o+e[4],n[i++]=e[1]*a+e[3]*o+e[5]}}function r8(t,e){var r=t.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),i=rV(Fm(r),Fm(n)),a=i[0],o=i[1],s=t.getComputedTransform(),u=e.getComputedTransform();function l(){this.transform=null}s&&Hw(a,s),u&&Hw(o,u),lv(e,"updateTransform",{replace:l}),e.transform=null;var c=aV(a,o,10,Math.PI),f=[];lv(e,"buildPath",{replace:function(h){for(var d=e.__morphT,v=1-d,g=[],m=0;m<c.length;m++){var y=c[m],b=y.from,w=y.to,S=y.rotation*d,D=y.fromCp,M=y.toCp,A=Math.sin(S),k=Math.cos(S);ad(g,D,M,d);for(var O=0;O<b.length;O+=2){var P=b[O],R=b[O+1],H=w[O],z=w[O+1],W=P*v+H*d,ee=R*v+z*d;f[O]=W*k-ee*A+g[0],f[O+1]=W*A+ee*k+g[1]}var ne=f[0],he=f[1];h.moveTo(ne,he);for(var O=2;O<b.length;){var H=f[O++],z=f[O++],X=f[O++],te=f[O++],oe=f[O++],Q=f[O++];ne===H&&he===z&&X===oe&&te===Q?h.lineTo(oe,Q):h.bezierCurveTo(H,z,X,te,oe,Q),ne=oe,he=Q}}}})}function O2(t,e,r){if(!t||!e)return e;var n=r.done,i=r.during;r8(t,e),e.__morphT=0;function a(){zc(e,"buildPath"),zc(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},It({during:function(o){e.dirtyShape(),i&&i(o)},done:function(){a(),n&&n()}},r)),e}function oV(t,e,r,n,i,a){var o=16;t=i===r?0:Math.round(32767*(t-r)/(i-r)),e=a===n?0:Math.round(32767*(e-n)/(a-n));for(var s=0,u,l=(1<<o)/2;l>0;l/=2){var c=0,f=0;(t&l)>0&&(c=1),(e&l)>0&&(f=1),s+=l*l*(3*c^f),f===0&&(c===1&&(t=l-1-t,e=l-1-e),u=t,t=e,e=u)}return s}function cv(t){var e=1/0,r=1/0,n=-1/0,i=-1/0,a=Xe(t,function(s){var u=s.getBoundingRect(),l=s.getComputedTransform(),c=u.x+u.width/2+(l?l[4]:0),f=u.y+u.height/2+(l?l[5]:0);return e=Math.min(c,e),r=Math.min(f,r),n=Math.max(c,n),i=Math.max(f,i),[c,f]}),o=Xe(a,function(s,u){return{cp:s,z:oV(s[0],s[1],e,r,n,i),path:t[u]}});return o.sort(function(s,u){return s.z-u.z}).map(function(s){return s.path})}function n8(t){return eV(t.path,t.count)}function Bm(){return{fromIndividuals:[],toIndividuals:[],count:0}}function sV(t,e,r){var n=[];function i(D){for(var M=0;M<D.length;M++){var A=D[M];uv(A)?i(A.childrenRef()):A instanceof Ot&&n.push(A)}}i(t);var a=n.length;if(!a)return Bm();var o=r.dividePath||n8,s=o({path:e,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),Bm();n=cv(n),s=cv(s);for(var u=r.done,l=r.during,c=r.individualDelay,f=new Mf,h=0;h<a;h++){var d=n[h],v=s[h];v.parent=e,v.copyTransform(f),c||r8(d,v)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function g(D){for(var M=0;M<s.length;M++)s[M].addSelfToZr(D)}lv(e,"addSelfToZr",{after:function(D){g(D)}}),lv(e,"removeSelfFromZr",{after:function(D){for(var M=0;M<s.length;M++)s[M].removeSelfFromZr(D)}});function m(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,zc(e,"addSelfToZr"),zc(e,"removeSelfFromZr")}var y=s.length;if(c)for(var b=y,w=function(){b--,b===0&&(m(),u&&u())},h=0;h<y;h++){var S=c?It({delay:(r.delay||0)+c(h,y,n[h],s[h]),done:w},r):r;O2(n[h],s[h],S)}else e.__morphT=0,e.animateTo({__morphT:1},It({during:function(D){for(var M=0;M<y;M++){var A=s[M];A.__morphT=e.__morphT,A.dirtyShape()}l&&l(D)},done:function(){m();for(var D=0;D<t.length;D++)zc(t[D],"updateTransform");u&&u()}},r));return e.__zr&&g(e.__zr),{fromIndividuals:n,toIndividuals:s,count:y}}function uV(t,e,r){var n=e.length,i=[],a=r.dividePath||n8;function o(d){for(var v=0;v<d.length;v++){var g=d[v];uv(g)?o(g.childrenRef()):g instanceof Ot&&i.push(g)}}if(uv(t)){o(t.childrenRef());var s=i.length;if(s<n)for(var u=0,l=s;l<n;l++)i.push(qy(i[u++%s]));i.length=n}else{i=a({path:t,count:n});for(var c=t.getComputedTransform(),l=0;l<i.length;l++)i[l].setLocalTransform(c);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),Bm()}i=cv(i),e=cv(e);for(var f=r.individualDelay,l=0;l<n;l++){var h=f?It({delay:(r.delay||0)+f(l,n,i[l],e[l])},r):r;O2(i[l],e[l],h)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function Gw(t){return Fe(t[0])}function Ww(t,e){for(var r=[],n=t.length,i=0;i<n;i++)r.push({one:t[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,o=void 0;for(o=0;o<a;o++)r[o%n].many.push(e[i][o])}for(var s=0,i=n-1;i>=0;i--)if(!r[i].many.length){var u=r[s].many;if(u.length<=1)if(s)s=0;else return r;var a=u.length,l=Math.ceil(a/2);r[i].many=u.slice(l,a),r[s].many=u.slice(0,l),s++}return r}var lV={clone:function(t){for(var e=[],r=1-Math.pow(1-t.path.style.opacity,1/t.count),n=0;n<t.count;n++){var i=qy(t.path);i.setStyle("opacity",r),e.push(i)}return e},split:null};function J0(t,e,r,n,i,a){if(!t.length||!e.length)return;var o=Zv("update",n,i);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},o),l,c;Gw(t)&&(l=t,c=e),Gw(e)&&(l=e,c=t);function f(y,b,w,S,D){var M=y.many,A=y.one;if(M.length===1&&!D){var k=b?M[0]:A,O=b?A:M[0];if(uv(k))f({many:[k],one:O},!0,w,S,!0);else{var P=s?It({delay:s(w,S)},u):u;O2(k,O,P),a(k,O,k,O,P)}}else for(var R=It({dividePath:lV[r],individualDelay:s&&function(he,X,te,oe){return s(he+w,S)}},u),H=b?sV(M,A,R):uV(A,M,R),z=H.fromIndividuals,W=H.toIndividuals,ee=z.length,ne=0;ne<ee;ne++){var P=s?It({delay:s(ne,ee)},u):u;a(z[ne],W[ne],b?M[ne]:y.one,b?y.one:M[ne],P)}}for(var h=l?l===t:t.length>e.length,d=l?Ww(c,l):Ww(h?e:t,[h?t:e]),v=0,g=0;g<d.length;g++)v+=d[g].many.length;for(var m=0,g=0;g<d.length;g++)f(d[g],h,m,v),m+=d[g].many.length}function ws(t){if(!t)return[];if(Fe(t)){for(var e=[],r=0;r<t.length;r++)e.push(ws(t[r]));return e}var n=[];return t.traverse(function(i){i instanceof Ot&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var i8=1e4,cV=0,Uw=1,qw=2,fV=cr();function hV(t,e){for(var r=t.dimensions,n=0;n<r.length;n++){var i=t.getDimensionInfo(r[n]);if(i&&i.otherDims[e]===0)return r[n]}}function dV(t,e,r){var n=t.getDimensionInfo(r),i=n&&n.ordinalMeta;if(n){var a=t.get(n.name,e);return i&&i.categories[a]||a+""}}function Yw(t,e,r,n){var i=n?"itemChildGroupId":"itemGroupId",a=hV(t,i);if(a){var o=dV(t,e,a);return o}var s=t.getRawDataItem(e),u=n?"childGroupId":"groupId";if(s&&s[u])return s[u]+"";if(!n)return r||t.getId(e)}function jw(t){var e=[];return F(t,function(r){var n=r.data,i=r.dataGroupId;if(!(n.count()>i8))for(var a=n.getIndices(),o=0;o<a.length;o++)e.push({data:n,groupId:Yw(n,o,i,!1),childGroupId:Yw(n,o,i,!0),divide:r.divide,dataIndex:o})}),e}function Q0(t,e,r){t.traverse(function(n){n instanceof Ot&&bi(n,{style:{opacity:0}},e,{dataIndex:r,isFrom:!0})})}function eg(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function gu(t){t.stopAnimation(),t.isGroup&&t.traverse(function(e){e.stopAnimation()})}function vV(t,e,r){var n=Zv("update",r,e);n&&t.traverse(function(i){if(i instanceof fl){var a=DO(i);a&&i.animateFrom({style:a},n)}})}function pV(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++){var i=t[n],a=e[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function a8(t,e,r){var n=jw(t),i=jw(e);function a(w,S,D,M,A){(D||w)&&S.animateFrom({style:D&&D!==w?_e(_e({},D.style),w.style):w.style},A)}var o=!1,s=cV,u=vt(),l=vt();n.forEach(function(w){w.groupId&&u.set(w.groupId,!0),w.childGroupId&&l.set(w.childGroupId,!0)});for(var c=0;c<i.length;c++){var f=i[c].groupId;if(l.get(f)){s=Uw;break}var h=i[c].childGroupId;if(h&&u.get(h)){s=qw;break}}function d(w,S){return function(D){var M=D.data,A=D.dataIndex;return S?M.getId(A):w?s===Uw?D.childGroupId:D.groupId:s===qw?D.childGroupId:D.groupId}}var v=pV(n,i),g={};if(!v)for(var c=0;c<i.length;c++){var m=i[c],y=m.data.getItemGraphicEl(m.dataIndex);y&&(g[y.id]=!0)}function b(w,S){var D=n[S],M=i[w],A=M.data.hostModel,k=D.data.getItemGraphicEl(D.dataIndex),O=M.data.getItemGraphicEl(M.dataIndex);if(k===O){O&&vV(O,M.dataIndex,A);return}k&&g[k.id]||O&&(gu(O),k?(gu(k),eg(k),o=!0,J0(ws(k),ws(O),M.divide,A,w,a)):Q0(O,A,w))}new rm(n,i,d(!0,v),d(!1,v),null,"multiple").update(b).updateManyToOne(function(w,S){var D=i[w],M=D.data,A=M.hostModel,k=M.getItemGraphicEl(D.dataIndex),O=xr(Xe(S,function(P){return n[P].data.getItemGraphicEl(n[P].dataIndex)}),function(P){return P&&P!==k&&!g[P.id]});k&&(gu(k),O.length?(F(O,function(P){gu(P),eg(P)}),o=!0,J0(ws(O),ws(k),D.divide,A,w,a)):Q0(k,A,D.dataIndex))}).updateOneToMany(function(w,S){var D=n[S],M=D.data.getItemGraphicEl(D.dataIndex);if(!(M&&g[M.id])){var A=xr(Xe(w,function(O){return i[O].data.getItemGraphicEl(i[O].dataIndex)}),function(O){return O&&O!==M}),k=i[w[0]].data.hostModel;A.length&&(F(A,function(O){return gu(O)}),M?(gu(M),eg(M),o=!0,J0(ws(M),ws(A),D.divide,k,w[0],a)):F(A,function(O){return Q0(O,k,w[0])}))}}).updateManyToMany(function(w,S){new rm(S,w,function(D){return n[D].data.getId(n[D].dataIndex)},function(D){return i[D].data.getId(i[D].dataIndex)}).update(function(D,M){b(w[D],S[M])}).execute()}).execute(),o&&F(e,function(w){var S=w.data,D=S.hostModel,M=D&&r.getViewOfSeriesModel(D),A=Zv("update",D,0);M&&D.isAnimationEnabled()&&A&&A.duration>0&&M.group.traverse(function(k){k instanceof Ot&&!k.animators.length&&k.animateFrom({style:{opacity:0}},A)})})}function Kw(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function Zw(t){return Fe(t)?t.sort().join(","):t}function go(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function gV(t,e){var r=vt(),n=vt(),i=vt();return F(t.oldSeries,function(a,o){var s=t.oldDataGroupIds[o],u=t.oldData[o],l=Kw(a),c=Zw(l);n.set(c,{dataGroupId:s,data:u}),Fe(l)&&F(l,function(f){i.set(f,{key:c,dataGroupId:s,data:u})})}),F(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),u=Kw(a),l=Zw(u),c=n.get(l);if(c)r.set(l,{oldSeries:[{dataGroupId:c.dataGroupId,divide:go(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:go(s),data:s}]});else if(Fe(u)){var f=[];F(u,function(v){var g=n.get(v);g.data&&f.push({dataGroupId:g.dataGroupId,divide:go(g.data),data:g.data})}),f.length&&r.set(l,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:go(s)}]})}else{var h=i.get(u);if(h){var d=r.get(h.key);d||(d={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:go(h.data)}],newSeries:[]},r.set(h.key,d)),d.newSeries.push({dataGroupId:o,data:s,divide:go(s)})}}}}),r}function Xw(t,e){for(var r=0;r<t.length;r++){var n=e.seriesIndex!=null&&e.seriesIndex===t[r].seriesIndex||e.seriesId!=null&&e.seriesId===t[r].id;if(n)return r}}function mV(t,e,r,n){var i=[],a=[];F(Ir(t.from),function(o){var s=Xw(e.oldSeries,o);s>=0&&i.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:go(e.oldData[s]),groupIdDim:o.dimension})}),F(Ir(t.to),function(o){var s=Xw(r.updatedSeries,o);if(s>=0){var u=r.updatedSeries[s].getData();a.push({dataGroupId:e.oldDataGroupIds[s],data:u,divide:go(u),groupIdDim:o.dimension})}}),i.length>0&&a.length>0&&a8(i,a,n)}function yV(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,n){F(Ir(n.seriesTransition),function(i){F(Ir(i.to),function(a){for(var o=n.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][gd]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(e,r,n){var i=fV(r);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)F(Ir(a),function(d){mV(d,i,n,r)});else{var o=gV(i,n);F(o.keys(),function(d){var v=o.get(d);a8(v.oldSeries,v.newSeries,r)})}F(n.updatedSeries,function(d){d[gd]&&(d[gd]=!1)})}for(var s=e.getSeries(),u=i.oldSeries=[],l=i.oldDataGroupIds=[],c=i.oldData=[],f=0;f<s.length;f++){var h=s[f].getData();h.count()<i8&&(u.push(s[f]),l.push(s[f].get("dataGroupId")),c.push(h))}})}function Jw(t,e,r){var n=ul.createCanvas(),i=e.getWidth(),a=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",t)),n.width=i*r,n.height=a*r,n}var tg=function(t){ze(e,t);function e(r,n,i){var a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||Gd,typeof r=="string"?o=Jw(r,n,i):it(r)&&(o=r,r=o.id),a.id=r,a.dom=o;var s=o.style;return s&&(nx(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=Jw("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},e.prototype.createRepaintRects=function(r,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,u=!1,l=new Nt(0,0,0,0);function c(b){if(!(!b.isFinite()||b.isZero()))if(o.length===0){var w=new Nt(0,0,0,0);w.copy(b),o.push(w)}else{for(var S=!1,D=1/0,M=0,A=0;A<o.length;++A){var k=o[A];if(k.intersect(b)){var O=new Nt(0,0,0,0);O.copy(k),O.union(b),o[A]=O,S=!0;break}else if(u){l.copy(b),l.union(k);var P=b.width*b.height,R=k.width*k.height,H=l.width*l.height,z=H-P-R;z<D&&(D=z,M=A)}}if(u&&(o[M].union(b),S=!0),!S){var w=new Nt(0,0,0,0);w.copy(b),o.push(w)}u||(u=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=r[f];if(h){var d=h.shouldBePainted(i,a,!0,!0),v=h.__isRendered&&(h.__dirty&va||!d)?h.getPrevPaintRect():null;v&&c(v);var g=d&&(h.__dirty&va||!h.__isRendered)?h.getPaintRect():null;g&&c(g)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=n[f],d=h&&h.shouldBePainted(i,a,!0,!0);if(h&&(!d||!h.__zr)&&h.__isRendered){var v=h.getPrevPaintRect();v&&c(v)}}var m;do{m=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var y=f+1;y<o.length;)o[f].intersect(o[y])?(m=!0,o[f].union(o[y]),o.splice(y,1)):y++;f++}}while(m);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(r,n){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=r+"px",o.height=n+"px"),a.width=r*i,a.height=n*i,s&&(s.width=r*i,s.height=n*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(r,n,i){var a=this.dom,o=this.ctx,s=a.width,u=a.height;n=n||this.clearColor;var l=this.motionBlur&&!r,c=this.lastFrameAlpha,f=this.dpr,h=this;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/f,u/f));var d=this.domBack;function v(g,m,y,b){if(o.clearRect(g,m,y,b),n&&n!=="transparent"){var w=void 0;if(Bv(n)){var S=n.global||n.__width===y&&n.__height===b;w=S&&n.__canvasGradient||ym(o,n,{x:0,y:0,width:y,height:b}),n.__canvasGradient=w,n.__width=y,n.__height=b}else TI(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,w=_m(o,n,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));o.save(),o.fillStyle=w||n,o.fillRect(g,m,y,b),o.restore()}l&&(o.save(),o.globalAlpha=c,o.drawImage(d,g,m,y,b),o.restore())}!i||l?v(0,0,s,u):i.length&&F(i,function(g){v(g.x*f,g.y*f,g.width*f,g.height*f)})},e}(Ma),Qw=1e5,ps=314159,qh=.01,_V=.001;function bV(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function wV(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var xV=function(){function t(e,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=_e({},n||{}),this.dpr=n.devicePixelRatio||Gd,this._singleCanvas=a,this.root=e;var o=e.style;o&&(nx(e),e.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(a){var c=e,f=c.width,h=c.height;n.width!=null&&(f=n.width),n.height!=null&&(h=n.height),this.dpr=n.devicePixelRatio||1,c.width=f*this.dpr,c.height=h*this.dpr,this._width=f,this._height=h;var d=new tg(c,this,this.dpr);d.__builtin__=!0,d.initContext(),u[ps]=d,d.zlevel=ps,s.push(ps),this._domRoot=e}else{this._width=Nh(e,0,n),this._height=Nh(e,1,n);var l=this._domRoot=wV(this._width,this._height);e.appendChild(l)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,e,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var u=a===0?this._backgroundColor:null;s.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var r=e.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<r;o++){var s=e[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(Qw)),a||(a=n.ctx,a.save()),Ds(a,s,i,o===r-1))}a&&a.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(Qw)},t.prototype.paintOne=function(e,r){n7(e,r)},t.prototype._paintList=function(e,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,r,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(l){l.afterBrush&&l.afterBrush()});else{var u=this;tv(function(){u._paintList(e,r,n,i)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(ps).ctx,r=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,r,n)})},t.prototype._doPaintList=function(e,r,n){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._zlevelList[s],l=this._layers[u];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&a.push(l)}for(var c=!0,f=!1,h=function(g){var m=a[g],y=m.ctx,b=o&&m.createRepaintRects(e,r,d._width,d._height),w=n?m.__startIndex:m.__drawIndex,S=!n&&m.incremental&&Date.now,D=S&&Date.now(),M=m.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,M,b);else if(w===m.__startIndex){var A=e[w];(!A.incremental||!A.notClear||n)&&m.clear(!1,M,b)}w===-1&&(console.error("For some unknown reason. drawIndex is -1"),w=m.__startIndex);var k,O=function(z){var W={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(k=w;k<m.__endIndex;k++){var ee=e[k];if(ee.__inHover&&(f=!0),i._doPaintEl(ee,m,o,z,W,k===m.__endIndex-1),S){var ne=Date.now()-D;if(ne>15)break}}W.prevElClipPaths&&y.restore()};if(b)if(b.length===0)k=m.__endIndex;else for(var P=d.dpr,R=0;R<b.length;++R){var H=b[R];y.save(),y.beginPath(),y.rect(H.x*P,H.y*P,H.width*P,H.height*P),y.clip(),O(H),y.restore()}else y.save(),O(),y.restore();m.__drawIndex=k,m.__drawIndex<m.__endIndex&&(c=!1)},d=this,v=0;v<a.length;v++)h(v);return ht.wxa&&F(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:c,needsRefreshHover:f}},t.prototype._doPaintEl=function(e,r,n,i,a,o){var s=r.ctx;if(n){var u=e.getPaintRect();(!i||u&&u.intersect(i))&&(Ds(s,e,a,o),e.setPrevPaintRect(u))}else Ds(s,e,a,o)},t.prototype.getLayer=function(e,r){this._singleCanvas&&!this._needsManuallyCompositing&&(e=ps);var n=this._layers[e];return n||(n=new tg("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?qt(n,this._layerConfig[e],!0):this._layerConfig[e-qh]&&qt(n,this._layerConfig[e-qh],!0),r&&(n.virtual=r),this.insertLayer(e,n),n.initContext()),n},t.prototype.insertLayer=function(e,r){var n=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,u=-1;if(!n[e]&&bV(r)){if(a>0&&e>i[0]){for(u=0;u<a-1&&!(i[u]<e&&i[u+1]>e);u++);s=n[i[u]]}if(i.splice(u+1,0,e),n[e]=r,!r.virtual)if(s){var l=s.dom;l.nextSibling?o.insertBefore(r.dom,l.nextSibling):o.appendChild(r.dom)}else o.firstChild?o.insertBefore(r.dom,o.firstChild):o.appendChild(r.dom);r.painter||(r.painter=this)}},t.prototype.eachLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];e.call(r,this._layers[a],a)}},t.prototype.eachBuiltinLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__&&e.call(r,o,a)}},t.prototype.eachOtherLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__||e.call(r,o,a)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function r(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var i=e[n];if(i.zlevel!==e[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,u;for(u=0;u<e.length;u++){var i=e[u],l=i.zlevel,c=void 0;s!==l&&(s=l,o=0),i.incremental?(c=this.getLayer(l+_V,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(l+(o>0?qh:0),this._needsManuallyCompositing),c.__builtin__||Iy("ZLevel "+l+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==u&&(c.__dirty=!0),c.__startIndex=u,c.incremental?c.__drawIndex=-1:c.__drawIndex=u,r(u),a=c),i.__dirty&va&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=u))}r(u),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,F(this._layers,function(r){r.setUnpainted()})},t.prototype.configLayer=function(e,r){if(r){var n=this._layerConfig;n[e]?qt(n[e],r,!0):n[e]=r;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+qh){var o=this._layers[a];qt(o,n[e],!0)}}}},t.prototype.delLayer=function(e){var r=this._layers,n=this._zlevelList,i=r[e];i&&(i.dom.parentNode.removeChild(i.dom),delete r[e],n.splice(Ut(n,e),1))},t.prototype.resize=function(e,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),r!=null&&(i.height=r),e=Nh(a,0,i),r=Nh(a,1,i),n.style.display="",this._width!==e||r!==this._height){n.style.width=e+"px",n.style.height=r+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,r);this.refresh(!0)}this._width=e,this._height=r}else{if(e==null||r==null)return;this._width=e,this._height=r,this.getLayer(ps).resize(e,r)}return this},t.prototype.clearLayer=function(e){var r=this._layers[e];r&&r.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[ps].dom;var r=new tg("image",this,e.pixelRatio||this.dpr);r.initContext(),r.clear(!1,e.backgroundColor||this._backgroundColor);var n=r.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,a=r.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),u=0,l=s.length;u<l;u++){var c=s[u];Ds(n,c,o,u===l-1)}return r.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();function SV(t){t.registerPainter("canvas",xV)}function o8(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"m15 18-6-6 6-6"}]];mr(t,gr({name:"chevron-left"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function s8(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"m9 18 6-6-6-6"}]];mr(t,gr({name:"chevron-right"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}class Hs extends Error{}class TV extends Hs{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class MV extends Hs{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class DV extends Hs{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Au extends Hs{}class u8 extends Hs{constructor(e){super(`Invalid unit ${e}`)}}class hn extends Hs{}class fo extends Hs{constructor(){super("Zone is an abstract class")}}const Le="numeric",$i="short",Xn="long",fv={year:Le,month:Le,day:Le},l8={year:Le,month:$i,day:Le},CV={year:Le,month:$i,day:Le,weekday:$i},c8={year:Le,month:Xn,day:Le},f8={year:Le,month:Xn,day:Le,weekday:Xn},h8={hour:Le,minute:Le},d8={hour:Le,minute:Le,second:Le},v8={hour:Le,minute:Le,second:Le,timeZoneName:$i},p8={hour:Le,minute:Le,second:Le,timeZoneName:Xn},g8={hour:Le,minute:Le,hourCycle:"h23"},m8={hour:Le,minute:Le,second:Le,hourCycle:"h23"},y8={hour:Le,minute:Le,second:Le,hourCycle:"h23",timeZoneName:$i},_8={hour:Le,minute:Le,second:Le,hourCycle:"h23",timeZoneName:Xn},b8={year:Le,month:Le,day:Le,hour:Le,minute:Le},w8={year:Le,month:Le,day:Le,hour:Le,minute:Le,second:Le},x8={year:Le,month:$i,day:Le,hour:Le,minute:Le},S8={year:Le,month:$i,day:Le,hour:Le,minute:Le,second:Le},AV={year:Le,month:$i,day:Le,weekday:$i,hour:Le,minute:Le},T8={year:Le,month:Xn,day:Le,hour:Le,minute:Le,timeZoneName:$i},M8={year:Le,month:Xn,day:Le,hour:Le,minute:Le,second:Le,timeZoneName:$i},D8={year:Le,month:Xn,day:Le,weekday:Xn,hour:Le,minute:Le,timeZoneName:Xn},C8={year:Le,month:Xn,day:Le,weekday:Xn,hour:Le,minute:Le,second:Le,timeZoneName:Xn};class kf{get type(){throw new fo}get name(){throw new fo}get ianaName(){return this.name}get isUniversal(){throw new fo}offsetName(e,r){throw new fo}formatOffset(e,r){throw new fo}offset(e){throw new fo}equals(e){throw new fo}get isValid(){throw new fo}}let rg=null;class dp extends kf{static get instance(){return rg===null&&(rg=new dp),rg}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return z8(e,r,n)}formatOffset(e,r){return Bc(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const $m=new Map;function IV(t){let e=$m.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),$m.set(t,e)),e}const EV={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function kV(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,a,o,s,u,l,c]=n;return[o,i,a,s,u,l,c]}function OV(t,e){const r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){const{type:a,value:o}=r[i],s=EV[a];a==="era"?n[s]=o:ct(s)||(n[s]=parseInt(o,10))}return n}const ng=new Map;class Ua extends kf{static create(e){let r=ng.get(e);return r===void 0&&ng.set(e,r=new Ua(e)),r}static resetCache(){ng.clear(),$m.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ua.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return z8(e,r,n,this.name)}formatOffset(e,r){return Bc(this.offset(e),r)}offset(e){if(!this.valid)return NaN;const r=new Date(e);if(isNaN(r))return NaN;const n=IV(this.name);let[i,a,o,s,u,l,c]=n.formatToParts?OV(n,r):kV(n,r);s==="BC"&&(i=-Math.abs(i)+1);const h=pp({year:i,month:a,day:o,hour:u===24?0:u,minute:l,second:c,millisecond:0});let d=+r;const v=d%1e3;return d-=v>=0?v:1e3+v,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let e4={};function PV(t,e={}){const r=JSON.stringify([t,e]);let n=e4[r];return n||(n=new Intl.ListFormat(t,e),e4[r]=n),n}const Vm=new Map;function Hm(t,e={}){const r=JSON.stringify([t,e]);let n=Vm.get(r);return n===void 0&&(n=new Intl.DateTimeFormat(t,e),Vm.set(r,n)),n}const Gm=new Map;function LV(t,e={}){const r=JSON.stringify([t,e]);let n=Gm.get(r);return n===void 0&&(n=new Intl.NumberFormat(t,e),Gm.set(r,n)),n}const Wm=new Map;function RV(t,e={}){const{base:r,...n}=e,i=JSON.stringify([t,n]);let a=Wm.get(i);return a===void 0&&(a=new Intl.RelativeTimeFormat(t,e),Wm.set(i,a)),a}let pc=null;function NV(){return pc||(pc=new Intl.DateTimeFormat().resolvedOptions().locale,pc)}const Um=new Map;function A8(t){let e=Um.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),Um.set(t,e)),e}const qm=new Map;function FV(t){let e=qm.get(t);if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in e||(e={...I8,...e}),qm.set(t,e)}return e}function zV(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,i;try{n=Hm(t).resolvedOptions(),i=t}catch{const u=t.substring(0,r);n=Hm(u).resolvedOptions(),i=u}const{numberingSystem:a,calendar:o}=n;return[i,a,o]}}function BV(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function $V(t){const e=[];for(let r=1;r<=12;r++){const n=Qe.utc(2009,r,1);e.push(t(n))}return e}function VV(t){const e=[];for(let r=1;r<=7;r++){const n=Qe.utc(2016,11,13+r);e.push(t(n))}return e}function Yh(t,e,r,n){const i=t.listingMode();return i==="error"?null:i==="en"?r(e):n(e)}function HV(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||A8(t.locale).numberingSystem==="latn"}class GV{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:a,...o}=n;if(!r||Object.keys(o).length>0){const s={useGrouping:!1,...n};n.padTo>0&&(s.minimumIntegerDigits=n.padTo),this.inf=LV(e,s)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):F2(e,3);return Pr(r,this.padTo)}}}class WV{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),s=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Ua.create(s).valid?(i=s,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const a={...this.opts};a.timeZone=a.timeZone||i,this.dtf=Hm(r,a)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class UV{constructor(e,r,n){this.opts={style:"long",...n},!r&&N8()&&(this.rtf=RV(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):dH(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const I8={firstDay:1,minimalDays:4,weekend:[6,7]};class Gt{static fromOpts(e){return Gt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,i,a=!1){const o=e||br.defaultLocale,s=o||(a?"en-US":NV()),u=r||br.defaultNumberingSystem,l=n||br.defaultOutputCalendar,c=jm(i)||br.defaultWeekSettings;return new Gt(s,u,l,c,o)}static resetCache(){pc=null,Vm.clear(),Gm.clear(),Wm.clear(),Um.clear(),qm.clear()}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return Gt.create(e,r,n,i)}constructor(e,r,n,i,a){const[o,s,u]=zV(e);this.locale=o,this.numberingSystem=r||s||null,this.outputCalendar=n||u||null,this.weekSettings=i,this.intl=BV(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=HV(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Gt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,jm(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return Yh(this,e,V8,()=>{const n=this.intl==="ja"||this.intl.startsWith("ja-");r&=!n;const i=r?{month:e,day:"numeric"}:{month:e},a=r?"format":"standalone";if(!this.monthsCache[a][e]){const o=n?s=>this.dtFormatter(s,i).format():s=>this.extract(s,i,"month");this.monthsCache[a][e]=$V(o)}return this.monthsCache[a][e]})}weekdays(e,r=!1){return Yh(this,e,W8,()=>{const n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=r?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=VV(a=>this.extract(a,n,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Yh(this,void 0,()=>U8,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Qe.utc(2016,11,13,9),Qe.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Yh(this,e,q8,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Qe.utc(-40,1,1),Qe.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){const i=this.dtFormatter(e,r),a=i.formatToParts(),o=a.find(s=>s.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new GV(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new WV(e,this.intl,r)}relFormatter(e={}){return new UV(this.intl,this.isEnglish(),e)}listFormatter(e={}){return PV(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||A8(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:F8()?FV(this.locale):I8}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let ig=null;class Tn extends kf{static get utcInstance(){return ig===null&&(ig=new Tn(0)),ig}static instance(e){return e===0?Tn.utcInstance:new Tn(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Tn(gp(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Bc(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Bc(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Bc(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class qV extends kf{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function bo(t,e){if(ct(t)||t===null)return e;if(t instanceof kf)return t;if(JV(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?dp.instance:r==="utc"||r==="gmt"?Tn.utcInstance:Tn.parseSpecifier(r)||Ua.create(t)}else return Ao(t)?Tn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new qV(t)}const P2={arab:"[Ù -Ù©]",arabext:"[Û°-Û¹]",bali:"[á­-á­]",beng:"[à§¦-à§¯]",deva:"[à¥¦-à¥¯]",fullwide:"[ï¼-ï¼]",gujr:"[à«¦-à«¯]",hanidec:"[ã|ä¸|äº|ä¸|å|äº|å­|ä¸|å«|ä¹]",khmr:"[á -á©]",knda:"[à³¦-à³¯]",laoo:"[à»-à»]",limb:"[á¥-á¥]",mlym:"[àµ¦-àµ¯]",mong:"[á -á ]",mymr:"[á-á]",orya:"[à­¦-à­¯]",tamldec:"[à¯¦-à¯¯]",telu:"[à±¦-à±¯]",thai:"[à¹-à¹]",tibt:"[à¼ -à¼©]",latn:"\\d"},t4={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},YV=P2.hanidec.replace(/[\[|\]]/g,"").split("");function jV(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(P2.hanidec)!==-1)e+=YV.indexOf(t[r]);else for(const i in t4){const[a,o]=t4[i];n>=a&&n<=o&&(e+=n-a)}}return parseInt(e,10)}else return e}const Ym=new Map;function KV(){Ym.clear()}function Ai({numberingSystem:t},e=""){const r=t||"latn";let n=Ym.get(r);n===void 0&&(n=new Map,Ym.set(r,n));let i=n.get(e);return i===void 0&&(i=new RegExp(`${P2[r]}${e}`),n.set(e,i)),i}let r4=()=>Date.now(),n4="system",i4=null,a4=null,o4=null,s4=60,u4,l4=null,br=class{static get now(){return r4}static set now(e){r4=e}static set defaultZone(e){n4=e}static get defaultZone(){return bo(n4,dp.instance)}static get defaultLocale(){return i4}static set defaultLocale(e){i4=e}static get defaultNumberingSystem(){return a4}static set defaultNumberingSystem(e){a4=e}static get defaultOutputCalendar(){return o4}static set defaultOutputCalendar(e){o4=e}static get defaultWeekSettings(){return l4}static set defaultWeekSettings(e){l4=jm(e)}static get twoDigitCutoffYear(){return s4}static set twoDigitCutoffYear(e){s4=e%100}static get throwOnInvalid(){return u4}static set throwOnInvalid(e){u4=e}static resetCaches(){Gt.resetCache(),Ua.resetCache(),Qe.resetCache(),KV()}};class zi{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const E8=[0,31,59,90,120,151,181,212,243,273,304,334],k8=[0,31,60,91,121,152,182,213,244,274,305,335];function pi(t,e){return new zi("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function L2(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function O8(t,e,r){return r+(Of(t)?k8:E8)[e-1]}function P8(t,e){const r=Of(t)?k8:E8,n=r.findIndex(a=>a<e),i=e-r[n];return{month:n+1,day:i}}function R2(t,e){return(t-e+7)%7+1}function hv(t,e=4,r=1){const{year:n,month:i,day:a}=t,o=O8(n,i,a),s=R2(L2(n,i,a),r);let u=Math.floor((o-s+14-e)/7),l;return u<1?(l=n-1,u=sf(l,e,r)):u>sf(n,e,r)?(l=n+1,u=1):l=n,{weekYear:l,weekNumber:u,weekday:s,...mp(t)}}function c4(t,e=4,r=1){const{weekYear:n,weekNumber:i,weekday:a}=t,o=R2(L2(n,1,e),r),s=Gu(n);let u=i*7+a-o-7+e,l;u<1?(l=n-1,u+=Gu(l)):u>s?(l=n+1,u-=Gu(n)):l=n;const{month:c,day:f}=P8(l,u);return{year:l,month:c,day:f,...mp(t)}}function ag(t){const{year:e,month:r,day:n}=t,i=O8(e,r,n);return{year:e,ordinal:i,...mp(t)}}function f4(t){const{year:e,ordinal:r}=t,{month:n,day:i}=P8(e,r);return{year:e,month:n,day:i,...mp(t)}}function h4(t,e){if(!ct(t.localWeekday)||!ct(t.localWeekNumber)||!ct(t.localWeekYear)){if(!ct(t.weekday)||!ct(t.weekNumber)||!ct(t.weekYear))throw new Au("Cannot mix locale-based week fields with ISO-based week fields");return ct(t.localWeekday)||(t.weekday=t.localWeekday),ct(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),ct(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function ZV(t,e=4,r=1){const n=vp(t.weekYear),i=gi(t.weekNumber,1,sf(t.weekYear,e,r)),a=gi(t.weekday,1,7);return n?i?a?!1:pi("weekday",t.weekday):pi("week",t.weekNumber):pi("weekYear",t.weekYear)}function XV(t){const e=vp(t.year),r=gi(t.ordinal,1,Gu(t.year));return e?r?!1:pi("ordinal",t.ordinal):pi("year",t.year)}function L8(t){const e=vp(t.year),r=gi(t.month,1,12),n=gi(t.day,1,dv(t.year,t.month));return e?r?n?!1:pi("day",t.day):pi("month",t.month):pi("year",t.year)}function R8(t){const{hour:e,minute:r,second:n,millisecond:i}=t,a=gi(e,0,23)||e===24&&r===0&&n===0&&i===0,o=gi(r,0,59),s=gi(n,0,59),u=gi(i,0,999);return a?o?s?u?!1:pi("millisecond",i):pi("second",n):pi("minute",r):pi("hour",e)}function ct(t){return typeof t>"u"}function Ao(t){return typeof t=="number"}function vp(t){return typeof t=="number"&&t%1===0}function JV(t){return typeof t=="string"}function QV(t){return Object.prototype.toString.call(t)==="[object Date]"}function N8(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function F8(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function eH(t){return Array.isArray(t)?t:[t]}function d4(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{const a=[e(i),i];return n&&r(n[0],a[0])===n[0]?n:a},null)[1]}function tH(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Qu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jm(t){if(t==null)return null;if(typeof t!="object")throw new hn("Week settings must be an object");if(!gi(t.firstDay,1,7)||!gi(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!gi(e,1,7)))throw new hn("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function gi(t,e,r){return vp(t)&&t>=e&&t<=r}function rH(t,e){return t-e*Math.floor(t/e)}function Pr(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function mo(t){if(!(ct(t)||t===null||t===""))return parseInt(t,10)}function gs(t){if(!(ct(t)||t===null||t===""))return parseFloat(t)}function N2(t){if(!(ct(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function F2(t,e,r="round"){const n=10**e;switch(r){case"expand":return t>0?Math.ceil(t*n)/n:Math.floor(t*n)/n;case"trunc":return Math.trunc(t*n)/n;case"round":return Math.round(t*n)/n;case"floor":return Math.floor(t*n)/n;case"ceil":return Math.ceil(t*n)/n;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function Of(t){return t%4===0&&(t%100!==0||t%400===0)}function Gu(t){return Of(t)?366:365}function dv(t,e){const r=rH(e-1,12)+1,n=t+(e-r)/12;return r===2?Of(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function pp(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function v4(t,e,r){return-R2(L2(t,1,e),r)+e-1}function sf(t,e=4,r=1){const n=v4(t,e,r),i=v4(t+1,e,r);return(Gu(t)-n+i)/7}function Km(t){return t>99?t:t>br.twoDigitCutoffYear?1900+t:2e3+t}function z8(t,e,r,n=null){const i=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);const o={timeZoneName:e,...a},s=new Intl.DateTimeFormat(r,o).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return s?s.value:null}function gp(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function B8(t){const e=Number(t);if(typeof t=="boolean"||t===""||!Number.isFinite(e))throw new hn(`Invalid unit value ${t}`);return e}function vv(t,e){const r={};for(const n in t)if(Qu(t,n)){const i=t[n];if(i==null)continue;r[e(n)]=B8(i)}return r}function Bc(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Pr(r,2)}:${Pr(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${Pr(r,2)}${Pr(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function mp(t){return tH(t,["hour","minute","second","millisecond"])}const nH=["January","February","March","April","May","June","July","August","September","October","November","December"],$8=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],iH=["J","F","M","A","M","J","J","A","S","O","N","D"];function V8(t){switch(t){case"narrow":return[...iH];case"short":return[...$8];case"long":return[...nH];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const H8=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],G8=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],aH=["M","T","W","T","F","S","S"];function W8(t){switch(t){case"narrow":return[...aH];case"short":return[...G8];case"long":return[...H8];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const U8=["AM","PM"],oH=["Before Christ","Anno Domini"],sH=["BC","AD"],uH=["B","A"];function q8(t){switch(t){case"narrow":return[...uH];case"short":return[...sH];case"long":return[...oH];default:return null}}function lH(t){return U8[t.hour<12?0:1]}function cH(t,e){return W8(e)[t.weekday-1]}function fH(t,e){return V8(e)[t.month-1]}function hH(t,e){return q8(e)[t.year<0?0:1]}function dH(t,e,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&a){const f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${i[t][0]}`;case-1:return f?"yesterday":`last ${i[t][0]}`;case 0:return f?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,s=Math.abs(e),u=s===1,l=i[t],c=n?u?l[1]:l[2]||l[1]:u?i[t][0]:t;return o?`${s} ${c} ago`:`in ${s} ${c}`}function p4(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const vH={D:fv,DD:l8,DDD:c8,DDDD:f8,t:h8,tt:d8,ttt:v8,tttt:p8,T:g8,TT:m8,TTT:y8,TTTT:_8,f:b8,ff:x8,fff:T8,ffff:D8,F:w8,FF:S8,FFF:M8,FFFF:C8};class vn{static create(e,r={}){return new vn(e,r)}static parseFormat(e){let r=null,n="",i=!1;const a=[];for(let o=0;o<e.length;o++){const s=e.charAt(o);s==="'"?((n.length>0||i)&&a.push({literal:i||/^\s+$/.test(n),val:n===""?"'":n}),r=null,n="",i=!i):i||s===r?n+=s:(n.length>0&&a.push({literal:/^\s+$/.test(n),val:n}),n=s,r=s)}return n.length>0&&a.push({literal:i||/^\s+$/.test(n),val:n}),a}static macroTokenToFormatOpts(e){return vH[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0,n=void 0){if(this.opts.forceSimple)return Pr(e,r);const i={...this.opts};return r>0&&(i.padTo=r),n&&(i.signDisplay=n),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(d,v)=>this.loc.extract(e,d,v),o=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",s=()=>n?lH(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(d,v)=>n?fH(e,d):a(v?{month:d}:{month:d,day:"numeric"},"month"),l=(d,v)=>n?cH(e,d):a(v?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),c=d=>{const v=vn.macroTokenToFormatOpts(d);return v?this.formatWithSystemDefault(e,v):d},f=d=>n?hH(e,d):a({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(d)}};return p4(vn.parseFormat(r),h)}formatDurationFromString(e,r){const n=this.opts.signMode==="negativeLargestOnly"?-1:1,i=c=>{switch(c[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},a=(c,f)=>h=>{const d=i(h);if(d){const v=f.isNegativeDuration&&d!==f.largestUnit?n:1;let g;return this.opts.signMode==="negativeLargestOnly"&&d!==f.largestUnit?g="never":this.opts.signMode==="all"?g="always":g="auto",this.num(c.get(d)*v,h.length,g)}else return h},o=vn.parseFormat(r),s=o.reduce((c,{literal:f,val:h})=>f?c:c.concat(h),[]),u=e.shiftTo(...s.map(i).filter(c=>c)),l={isNegativeDuration:u<0,largestUnit:Object.keys(u.values)[0]};return p4(o,a(u,l))}}const Y8=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function gl(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function ml(...t){return e=>t.reduce(([r,n,i],a)=>{const[o,s,u]=a(e,i);return[{...r,...o},s||n,u]},[{},null,1]).slice(0,2)}function yl(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const i=r.exec(t);if(i)return n(i)}return[null,null]}function j8(...t){return(e,r)=>{const n={};let i;for(i=0;i<t.length;i++)n[t[i]]=mo(e[r+i]);return[n,null,r+i]}}const K8=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,pH=`(?:${K8.source}?(?:\\[(${Y8.source})\\])?)?`,z2=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Z8=RegExp(`${z2.source}${pH}`),B2=RegExp(`(?:[Tt]${Z8.source})?`),gH=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,mH=/(\d{4})-?W(\d\d)(?:-?(\d))?/,yH=/(\d{4})-?(\d{3})/,_H=j8("weekYear","weekNumber","weekDay"),bH=j8("year","ordinal"),wH=/(\d{4})-(\d\d)-(\d\d)/,X8=RegExp(`${z2.source} ?(?:${K8.source}|(${Y8.source}))?`),xH=RegExp(`(?: ${X8.source})?`);function Wu(t,e,r){const n=t[e];return ct(n)?r:mo(n)}function SH(t,e){return[{year:Wu(t,e),month:Wu(t,e+1,1),day:Wu(t,e+2,1)},null,e+3]}function _l(t,e){return[{hours:Wu(t,e,0),minutes:Wu(t,e+1,0),seconds:Wu(t,e+2,0),milliseconds:N2(t[e+3])},null,e+4]}function Pf(t,e){const r=!t[e]&&!t[e+1],n=gp(t[e+1],t[e+2]),i=r?null:Tn.instance(n);return[{},i,e+3]}function Lf(t,e){const r=t[e]?Ua.create(t[e]):null;return[{},r,e+1]}const TH=RegExp(`^T?${z2.source}$`),MH=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function DH(t){const[e,r,n,i,a,o,s,u,l]=t,c=e[0]==="-",f=u&&u[0]==="-",h=(d,v=!1)=>d!==void 0&&(v||d&&c)?-d:d;return[{years:h(gs(r)),months:h(gs(n)),weeks:h(gs(i)),days:h(gs(a)),hours:h(gs(o)),minutes:h(gs(s)),seconds:h(gs(u),u==="-0"),milliseconds:h(N2(l),f)}]}const CH={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function $2(t,e,r,n,i,a,o){const s={year:e.length===2?Km(mo(e)):mo(e),month:$8.indexOf(r)+1,day:mo(n),hour:mo(i),minute:mo(a)};return o&&(s.second=mo(o)),t&&(s.weekday=t.length>3?H8.indexOf(t)+1:G8.indexOf(t)+1),s}const AH=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function IH(t){const[,e,r,n,i,a,o,s,u,l,c,f]=t,h=$2(e,i,n,r,a,o,s);let d;return u?d=CH[u]:l?d=0:d=gp(c,f),[h,new Tn(d)]}function EH(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const kH=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,OH=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,PH=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function g4(t){const[,e,r,n,i,a,o,s]=t;return[$2(e,i,n,r,a,o,s),Tn.utcInstance]}function LH(t){const[,e,r,n,i,a,o,s]=t;return[$2(e,s,r,n,i,a,o),Tn.utcInstance]}const RH=gl(gH,B2),NH=gl(mH,B2),FH=gl(yH,B2),zH=gl(Z8),J8=ml(SH,_l,Pf,Lf),BH=ml(_H,_l,Pf,Lf),$H=ml(bH,_l,Pf,Lf),VH=ml(_l,Pf,Lf);function HH(t){return yl(t,[RH,J8],[NH,BH],[FH,$H],[zH,VH])}function GH(t){return yl(EH(t),[AH,IH])}function WH(t){return yl(t,[kH,g4],[OH,g4],[PH,LH])}function UH(t){return yl(t,[MH,DH])}const qH=ml(_l);function YH(t){return yl(t,[TH,qH])}const jH=gl(wH,xH),KH=gl(X8),ZH=ml(_l,Pf,Lf);function XH(t){return yl(t,[jH,J8],[KH,ZH])}const m4="Invalid Duration",Q8={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},JH={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Q8},oi=146097/400,mu=146097/4800,QH={years:{quarters:4,months:12,weeks:oi/7,days:oi,hours:oi*24,minutes:oi*24*60,seconds:oi*24*60*60,milliseconds:oi*24*60*60*1e3},quarters:{months:3,weeks:oi/28,days:oi/4,hours:oi*24/4,minutes:oi*24*60/4,seconds:oi*24*60*60/4,milliseconds:oi*24*60*60*1e3/4},months:{weeks:mu/7,days:mu,hours:mu*24,minutes:mu*24*60,seconds:mu*24*60*60,milliseconds:mu*24*60*60*1e3},...Q8},Cs=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],eG=Cs.slice(0).reverse();function La(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Rt(n)}function e9(t,e){let r=e.milliseconds??0;for(const n of eG.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function y4(t,e){const r=e9(t,e)<0?-1:1;Cs.reduceRight((n,i)=>{if(ct(e[i]))return n;if(n){const a=e[n]*r,o=t[i][n],s=Math.floor(a/o);e[i]+=s*r,e[n]-=s*o*r}return i},null),Cs.reduce((n,i)=>{if(ct(e[i]))return n;if(n){const a=e[n]%1;e[n]-=a,e[i]+=a*t[n][i]}return i},null)}function _4(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class Rt{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?QH:JH;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Gt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return Rt.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new hn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Rt({values:vv(e,Rt.normalizeUnit),loc:Gt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(Ao(e))return Rt.fromMillis(e);if(Rt.isDuration(e))return e;if(typeof e=="object")return Rt.fromObject(e);throw new hn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=UH(e);return n?Rt.fromObject(n,r):Rt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=YH(e);return n?Rt.fromObject(n,r):Rt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new hn("need to specify a reason the Duration is invalid");const n=e instanceof zi?e:new zi(e,r);if(br.throwOnInvalid)throw new DV(n);return new Rt({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new u8(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?vn.create(this.loc,n).formatDurationFromString(this,e):m4}toHuman(e={}){if(!this.isValid)return m4;const r=e.showZeros!==!1,n=Cs.map(i=>{const a=this.values[i];return ct(a)||a===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(a)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=F2(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Qe.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?e9(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=Rt.fromDurationLike(e),n={};for(const i of Cs)(Qu(r.values,i)||Qu(this.values,i))&&(n[i]=r.get(i)+this.get(i));return La(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=Rt.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=B8(e(this.values[n],n));return La(this,{values:r},!0)}get(e){return this[Rt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...vv(e,Rt.normalizeUnit)};return La(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:i,conversionAccuracy:n};return La(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return y4(this.matrix,e),La(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=_4(this.normalize().shiftToAll().toObject());return La(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>Rt.normalizeUnit(o));const r={},n={},i=this.toObject();let a;for(const o of Cs)if(e.indexOf(o)>=0){a=o;let s=0;for(const l in n)s+=this.matrix[l][o]*n[l],n[l]=0;Ao(i[o])&&(s+=i[o]);const u=Math.trunc(s);r[o]=u,n[o]=(s*1e3-u*1e3)/1e3}else Ao(i[o])&&(n[o]=i[o]);for(const o in n)n[o]!==0&&(r[a]+=o===a?n[o]:n[o]/this.matrix[a][o]);return y4(this.matrix,r),La(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return La(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=_4(this.values);return La(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of Cs)if(!r(this.values[n],e.values[n]))return!1;return!0}}const yu="Invalid Interval";function tG(t,e){return!t||!t.isValid?yr.invalid("missing or invalid start"):!e||!e.isValid?yr.invalid("missing or invalid end"):e<t?yr.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class yr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new hn("need to specify a reason the Interval is invalid");const n=e instanceof zi?e:new zi(e,r);if(br.throwOnInvalid)throw new MV(n);return new yr({invalid:n})}static fromDateTimes(e,r){const n=ic(e),i=ic(r),a=tG(n,i);return a??new yr({start:n,end:i})}static after(e,r){const n=Rt.fromDurationLike(r),i=ic(e);return yr.fromDateTimes(i,i.plus(n))}static before(e,r){const n=Rt.fromDurationLike(r),i=ic(e);return yr.fromDateTimes(i.minus(n),i)}static fromISO(e,r){const[n,i]=(e||"").split("/",2);if(n&&i){let a,o;try{a=Qe.fromISO(n,r),o=a.isValid}catch{o=!1}let s,u;try{s=Qe.fromISO(i,r),u=s.isValid}catch{u=!1}if(o&&u)return yr.fromDateTimes(a,s);if(o){const l=Rt.fromISO(i,r);if(l.isValid)return yr.after(a,l)}else if(u){const l=Rt.fromISO(n,r);if(l.isValid)return yr.before(s,l)}}return yr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(e,r);let i;return r!=null&&r.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(e,r),Math.floor(i.diff(n,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?yr.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(ic).filter(o=>this.contains(o)).sort((o,s)=>o.toMillis()-s.toMillis()),n=[];let{s:i}=this,a=0;for(;i<this.e;){const o=r[a]||this.e,s=+o>+this.e?this.e:o;n.push(yr.fromDateTimes(i,s)),i=s,a+=1}return n}splitBy(e){const r=Rt.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,a;const o=[];for(;n<this.e;){const s=this.start.plus(r.mapUnits(u=>u*i));a=+s>+this.e?this.e:s,o.push(yr.fromDateTimes(n,a)),n=a,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:yr.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return yr.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],o)=>a?a.overlaps(o)||a.abutsStart(o)?[i,a.union(o)]:[i.concat([a]),o]:[i,o],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const i=[],a=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),o=Array.prototype.concat(...a),s=o.sort((u,l)=>u.time-l.time);for(const u of s)n+=u.type==="s"?1:-1,n===1?r=u.time:(r&&+r!=+u.time&&i.push(yr.fromDateTimes(r,u.time)),r=null);return yr.merge(i)}difference(...e){return yr.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} â ${this.e.toISO()})`:yu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=fv,r={}){return this.isValid?vn.create(this.s.loc.clone(r),e).formatInterval(this):yu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:yu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:yu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:yu}toFormat(e,{separator:r=" â "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:yu}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):Rt.invalid(this.invalidReason)}mapEndpoints(e){return yr.fromDateTimes(e(this.s),e(this.e))}}class jh{static hasDST(e=br.defaultZone){const r=Qe.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Ua.isValidZone(e)}static normalizeZone(e){return bo(e,br.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Gt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Gt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Gt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Gt.create(r,n,a)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Gt.create(r,n,a)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Gt.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Gt.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Gt.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Gt.create(r,null,"gregory").eras(e)}static features(){return{relative:N8(),localeWeek:F8()}}}function b4(t,e){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(Rt.fromMillis(n).as("days"))}function rG(t,e,r){const n=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter+(l.year-u.year)*4],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{const c=b4(u,l);return(c-c%7)/7}],["days",b4]],i={},a=t;let o,s;for(const[u,l]of n)r.indexOf(u)>=0&&(o=u,i[u]=l(t,e),s=a.plus(i),s>e?(i[u]--,t=a.plus(i),t>e&&(s=t,i[u]--,t=a.plus(i))):t=s);return[t,i,s,o]}function nG(t,e,r,n){let[i,a,o,s]=rG(t,e,r);const u=e-i,l=r.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);l.length===0&&(o<e&&(o=i.plus({[s]:1})),o!==i&&(a[s]=(a[s]||0)+u/(o-i)));const c=Rt.fromObject(a,n);return l.length>0?Rt.fromMillis(u,n).shiftTo(...l).plus(c):c}const iG="missing Intl.DateTimeFormat.formatToParts support";function Bt(t,e=r=>r){return{regex:t,deser:([r])=>e(jV(r))}}const aG="Â ",t9=`[ ${aG}]`,r9=new RegExp(t9,"g");function oG(t){return t.replace(/\./g,"\\.?").replace(r9,t9)}function w4(t){return t.replace(/\./g,"").replace(r9," ").toLowerCase()}function Ii(t,e){return t===null?null:{regex:RegExp(t.map(oG).join("|")),deser:([r])=>t.findIndex(n=>w4(r)===w4(n))+e}}function x4(t,e){return{regex:t,deser:([,r,n])=>gp(r,n),groups:e}}function Kh(t){return{regex:t,deser:([e])=>e}}function sG(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function uG(t,e){const r=Ai(e),n=Ai(e,"{2}"),i=Ai(e,"{3}"),a=Ai(e,"{4}"),o=Ai(e,"{6}"),s=Ai(e,"{1,2}"),u=Ai(e,"{1,3}"),l=Ai(e,"{1,6}"),c=Ai(e,"{1,9}"),f=Ai(e,"{2,4}"),h=Ai(e,"{4,6}"),d=m=>({regex:RegExp(sG(m.val)),deser:([y])=>y,literal:!0}),g=(m=>{if(t.literal)return d(m);switch(m.val){case"G":return Ii(e.eras("short"),0);case"GG":return Ii(e.eras("long"),0);case"y":return Bt(l);case"yy":return Bt(f,Km);case"yyyy":return Bt(a);case"yyyyy":return Bt(h);case"yyyyyy":return Bt(o);case"M":return Bt(s);case"MM":return Bt(n);case"MMM":return Ii(e.months("short",!0),1);case"MMMM":return Ii(e.months("long",!0),1);case"L":return Bt(s);case"LL":return Bt(n);case"LLL":return Ii(e.months("short",!1),1);case"LLLL":return Ii(e.months("long",!1),1);case"d":return Bt(s);case"dd":return Bt(n);case"o":return Bt(u);case"ooo":return Bt(i);case"HH":return Bt(n);case"H":return Bt(s);case"hh":return Bt(n);case"h":return Bt(s);case"mm":return Bt(n);case"m":return Bt(s);case"q":return Bt(s);case"qq":return Bt(n);case"s":return Bt(s);case"ss":return Bt(n);case"S":return Bt(u);case"SSS":return Bt(i);case"u":return Kh(c);case"uu":return Kh(s);case"uuu":return Bt(r);case"a":return Ii(e.meridiems(),0);case"kkkk":return Bt(a);case"kk":return Bt(f,Km);case"W":return Bt(s);case"WW":return Bt(n);case"E":case"c":return Bt(r);case"EEE":return Ii(e.weekdays("short",!1),1);case"EEEE":return Ii(e.weekdays("long",!1),1);case"ccc":return Ii(e.weekdays("short",!0),1);case"cccc":return Ii(e.weekdays("long",!0),1);case"Z":case"ZZ":return x4(new RegExp(`([+-]${s.source})(?::(${n.source}))?`),2);case"ZZZ":return x4(new RegExp(`([+-]${s.source})(${n.source})?`),2);case"z":return Kh(/[a-z_+-/]{1,256}?/i);case" ":return Kh(/[^\S\n\r]/);default:return d(m)}})(t)||{invalidReason:iG};return g.token=t,g}const lG={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function cG(t,e,r){const{type:n,value:i}=t;if(n==="literal"){const u=/^\s+$/.test(i);return{literal:!u,val:u?" ":i}}const a=e[n];let o=n;n==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let s=lG[o];if(typeof s=="object"&&(s=s[a]),s)return{literal:!1,val:s}}function fG(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function hG(t,e,r){const n=t.match(e);if(n){const i={};let a=1;for(const o in r)if(Qu(r,o)){const s=r[o],u=s.groups?s.groups+1:1;!s.literal&&s.token&&(i[s.token.val[0]]=s.deser(n.slice(a,a+u))),a+=u}return[n,i]}else return[n,{}]}function dG(t){const e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return ct(t.z)||(r=Ua.create(t.z)),ct(t.Z)||(r||(r=new Tn(t.Z)),n=t.Z),ct(t.q)||(t.M=(t.q-1)*3+1),ct(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ct(t.u)||(t.S=N2(t.u)),[Object.keys(t).reduce((a,o)=>{const s=e(o);return s&&(a[s]=t[o]),a},{}),r,n]}let og=null;function vG(){return og||(og=Qe.fromMillis(1555555555555)),og}function pG(t,e){if(t.literal)return t;const r=vn.macroTokenToFormatOpts(t.val),n=o9(r,e);return n==null||n.includes(void 0)?t:n}function n9(t,e){return Array.prototype.concat(...t.map(r=>pG(r,e)))}class i9{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=n9(vn.parseFormat(r),e),this.units=this.tokens.map(n=>uG(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,i]=fG(this.units);this.regex=RegExp(n,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[r,n]=hG(e,this.regex,this.handlers),[i,a,o]=n?dG(n):[null,null,void 0];if(Qu(n,"a")&&Qu(n,"H"))throw new Au("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:i,zone:a,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function a9(t,e,r){return new i9(t,r).explainFromTokens(e)}function gG(t,e,r){const{result:n,zone:i,specificOffset:a,invalidReason:o}=a9(t,e,r);return[n,i,a,o]}function o9(t,e){if(!t)return null;const n=vn.create(e,t).dtFormatter(vG()),i=n.formatToParts(),a=n.resolvedOptions();return i.map(o=>cG(o,t,a))}const sg="Invalid DateTime",mG=864e13;function gc(t){return new zi("unsupported zone",`the zone "${t.name}" is not supported`)}function ug(t){return t.weekData===null&&(t.weekData=hv(t.c)),t.weekData}function lg(t){return t.localWeekData===null&&(t.localWeekData=hv(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function ms(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Qe({...r,...e,old:r})}function s9(t,e,r){let n=t-e*60*1e3;const i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;const a=r.offset(n);return i===a?[n,i]:[t-Math.min(i,a)*60*1e3,Math.max(i,a)]}function Zh(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function wd(t,e,r){return s9(pp(t),e,r)}function S4(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:n,month:i,day:Math.min(t.c.day,dv(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=Rt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),s=pp(a);let[u,l]=s9(s,r,t.zone);return o!==0&&(u+=o,l=t.zone.offset(u)),{ts:u,o:l}}function _u(t,e,r,n,i,a){const{setZone:o,zone:s}=r;if(t&&Object.keys(t).length!==0||e){const u=e||s,l=Qe.fromObject(t,{...r,zone:u,specificOffset:a});return o?l:l.setZone(s)}else return Qe.invalid(new zi("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Xh(t,e,r=!0){return t.isValid?vn.create(Gt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function cg(t,e,r){const n=t.c.year>9999||t.c.year<0;let i="";if(n&&t.c.year>=0&&(i+="+"),i+=Pr(t.c.year,n?6:4),r==="year")return i;if(e){if(i+="-",i+=Pr(t.c.month),r==="month")return i;i+="-"}else if(i+=Pr(t.c.month),r==="month")return i;return i+=Pr(t.c.day),i}function T4(t,e,r,n,i,a,o){let s=!r||t.c.millisecond!==0||t.c.second!==0,u="";switch(o){case"day":case"month":case"year":break;default:if(u+=Pr(t.c.hour),o==="hour")break;if(e){if(u+=":",u+=Pr(t.c.minute),o==="minute")break;s&&(u+=":",u+=Pr(t.c.second))}else{if(u+=Pr(t.c.minute),o==="minute")break;s&&(u+=Pr(t.c.second))}if(o==="second")break;s&&(!n||t.c.millisecond!==0)&&(u+=".",u+=Pr(t.c.millisecond,3))}return i&&(t.isOffsetFixed&&t.offset===0&&!a?u+="Z":t.o<0?(u+="-",u+=Pr(Math.trunc(-t.o/60)),u+=":",u+=Pr(Math.trunc(-t.o%60))):(u+="+",u+=Pr(Math.trunc(t.o/60)),u+=":",u+=Pr(Math.trunc(t.o%60)))),a&&(u+="["+t.zone.ianaName+"]"),u}const u9={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yG={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},_G={ordinal:1,hour:0,minute:0,second:0,millisecond:0},xd=["year","month","day","hour","minute","second","millisecond"],bG=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],wG=["year","ordinal","hour","minute","second","millisecond"];function Sd(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new u8(t);return e}function M4(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Sd(t)}}function xG(t){if(mc===void 0&&(mc=br.now()),t.type!=="iana")return t.offset(mc);const e=t.name;let r=Zm.get(e);return r===void 0&&(r=t.offset(mc),Zm.set(e,r)),r}function D4(t,e){const r=bo(e.zone,br.defaultZone);if(!r.isValid)return Qe.invalid(gc(r));const n=Gt.fromObject(e);let i,a;if(ct(t.year))i=br.now();else{for(const u of xd)ct(t[u])&&(t[u]=u9[u]);const o=L8(t)||R8(t);if(o)return Qe.invalid(o);const s=xG(r);[i,a]=wd(t,s,r)}return new Qe({ts:i,zone:r,loc:n,o:a})}function C4(t,e,r){const n=ct(r.round)?!0:r.round,i=ct(r.rounding)?"trunc":r.rounding,a=(s,u)=>(s=F2(s,n||r.calendary?0:2,r.calendary?"round":i),e.loc.clone(r).relFormatter(r).format(s,u)),o=s=>r.calendary?e.hasSame(t,s)?0:e.startOf(s).diff(t.startOf(s),s).get(s):e.diff(t,s).get(s);if(r.unit)return a(o(r.unit),r.unit);for(const s of r.units){const u=o(s);if(Math.abs(u)>=1)return a(u,s)}return a(t>e?-0:0,r.units[r.units.length-1])}function A4(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let mc;const Zm=new Map;class Qe{constructor(e){const r=e.zone||br.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new zi("invalid input"):null)||(r.isValid?null:gc(r));this.ts=ct(e.ts)?br.now():e.ts;let i=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,a]=[e.old.c,e.old.o];else{const s=Ao(e.o)&&!e.old?e.o:r.offset(this.ts);i=Zh(this.ts,s),n=Number.isNaN(i.year)?new zi("invalid input"):null,i=n?null:i,a=n?null:s}this._zone=r,this.loc=e.loc||Gt.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new Qe({})}static local(){const[e,r]=A4(arguments),[n,i,a,o,s,u,l]=r;return D4({year:n,month:i,day:a,hour:o,minute:s,second:u,millisecond:l},e)}static utc(){const[e,r]=A4(arguments),[n,i,a,o,s,u,l]=r;return e.zone=Tn.utcInstance,D4({year:n,month:i,day:a,hour:o,minute:s,second:u,millisecond:l},e)}static fromJSDate(e,r={}){const n=QV(e)?e.valueOf():NaN;if(Number.isNaN(n))return Qe.invalid("invalid input");const i=bo(r.zone,br.defaultZone);return i.isValid?new Qe({ts:n,zone:i,loc:Gt.fromObject(r)}):Qe.invalid(gc(i))}static fromMillis(e,r={}){if(Ao(e))return e<-864e13||e>mG?Qe.invalid("Timestamp out of range"):new Qe({ts:e,zone:bo(r.zone,br.defaultZone),loc:Gt.fromObject(r)});throw new hn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(Ao(e))return new Qe({ts:e*1e3,zone:bo(r.zone,br.defaultZone),loc:Gt.fromObject(r)});throw new hn("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=bo(r.zone,br.defaultZone);if(!n.isValid)return Qe.invalid(gc(n));const i=Gt.fromObject(r),a=vv(e,M4),{minDaysInFirstWeek:o,startOfWeek:s}=h4(a,i),u=br.now(),l=ct(r.specificOffset)?n.offset(u):r.specificOffset,c=!ct(a.ordinal),f=!ct(a.year),h=!ct(a.month)||!ct(a.day),d=f||h,v=a.weekYear||a.weekNumber;if((d||c)&&v)throw new Au("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&c)throw new Au("Can't mix ordinal dates with month/day");const g=v||a.weekday&&!d;let m,y,b=Zh(u,l);g?(m=bG,y=yG,b=hv(b,o,s)):c?(m=wG,y=_G,b=ag(b)):(m=xd,y=u9);let w=!1;for(const P of m){const R=a[P];ct(R)?w?a[P]=y[P]:a[P]=b[P]:w=!0}const S=g?ZV(a,o,s):c?XV(a):L8(a),D=S||R8(a);if(D)return Qe.invalid(D);const M=g?c4(a,o,s):c?f4(a):a,[A,k]=wd(M,l,n),O=new Qe({ts:A,zone:n,o:k,loc:i});return a.weekday&&d&&e.weekday!==O.weekday?Qe.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${O.toISO()}`):O.isValid?O:Qe.invalid(O.invalid)}static fromISO(e,r={}){const[n,i]=HH(e);return _u(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,i]=GH(e);return _u(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,i]=WH(e);return _u(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(ct(e)||ct(r))throw new hn("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:a=null}=n,o=Gt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[s,u,l,c]=gG(o,e,r);return c?Qe.invalid(c):_u(s,u,n,`format ${r}`,e,l)}static fromString(e,r,n={}){return Qe.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,i]=XH(e);return _u(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new hn("need to specify a reason the DateTime is invalid");const n=e instanceof zi?e:new zi(e,r);if(br.throwOnInvalid)throw new TV(n);return new Qe({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=o9(e,Gt.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,r={}){return n9(vn.parseFormat(e),Gt.fromObject(r)).map(i=>i.val).join("")}static resetCache(){mc=void 0,Zm.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ug(this).weekYear:NaN}get weekNumber(){return this.isValid?ug(this).weekNumber:NaN}get weekday(){return this.isValid?ug(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?lg(this).weekday:NaN}get localWeekNumber(){return this.isValid?lg(this).weekNumber:NaN}get localWeekYear(){return this.isValid?lg(this).weekYear:NaN}get ordinal(){return this.isValid?ag(this.c).ordinal:NaN}get monthShort(){return this.isValid?jh.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?jh.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?jh.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?jh.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,n=pp(this.c),i=this.zone.offset(n-e),a=this.zone.offset(n+e),o=this.zone.offset(n-i*r),s=this.zone.offset(n-a*r);if(o===s)return[this];const u=n-o*r,l=n-s*r,c=Zh(u,o),f=Zh(l,s);return c.hour===f.hour&&c.minute===f.minute&&c.second===f.second&&c.millisecond===f.millisecond?[ms(this,{ts:u}),ms(this,{ts:l})]:[this]}get isInLeapYear(){return Of(this.year)}get daysInMonth(){return dv(this.year,this.month)}get daysInYear(){return this.isValid?Gu(this.year):NaN}get weeksInWeekYear(){return this.isValid?sf(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?sf(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:i}=vn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(Tn.instance(e),r)}toLocal(){return this.setZone(br.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=bo(e,br.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){const a=e.offset(this.ts),o=this.toObject();[i]=wd(o,a,e)}return ms(this,{ts:i,zone:e})}else return Qe.invalid(gc(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return ms(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=vv(e,M4),{minDaysInFirstWeek:n,startOfWeek:i}=h4(r,this.loc),a=!ct(r.weekYear)||!ct(r.weekNumber)||!ct(r.weekday),o=!ct(r.ordinal),s=!ct(r.year),u=!ct(r.month)||!ct(r.day),l=s||u,c=r.weekYear||r.weekNumber;if((l||o)&&c)throw new Au("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&o)throw new Au("Can't mix ordinal dates with month/day");let f;a?f=c4({...hv(this.c,n,i),...r},n,i):ct(r.ordinal)?(f={...this.toObject(),...r},ct(r.day)&&(f.day=Math.min(dv(f.year,f.month),f.day))):f=f4({...ag(this.c),...r});const[h,d]=wd(f,this.o,this.zone);return ms(this,{ts:h,o:d})}plus(e){if(!this.isValid)return this;const r=Rt.fromDurationLike(e);return ms(this,S4(this,r))}minus(e){if(!this.isValid)return this;const r=Rt.fromDurationLike(e).negate();return ms(this,S4(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=Rt.normalizeUnit(e);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const a=this.loc.getStartOfWeek(),{weekday:o}=this;o<a&&(n.weekNumber=this.weekNumber-1),n.weekday=a}else n.weekday=1;if(i==="quarters"){const a=Math.ceil(this.month/3);n.month=(a-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?vn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):sg}toLocaleString(e=fv,r={}){return this.isValid?vn.create(this.loc.clone(r),e).formatDateTime(this):sg}toLocaleParts(e={}){return this.isValid?vn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:a=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=Sd(o);const s=e==="extended";let u=cg(this,s,o);return xd.indexOf(o)>=3&&(u+="T"),u+=T4(this,s,r,n,i,a,o),u}toISODate({format:e="extended",precision:r="day"}={}){return this.isValid?cg(this,e==="extended",Sd(r)):null}toISOWeekDate(){return Xh(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:a=!1,format:o="extended",precision:s="milliseconds"}={}){return this.isValid?(s=Sd(s),(i&&xd.indexOf(s)>=3?"T":"")+T4(this,o==="extended",r,e,n,a,s)):null}toRFC2822(){return Xh(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Xh(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?cg(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),Xh(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():sg}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return Rt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},a=eH(r).map(Rt.normalizeUnit),o=e.valueOf()>this.valueOf(),s=o?this:e,u=o?e:this,l=nG(s,u,a,i);return o?l.negate():l}diffNow(e="milliseconds",r={}){return this.diff(Qe.now(),e,r)}until(e){return this.isValid?yr.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;const i=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(r,n)<=i&&i<=a.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||Qe.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),C4(r,this.plus(n),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?C4(e.base||Qe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Qe.isDateTime))throw new hn("min requires all arguments be DateTimes");return d4(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(Qe.isDateTime))throw new hn("max requires all arguments be DateTimes");return d4(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:i=null,numberingSystem:a=null}=n,o=Gt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return a9(o,e,r)}static fromStringExplain(e,r,n={}){return Qe.fromFormatExplain(e,r,n)}static buildFormatParser(e,r={}){const{locale:n=null,numberingSystem:i=null}=r,a=Gt.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return new i9(a,e)}static fromFormatParser(e,r,n={}){if(ct(e)||ct(r))throw new hn("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:a=null}=n,o=Gt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});if(!o.equals(r.locale))throw new hn(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${r.locale}`);const{result:s,zone:u,specificOffset:l,invalidReason:c}=r.explainFromTokens(e);return c?Qe.invalid(c):_u(s,u,n,`format ${r.format}`,e,l)}static get DATE_SHORT(){return fv}static get DATE_MED(){return l8}static get DATE_MED_WITH_WEEKDAY(){return CV}static get DATE_FULL(){return c8}static get DATE_HUGE(){return f8}static get TIME_SIMPLE(){return h8}static get TIME_WITH_SECONDS(){return d8}static get TIME_WITH_SHORT_OFFSET(){return v8}static get TIME_WITH_LONG_OFFSET(){return p8}static get TIME_24_SIMPLE(){return g8}static get TIME_24_WITH_SECONDS(){return m8}static get TIME_24_WITH_SHORT_OFFSET(){return y8}static get TIME_24_WITH_LONG_OFFSET(){return _8}static get DATETIME_SHORT(){return b8}static get DATETIME_SHORT_WITH_SECONDS(){return w8}static get DATETIME_MED(){return x8}static get DATETIME_MED_WITH_SECONDS(){return S8}static get DATETIME_MED_WITH_WEEKDAY(){return AV}static get DATETIME_FULL(){return T8}static get DATETIME_FULL_WITH_SECONDS(){return M8}static get DATETIME_HUGE(){return D8}static get DATETIME_HUGE_WITH_SECONDS(){return C8}}function ic(t){if(Qe.isDateTime(t))return t;if(t&&t.valueOf&&Ao(t.valueOf()))return Qe.fromJSDate(t);if(t&&typeof t=="object")return Qe.fromObject(t);throw new hn(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var ma=(t=>(t.Active="ACTIVE",t.InActive="INACTIVE",t))(ma||{}),uf=(t=>(t.Course="COURSE",t.Task="TASK",t))(uf||{});class Kn extends gy{}async function bl(t,e=[]){const r=await mt.vines.where("parent_id").equals(t).primaryKeys().catch(a=>{throw new Kn({name:"OTHER",message:"A not further specified error occured while retrieving children of "+t+".",cause:a})});if(!r)return e;const n=await Promise.all(r.map(a=>bl(a))),i=r.concat(...n);return e.concat(i)}async function l9(t){return await mt.vines.get(t).catch(e=>{throw new Kn({name:"OTHER",message:"A not further specified error occured while retrieving vine with id "+t+".",cause:e})})}async function c9(t=Qr(fr)("new_vine"),e,r=void 0,n){if(t=="")throw new Kn({name:"EMPTY_TITLE",message:"An empty string was provided as vine title."});const i=await mt.vines.where("parent_id").equals(n).sortBy("position").then(a=>a.length);return await mt.vines.add({id:crypto.randomUUID(),position:i,type:uf.Task,title:t,session_aim:r,parent_id:n,status:ma.InActive,created_at:new Date,updated_at:void 0,archived:0,public:0}).catch(a=>{throw new Kn({name:"OTHER",message:"A not further specified error occured while adding vine",cause:a})})}async function xu(t,e){if(delete e.id,delete e.created_at,delete e.archived,e.status==ma.Active&&await mt.transaction("rw",[mt.vines],async()=>{const r=await mt.vines.where("status").equals(ma.Active).primaryKeys().catch(n=>{throw new Kn({name:"OTHER",message:"A not further specified error occured while retrieving active vines.",cause:n})});await Promise.all(r.map(n=>mt.vines.update(n,{status:ma.InActive,updated_at:new Date}).catch(i=>{throw new Kn({name:"OTHER",message:"A not further specified error occured while inactivating active vines.",cause:i})})))}),e.position!=null){const r=await l9(t);if(!r)throw new Kn({name:"NOT_PRESENT",message:"Could not update position of vine with id "+t});await mt.transaction("rw",[mt.vines],async()=>{const n=await mt.vines.where("parent_id").equals(r.parent_id).and(s=>s.archived!=1).sortBy("position"),i=n.findIndex(s=>s.id===t);if(i===-1)throw new Kn({name:"NOT_PRESENT",message:"Vine not found among siblings."});const[a]=n.splice(i,1),o=Math.max(0,Math.min(e.position,n.length));n.splice(o,0,a),await Promise.all(n.map((s,u)=>mt.vines.update(s.id,{position:u,updated_at:new Date}).catch(()=>{throw new Kn({name:"OTHER",message:"A not further specified error occured while updating vine positions"})})))})}if(e.parent_id!=null){const r=await mt.vines.where("parent_id").equals(e.parent_id).sortBy("position").then(n=>n.length);await mt.vines.update(t,{parent_id:e.parent_id,position:r})}await mt.vines.update(t,{...e,updated_at:new Date}).catch(r=>{throw new Kn({name:"OTHER",message:"A not further specified error occured while updating vine.",cause:r})}).then(r=>{if(r==0)throw new Kn({name:"NOT_PRESENT",message:"Cannot update a non-existant vine."})})}async function SG(t){await mt.transaction("rw",[mt.vines],async()=>{const r=[...await bl(t),t].map(n=>({key:n,changes:{archived:1,position:-1}}));await mt.vines.bulkUpdate(r).catch(n=>{throw new Kn({name:"OTHER",message:"A not further specified error occured while archiving vine.",cause:n})}).then(n=>{if(n==0)throw new Kn({name:"NOT_PRESENT",message:"Cannot update a non-existant vine."})})})}async function V2(t,e,r,n,i){var s;const a=r.filter(u=>u.elapsed_time.get(t.toJSDate().toDateString())),o={per_vine:[],no_vine:0};for(const u of a){const l=u.elapsed_time.get(t.toJSDate().toDateString());if(!l)throw new Error("No elapsed time");if(u.vine_id&&e){const c=n.get(e);if(u.vine_id==e){const f=o.per_vine.findIndex(h=>h.vine_id==e);if(f==-1)o.per_vine.push({vine_id:e??"",vine_title:(c==null?void 0:c.title)??"Unknown vine",time:l});else{const h=o.per_vine[f];o.per_vine[f]={...h,time:h.time+l}}}else if((s=i.get(e))!=null&&s.includes(u.vine_id)){const f=o.per_vine.findIndex(h=>h.vine_id==e);if(f==-1)o.per_vine.push({vine_id:e??"",vine_title:(c==null?void 0:c.title)??"Unknown vine",time:l});else{const h=o.per_vine[f];o.per_vine[f]={...h,time:h.time+l}}}}else if(u.vine_id){const c=n.get(u.vine_id),f=o.per_vine.findIndex(h=>h.vine_id==u.vine_id);f==-1&&!c?o.per_vine.push({vine_id:u.vine_id,vine_title:"Unknown vine",time:l}):f==-1&&c?o.per_vine.push({vine_id:u.vine_id,vine_title:c.title,time:l}):o.per_vine[f].time+=l}else o.no_vine+=l}return o}async function TG(t,e,r,n,i){const a={per_vine:[],no_vine:0};for(let o=0;o<=(t.daysInMonth??30);o++){const s=await V2(t.plus({days:o}),e,r,n,i);a.no_vine+=s.no_vine;for(const u of s.per_vine){const l=a.per_vine.findIndex(c=>u.vine_id==c.vine_id);l==-1?a.per_vine.push(u):a.per_vine[l].time+=u.time}}return a}async function f9(t,e,r){var f;const n=t.startOf("week"),i=[["day"]],a=[],o=[],s=await mt.vines.toArray(),u=new Map(s.map(h=>[h.id,h])),l=new Map;for(const h of s)l.set(h.id,await bl(h.id));const c=await mt.history.where("updated_at").between(n.toJSDate(),n.endOf("week").toJSDate()).and(h=>h.pomo_type==e).and(h=>r?h.vine_id==r||l.has((h==null?void 0:h.vine_id)??""):!0).toArray();for(let h=0;h<7;h++){const d=n.plus({days:h});i[h+1]=[d.toISODate()];const v=await V2(d.startOf("day"),r,c,u,l);v.no_vine!=0&&!a.some(m=>m.id=="NO_VINE")&&!r?(a.push({id:"NO_VINE",stack:"x",name:Qr(fr)("no_vine"),type:"bar"}),o.push({name:Qr(fr)("no_vine")}),i[0][1]=Qr(fr)("no_vine"),i[h+1][1]=v.no_vine/3600):v.no_vine!=0&&!r&&(i[h+1][1]=v.no_vine/3600);let g=0;for(const m of v.per_vine){const y=(f=l.get(m.vine_id))==null?void 0:f.map(b=>u.get(b));y&&y.length>0&&y.find(b=>(b==null?void 0:b.archived)==0)&&!r||(a.some(b=>b.id==m.vine_id)||(a.push({id:m.vine_id,stack:"x",name:m.vine_title,type:"bar"}),o.push({name:m.vine_title}),i[0][g+1]||(i[0][g+1]=m.vine_title)),i[h+1][g+1]=m.time/3600,g++)}}if(a.length==0)if(r){const h=u.get(r);a.push({id:r,stack:"x",name:(h==null?void 0:h.title)??"",type:"bar"}),o.push({name:(h==null?void 0:h.title)??""}),i[0][1]=(h==null?void 0:h.title)??"",i[1][1]=0}else a.push({id:"NO_VINE",stack:"x",name:Qr(fr)("no_vine"),type:"bar"}),o.push({name:Qr(fr)("no_vine")}),i[0][1]=Qr(fr)("no_vine"),i[1][1]=0;return[i,a,o]}async function h9(t,e,r){var f;const n=t.startOf("month"),i=[["month"]],a=[],o=r?[]:[{name:Qr(fr)("no_vine")}],s=await mt.vines.toArray(),u=new Map(s.map(h=>[h.id,h])),l=new Map;for(const h of s)l.set(h.id,await bl(h.id));const c=await mt.history.where("updated_at").between(t.startOf("year").toJSDate(),t.endOf("year").toJSDate()).and(h=>h.pomo_type==e).and(h=>r?h.vine_id==r||l.has((h==null?void 0:h.vine_id)??""):!0).toArray();for(let h=0;h<=11;h++){const d=n.plus({months:h});i[h+1]=[d.toISODate()];const v=await TG(d.startOf("month"),r,c,u,l);v.no_vine!=0&&!a.some(m=>m.id=="NO_VINE")&&!r?(a.push({id:"NO_VINE",stack:"x",name:Qr(fr)("no_vine"),type:"bar"}),o.push({name:Qr(fr)("no_vine")}),i[0][1]=Qr(fr)("no_vine"),i[h+1][1]=v.no_vine/3600):v.no_vine!=0&&!r&&(i[h+1][1]=v.no_vine/3600);let g=0;for(const m of v.per_vine){const y=(f=l.get(m.vine_id))==null?void 0:f.map(b=>u.get(b));y&&y.length>0&&y.find(b=>(b==null?void 0:b.archived)==0)&&!r||(a.some(b=>b.id==m.vine_id)||(a.push({id:m.vine_id,stack:"x",name:m.vine_title,type:"bar"}),o.push({name:m.vine_title}),i[0][g+1]||(i[0][g+1]=m.vine_title)),i[h+1][g+1]=m.time/3600,g++)}}if(a.length==0)if(r){const h=u.get(r);a.push({id:r,stack:"x",name:(h==null?void 0:h.title)??"",type:"bar"}),o.push({name:(h==null?void 0:h.title)??""}),i[0][1]=(h==null?void 0:h.title)??"",i[1][1]=0}else a.push({id:"NO_VINE",stack:"x",name:Qr(fr)("no_vine"),type:"bar"}),o.push({name:Qr(fr)("no_vine")}),i[0][1]=Qr(fr)("no_vine"),i[1][1]=0;return[i,a,o]}function MG(t,e,r,n){var o;const i=[],a=r.get(t??"");for(const s of e){if(t&&!((o=n.get(t))!=null&&o.includes((s==null?void 0:s.vine_id)??"")))continue;const u=r.get(s.vine_id??"");if(u!=null&&u.archived)continue;const l=r.get((u==null?void 0:u.parent_id)??""),c=i.findIndex(f=>t||!l?f.name==(u==null?void 0:u.title):f.name==(l==null?void 0:l.title));if(c==-1){const f=n.get((s==null?void 0:s.vine_id)??"");let h=0;if(f)for(const d of f){const v=r.get(d);if(!(v!=null&&v.archived)&&v){const g=e.filter(m=>m.vine_id==v.id);for(const m of g)h+=Sn(m.elapsed_time)}}i.push({name:t||!l?(u==null?void 0:u.title)??"":(l==null?void 0:l.title)??"",value:h+Sn(s.elapsed_time)})}else i[c]={...i[c],value:i[c].value+Sn(s.elapsed_time)}}if(i.length==0)if(a)for(const s of n.get(a.id)??[]){const u=r.get(s);u!=null&&u.archived||i.push({name:(u==null?void 0:u.title)??"Unknown Task",value:0})}else for(const s of r.values().filter(u=>!u.parent_id&&u.archived==0))i.push({name:s.title,value:0});return i}const d9=(t,e="WEEKS")=>{let r="";t.length>1&&(e=="WEEKS"?r+=`<div><strong>${t[0].axisValue}</strong></div>`:e=="MONTHS"&&(r+=`<div><strong>${Qe.fromISO(t[0].axisValue).toLocaleString({month:"long",year:"numeric"})}</strong></div>`));let n=0;return t.forEach(i=>{const a=i.value[i.encode.y[0]];if(n+=a,a!==void 0&&i.dimensionNames[i.seriesIndex+1]!=null)if(a<1){r+=`
                                <div>
                        ${i.marker} ${i.dimensionNames[i.seriesIndex+1]}: ${Math.floor(a*60)} min
                                </div>
                            `;return}else r+=`
                                <div>
                                   ${i.marker} ${i.dimensionNames[i.seriesIndex+1]}: ${Math.floor(a)} h ${Math.floor(a%1*60)} min
                                </div>
                            `}),Number.isNaN(n)||(n<1?r+=`<div><strong>Totale tijd: ${Math.floor(n*60)} min</strong></div>`:r+=`<div><strong>Totale tijd: ${Math.floor(n)} h ${Math.floor(n%1*60)} min</strong></div>`),r},jr={color:[],legend:{padding:[0,0,0,0],type:"scroll",data:[],textStyle:{color:"#333"}},datazoom:[],xAxis:{type:"category",name:Qr(fr)("date"),nameLocation:"middle",nameGap:30,axisTick:{interval:0},axisLabel:{interval:0,formatter:t=>Qe.fromISO(t).toLocaleString({day:"2-digit",weekday:"short"})},axisLine:{lineStyle:{color:"#333"}}},dataset:{source:[]},yAxis:{type:"value",name:Qr(fr)("focus_time_hours"),nameLocation:"end",nameTextStyle:{padding:[0,0,0,30],color:""},minInterval:.5,nameGap:30,axisLabel:{formatter:"{value} h",margin:2,showMinLabel:!1,textStyle:{color:"#333"}},min:0,axisLine:{lineStyle:{color:"#333"}},splitLine:{lineStyle:{color:"#333"}}},series:[],tooltip:{trigger:"axis",confine:!0,formatter:d9,backgroundColor:"",borderColor:"",textStyle:{color:""}}},On={...jr,xAxis:{...jr.xAxis,axisLabel:{interval:0,formatter:t=>Qe.fromISO(t).toLocaleString({month:"short"})}},tooltip:{...jr.tooltip,formatter:t=>d9(t,"MONTHS")}},qn=jr,Yn=On,Jh={tooltip:{trigger:"item"},series:[{type:"pie",data:[],label:{},radius:"50%",tooltip:{formatter:t=>{const e=t.value;return e>=3600?`${t.marker} ${t.name}: <b>${Math.floor(e/3600)} h ${Math.floor(e%3600/60)}</b>`:`${t.marker} ${t.name}: <b>${Math.floor(e/60)} min</b>`}}}]};var DG=(t,e,r,n)=>E(e)=="DAY"?Me(r,E(r)+1):Me(n,E(n)+1),CG=Je('<span class="mx-2 text-sm"> </span>'),AG=Je('<span class="mx-2 text-sm"> </span>'),IG=(t,e,r,n)=>E(e)=="DAY"?Me(r,E(r)-1):Me(n,E(n)-1),EG=Je('<dialog id="stats" class="modal overflow-y-auto"><div class="modal-box"><div class="flex flex-row items-center justify-between mb-2"><h3 class="text-lg font-bold"> </h3> <form method="dialog"><button class="btn btn-sm btn-circle btn-ghost">â</button></form></div> <div class="stats text-primary shadow w-full"><div class="stat"><div class="stat-title"> </div> <div class="stat-value text-md md:text-3xl"><!></div> <div class="stat-desc"> </div></div> <div class="stat"><div class="stat-title"> </div> <div class="stat-value"> </div> <div class="stat-desc"> </div></div></div> <div class="flex flex-col mt-5 items-center gap-3"><select class="select"><option> </option><option> </option></select> <div class="flex flex-row items-center justify-between mb-2"><button class="btn btn-xs btn-primary"><!></button> <!> <button class="btn btn-xs btn-primary"><!></button></div> <div id="histogram" class="w-full h-[50vh]"></div></div></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog>');function kG(t,e){xa(e,!0);const[r,n]=Ns(),i=()=>Fs(fr,"$_",r);let a=Lt(e,"stats_modal",15);Bo([JR,IR,v$,f$,UB,$$,F$,U$,yV,SV,T$]);let o=ft("DAY");const s=Qe.now();let u=ft(0),l=ft(0);const c=Ct(()=>s.startOf("week").minus({weeks:E(u)})),f=Ct(()=>s.endOf("week").minus({weeks:E(u)}));let h=ft(0),d=ft(void 0);const v=Or(async()=>mt.history.where("status").equals(At.Active).toArray(),()=>[]),g=Ct(()=>v.current),m=Or(async()=>mt.history.where("date_finished").between(Qe.now().startOf("day").toJSDate(),Qe.now().endOf("day").toJSDate()).count(),()=>[]),y=Ct(()=>m.current);Or(async()=>rr(St.theme_inactive),()=>[]),ha(()=>{var se;E(d)&&((se=E(g))==null?void 0:se.length)==0&&(S(),b())}),ly(async()=>{await S(),await b()}),ha(()=>{(E(o)=="DAY"&&E(u)>=0||E(o)=="YEAR"&&E(l)>=0)&&S()});async function b(){await mt.vines.toArray().then(se=>{const Te=new Map(se.map(Ze=>[Ze.id,Ze])),We=new Map;Promise.all(se.map(Ze=>bl(Ze.id).then($e=>We.set(Ze.id,$e)))).then(()=>{const Ze=Qe.now().startOf("day");mt.history.where("updated_at").between(Ze.toJSDate(),Ze.endOf("day").toJSDate()).and($e=>$e.pomo_type==pr.Pomo).toArray().then($e=>{V2(Ze,void 0,$e,Te,We).then(Ve=>{Me(h,Ve.no_vine+Ve.per_vine.reduce((tt,Dt)=>tt+Dt.time,0))})})})})}function w(){var We,Ze;const se=window.getComputedStyle(document.body),Te=[tr(se.getPropertyValue("--color-primary")),tr(se.getPropertyValue("--color-secondary")),tr(se.getPropertyValue("--color-accent")),tr(se.getPropertyValue("--color-accent")),tr(se.getPropertyValue("--color-accent-content")),tr(se.getPropertyValue("--color-info")),tr(se.getPropertyValue("--color-info-content")),tr(se.getPropertyValue("--color-success")),tr(se.getPropertyValue("--color-success-content")),tr(se.getPropertyValue("--color-warning")),tr(se.getPropertyValue("--color-warning-content")),tr(se.getPropertyValue("--color-error")),tr(se.getPropertyValue("--color-error-content"))];jr.color=Te,On.color=Te,jr.tooltip.backgroundColor=se.getPropertyValue("--color-base-100"),On.tooltip.backgroundColor=se.getPropertyValue("--color-base-200"),jr.tooltip.borderColor=se.getPropertyValue("--color-base-content"),On.tooltip.borderColor=se.getPropertyValue("--color-base-content"),jr.tooltip.textStyle.color=se.getPropertyValue("--color-base-content"),On.tooltip.textStyle.color=se.getPropertyValue("--color-base-content"),jr.legend.textStyle.color=se.getPropertyValue("--color-base-content"),On.legend.textStyle.color=se.getPropertyValue("--color-base-content"),jr.xAxis.axisLine.lineStyle.color=se.getPropertyValue("--color-base-content"),On.xAxis.axisLine.lineStyle.color=se.getPropertyValue("--color-base-content"),jr.yAxis.splitLine.lineStyle.color=se.getPropertyValue("--color-base-content"),On.yAxis.splitLine.lineStyle.color=se.getPropertyValue("--color-base-content"),jr.yAxis.axisLabel.textStyle.color=se.getPropertyValue("--color-base-content"),On.yAxis.axisLabel.textStyle.color=se.getPropertyValue("--color-base-content"),jr.yAxis.nameTextStyle.color=se.getPropertyValue("--color-base-content"),On.yAxis.nameTextStyle.color=se.getPropertyValue("--color-base-content"),E(o)=="DAY"?(We=E(d))==null||We.setOption(jr):E(o)=="YEAR"&&((Ze=E(d))==null||Ze.setOption(On))}async function S(){var se;(se=E(d))==null||se.clear(),E(d)||Me(d,Tm(document.getElementById("histogram"),null,{height:"auto",width:"auto"}),!0),E(o)=="DAY"?[jr.dataset.source,jr.series,jr.legend.data]=await f9(s.minus({weeks:E(u)}),pr.Pomo,void 0):E(o)=="YEAR"&&([On.dataset.source,On.series,On.legend.data]=await h9(s.startOf("year").minus({years:E(l)}),pr.Pomo,void 0)),E(d).resize(),w()}var D=EG();_r("resize",Pu,()=>{var se;return(se=E(d))==null?void 0:se.resize()});var M=K(D),A=K(M),k=K(A),O=K(k,!0);q(k),Va(2),q(A);var P=fe(A,2),R=K(P),H=K(R),z=K(H,!0);q(H);var W=fe(H,2),ee=K(W);{var ne=se=>{var Te=As();rt(We=>Pe(Te,`${We??""} min`),[()=>Math.floor(E(h)/60)]),de(se,Te)},he=se=>{var Te=As();rt((We,Ze)=>Pe(Te,`${We??""}
                        h ${Ze??""} min`),[()=>Math.floor(E(h)/3600),()=>Math.floor(E(h)%3600/60)]),de(se,Te)};xt(ee,se=>{E(h)<3600?se(ne):se(he,!1)})}q(W);var X=fe(W,2),te=K(X,!0);q(X),q(R);var oe=fe(R,2),Q=K(oe),ue=K(Q,!0);q(Q);var pe=fe(Q,2),Ee=K(pe,!0);q(pe);var Be=fe(pe,2),Ye=K(Be,!0);q(Be),q(oe),q(P);var Ke=fe(P,2),Ge=K(Ke),ve=K(Ge),et=K(ve,!0);q(ve),ve.value=ve.__value="DAY";var Ie=fe(ve),be=K(Ie,!0);q(Ie),Ie.value=Ie.__value="YEAR",q(Ge);var xe=fe(Ge,2),Se=K(xe);Se.__click=[DG,o,u,l];var Re=K(Se);o8(Re,{class:"size-[1.5em]"}),q(Se);var ut=fe(Se,2);{var dt=se=>{var Te=CG(),We=K(Te);q(Te),rt((Ze,$e)=>Pe(We,`${Ze??""} - ${$e??""}`),[()=>E(c).toLocaleString({day:"2-digit",month:"short",year:"numeric"}),()=>E(f).toLocaleString({day:"2-digit",month:"short",year:"numeric"})]),de(se,Te)},Kt=se=>{var Te=_t(),We=st(Te);{var Ze=$e=>{var Ve=AG(),tt=K(Ve,!0);q(Ve),rt(Dt=>Pe(tt,Dt),[()=>s.minus({years:E(l)}).year]),de($e,Ve)};xt(We,$e=>{E(o)=="YEAR"&&$e(Ze)},!0)}de(se,Te)};xt(ut,se=>{E(c)&&E(f)&&E(o)=="DAY"?se(dt):se(Kt,!1)})}var le=fe(ut,2);le.__click=[IG,o,u,l];var Ne=K(le);s8(Ne,{class:"size-[1.5em]"}),q(le),q(xe),Va(2),q(Ke),q(M),Va(2),q(D),yi(D,se=>a(se),()=>a()),rt((se,Te,We,Ze,$e,Ve,tt)=>{Pe(O,se),Pe(z,Te),Pe(te,We),Pe(ue,Ze),Pe(Ee,E(y)??0),Pe(Ye,$e),Pe(et,Ve),Pe(be,tt),le.disabled=E(o)=="DAY"?E(u)<=0:E(o)=="YEAR"?E(l)<=0:!0},[()=>i()("statistics"),()=>i()("focus_time"),()=>i()("today"),()=>i()("focus_sessions"),()=>i()("today"),()=>i()("day_view"),()=>i()("year_view")]),Ad(Ge,()=>E(o),se=>Me(o,se)),de(t,D),Sa(),n()}Vo(["click"]);function Xm(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}],["path",{d:"M8 11h8"}],["path",{d:"M8 7h6"}]];mr(t,gr({name:"book-text"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function Jm(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"m19 9-5 5-4-4-3 3"}]];mr(t,gr({name:"chart-line"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function v9(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M20 6 9 17l-5-5"}]];mr(t,gr({name:"check"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function OG(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"m6 9 6 6 6-6"}]];mr(t,gr({name:"chevron-down"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function PG(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]];mr(t,gr({name:"folder"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function LG(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]];mr(t,gr({name:"house"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function RG(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M11 12H3"}],["path",{d:"M16 6H3"}],["path",{d:"M16 18H3"}],["path",{d:"M18 9v6"}],["path",{d:"M21 12h-6"}]];mr(t,gr({name:"list-plus"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function NG(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];mr(t,gr({name:"pencil"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function p9(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m9 12 2 2 4-4"}]];mr(t,gr({name:"square-check"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function FG(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];mr(t,gr({name:"trash"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}var zG=hy('<svg version="1.0" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" viewBox="235.16 250.96 544.83 538"><g transform="translate(0.000000,1024.000000) scale(0.100000,-0.100000)" stroke="none"><path d="M4120 7719 c-32 -13 -68 -47 -86 -81 -19 -36 -18 -112 2 -154 14 -30 128 -130 240 -210 l29 -21 -61 -69 c-188 -213 -317 -432 -404 -684 -19 -52 -35 -97 -36 -99 -2 -2 -48 33 -104 78 -122 100 -142 111 -205 111 -100 0 -165 -61 -165 -154 0 -58 21 -109 79 -195 23 -33 41 -64 41 -69 0 -5 -26 -13 -57 -17 -176 -22 -432 -141 -531 -248 -32 -34 -52 -94 -42 -128 6 -22 4 -32 -12 -46 -31 -27 -129 -150 -176 -218 -177 -261 -268 -543 -279 -868 -16 -431 110 -810 374 -1125 231 -278 516 -461 857 -552 163 -44 290 -60 468 -60 194 0 341 24 520 83 l128 43 30 -42 c50 -71 211 -227 300 -293 266 -197 536 -303 872 -340 634 -71 1240 218 1609 768 121 179 195 347 242 546 134 567 -22 1151 -424 1583 -52 57 -59 69 -59 105 0 54 -26 95 -90 146 -118 93 -297 170 -457 196 -24 4 -43 10 -43 13 0 4 16 30 36 57 58 81 94 160 94 206 0 90 -72 159 -165 159 -62 0 -103 -19 -188 -88 -40 -32 -110 -87 -157 -121 l-85 -62 -9 42 c-25 111 33 477 98 621 l25 57 64 -6 c75 -7 158 9 199 39 36 25 67 89 68 138 0 50 -38 121 -78 143 -25 15 -73 22 -215 33 -416 31 -818 116 -1179 250 -150 55 -471 212 -593 289 -49 31 -143 95 -208 141 -157 114 -199 130 -267 103z m860 -827 c268 -107 556 -188 844 -238 83 -15 152 -27 153 -29 2 -1 -9 -35 -23 -76 -50 -144 -75 -292 -81 -471 -3 -93 -9 -168 -12 -168 -4 0 -64 47 -133 104 -70 57 -141 109 -159 115 -110 38 -216 -25 -226 -136 -6 -58 17 -110 92 -211 25 -35 45 -65 43 -66 -2 -2 -39 -8 -83 -14 -148 -22 -302 -87 -377 -160 -16 -14 -36 -47 -45 -72 -13 -33 -48 -78 -115 -149 -109 -115 -101 -115 -113 12 -4 37 -17 112 -29 168 -16 69 -19 102 -12 104 6 2 72 15 146 30 196 39 329 73 364 93 36 21 61 79 52 117 -29 114 -341 285 -567 311 -32 4 -59 10 -59 14 0 4 13 25 28 46 96 133 118 211 80 283 -35 68 -66 86 -146 86 l-67 0 -194 -143 c-106 -79 -195 -141 -198 -138 -13 13 78 233 150 360 55 99 165 248 251 343 l56 61 128 -63 c70 -35 184 -86 252 -113z m-1081 -914 c141 -70 175 -70 316 -5 111 51 100 53 148 -23 32 -50 79 -78 145 -85 97 -11 103 -18 25 -31 -99 -17 -142 -39 -160 -83 -16 -38 -19 -24 47 -259 17 -63 29 -116 26 -119 -3 -3 -31 17 -63 45 -283 246 -295 254 -363 233 -24 -7 -96 -60 -196 -145 -88 -74 -160 -131 -162 -126 -5 13 34 147 63 218 55 134 28 192 -100 223 -44 10 -90 19 -103 19 -13 0 -20 4 -17 10 3 6 19 10 35 10 56 0 131 22 161 47 16 14 41 48 55 74 13 27 27 49 30 49 4 0 54 -24 113 -52z m-615 -353 c72 -14 132 -27 134 -29 2 -3 -6 -42 -17 -88 -41 -167 -80 -509 -67 -582 9 -47 48 -92 93 -107 75 -24 94 -11 370 264 l253 251 72 -69 c40 -39 138 -134 218 -211 80 -78 158 -153 174 -166 28 -23 28 -25 13 -49 -26 -39 -85 -204 -112 -308 -44 -175 -58 -316 -52 -526 7 -257 42 -414 138 -629 22 -49 37 -92 32 -96 -16 -14 -199 -60 -303 -76 -254 -39 -577 13 -827 132 -466 222 -759 668 -780 1184 -14 343 75 621 289 908 78 104 207 234 227 227 9 -2 74 -16 145 -30z m2604 -74 c87 -51 163 -75 214 -68 22 3 83 26 135 51 52 25 96 46 97 46 1 0 20 -27 41 -60 44 -68 69 -82 173 -101 40 -7 69 -15 65 -19 -4 -4 -45 -12 -91 -18 -96 -13 -136 -31 -157 -72 -22 -42 -19 -72 16 -158 44 -108 80 -215 74 -220 -5 -5 -55 33 -170 128 -152 127 -172 140 -220 140 -42 0 -53 -7 -209 -135 -91 -74 -167 -135 -170 -135 -6 0 17 77 60 204 42 122 43 156 7 196 -24 26 -42 34 -121 49 -94 19 -126 31 -81 31 45 0 160 37 184 60 13 13 34 45 47 71 13 27 27 49 31 49 5 0 39 -18 75 -39z m-548 -396 c80 -15 114 -26 112 -35 -2 -7 -14 -56 -27 -110 -33 -130 -54 -269 -62 -415 -5 -102 -3 -125 11 -153 32 -61 117 -90 173 -59 12 7 134 123 271 259 l248 247 245 -245 c134 -135 256 -252 271 -260 66 -35 151 -6 183 62 17 36 18 49 7 164 -13 147 -44 333 -74 443 -11 43 -19 79 -17 81 2 1 67 13 144 25 77 12 150 25 163 28 20 5 39 -11 118 -92 299 -307 455 -738 415 -1145 -35 -346 -162 -626 -395 -868 -175 -182 -362 -301 -588 -376 -180 -60 -251 -71 -463 -70 -156 0 -208 4 -293 22 -288 62 -522 190 -733 401 -226 227 -362 489 -405 781 -21 148 -15 381 16 522 54 257 172 489 341 672 105 113 164 158 197 149 15 -3 79 -16 142 -28z"></path><path d="M2915 4997 c-54 -54 -86 -203 -86 -402 0 -340 122 -638 355 -870 167 -167 381 -281 476 -255 82 22 125 92 102 168 -15 50 -31 63 -133 113 -209 102 -368 269 -460 483 -53 123 -64 188 -63 361 0 137 3 169 22 225 26 78 27 101 7 141 -24 45 -71 69 -133 69 -48 0 -58 -4 -87 -33z"></path><path d="M4913 4240 c-57 -35 -67 -67 -59 -210 9 -192 42 -319 126 -497 90 -190 219 -347 386 -470 195 -143 501 -246 593 -199 44 23 71 71 71 127 0 80 -32 104 -195 148 -331 90 -595 360 -681 697 -15 59 -28 148 -32 220 -7 95 -12 126 -28 147 -40 56 -123 73 -181 37z"></path></g></svg>');function g9(t,e){var r=zG();rt(n=>Gc(r,0,n),[()=>py(["fill-base-content",...e.styles])]),de(t,r)}var BG=Je("<option> </option>"),$G=Je('<select class="select"><option> </option><option> </option></select>'),VG=(t,e,r,n)=>E(e)=="DAY"?Me(r,E(r)+1):Me(n,E(n)+1),HG=Je('<span class="mx-2 text-sm"> </span>'),GG=Je('<span class="mx-2 text-sm"> </span>'),WG=(t,e,r,n)=>E(e)=="DAY"?Me(r,E(r)-1):Me(n,E(n)-1),UG=Je('<div class="flex flex-row items-center justify-between mb-2 w-full"><button class="btn btn-xs btn-primary"><!></button> <!> <button class="btn btn-xs btn-primary"><!></button></div>'),qG=Je('<dialog class="modal"><div class="modal-box flex flex-col items-center"><form method="dialog"><button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">â</button></form> <h3 class="text-lg font-bold self-baseline"> </h3> <div class="flex flex-col mt-5 items-center gap-3 w-full"><div class="flex flex-row justify-evenly w-full gap-2"><select class="select"><option> </option><!></select> <!></div> <!> <div id="vine_histogram"></div> <div id="vine_pie_chart"></div></div></div></dialog>');function YG(t,e){xa(e,!0);const[r,n]=Ns(),i=()=>Fs(fr,"$_",r);let a=Lt(e,"vine_stats_modal",15),o=ft("DAY"),s=ft("HISTOGRAM");const u=Qe.now();let l=ft(0),c=ft(0);const f=Ct(()=>u.startOf("week").minus({weeks:E(l)})),h=Ct(()=>u.endOf("week").minus({weeks:E(l)}));let d=ft(void 0),v=ft(void 0);ha(()=>{(e.vine&&E(s)=="HISTOGRAM"&&E(o)=="DAY"&&E(l)>=0||e.vine&&E(s)=="HISTOGRAM"&&E(o)=="YEAR"&&E(c)>=0)&&m(),E(s)=="PIE"&&y()});function g(){var pe,Ee,Be;const Q=window.getComputedStyle(document.body),ue=[tr(Q.getPropertyValue("--color-primary")),tr(Q.getPropertyValue("--color-secondary")),tr(Q.getPropertyValue("--color-accent")),tr(Q.getPropertyValue("--color-accent")),tr(Q.getPropertyValue("--color-accent-content")),tr(Q.getPropertyValue("--color-info")),tr(Q.getPropertyValue("--color-info-content")),tr(Q.getPropertyValue("--color-success")),tr(Q.getPropertyValue("--color-success-content")),tr(Q.getPropertyValue("--color-warning")),tr(Q.getPropertyValue("--color-warning-content")),tr(Q.getPropertyValue("--color-error")),tr(Q.getPropertyValue("--color-error-content"))];qn.color=ue,Yn.color=ue,Jh.color=ue,qn.tooltip.backgroundColor=Q.getPropertyValue("--color-base-100"),Yn.tooltip.backgroundColor=Q.getPropertyValue("--color-base-200"),qn.tooltip.borderColor=Q.getPropertyValue("--color-base-content"),Yn.tooltip.borderColor=Q.getPropertyValue("--color-base-content"),qn.tooltip.textStyle.color=Q.getPropertyValue("--color-base-content"),Yn.tooltip.textStyle.color=Q.getPropertyValue("--color-base-content"),qn.legend.textStyle.color=Q.getPropertyValue("--color-base-content"),Yn.legend.textStyle.color=Q.getPropertyValue("--color-base-content"),qn.xAxis.axisLine.lineStyle.color=Q.getPropertyValue("--color-base-content"),Yn.xAxis.axisLine.lineStyle.color=Q.getPropertyValue("--color-base-content"),qn.yAxis.splitLine.lineStyle.color=Q.getPropertyValue("--color-base-content"),Yn.yAxis.splitLine.lineStyle.color=Q.getPropertyValue("--color-base-content"),qn.yAxis.axisLabel.textStyle.color=Q.getPropertyValue("--color-base-content"),Yn.yAxis.axisLabel.textStyle.color=Q.getPropertyValue("--color-base-content"),qn.yAxis.nameTextStyle.color=Q.getPropertyValue("--color-base-content"),Yn.yAxis.nameTextStyle.color=Q.getPropertyValue("--color-base-content"),Jh.series[0].label.color=tr(Q.getPropertyValue("--color-base-content")),E(o)=="DAY"&&E(s)=="HISTOGRAM"?(pe=E(d))==null||pe.setOption(qn):E(o)=="YEAR"&&E(s)=="HISTOGRAM"&&((Ee=E(d))==null||Ee.setOption(Yn)),E(s)=="PIE"&&((Be=E(v))==null||Be.setOption(Jh))}async function m(){var Q,ue,pe;(Q=E(d))==null||Q.clear(),E(d)||Me(d,Tm(document.getElementById("vine_histogram"),null,{height:"auto",width:"auto"}),!0),E(o)=="DAY"?[qn.dataset.source,qn.series,qn.legend.data]=await f9(u.minus({weeks:E(l)}),pr.Pomo,(ue=e.vine)==null?void 0:ue.id):E(o)=="YEAR"&&([Yn.dataset.source,Yn.series,Yn.legend.data]=await h9(u.startOf("year").minus({years:E(c)}),pr.Pomo,(pe=e.vine)==null?void 0:pe.id)),g(),E(d).resize()}async function y(){var Be,Ye,Ke;(Be=E(v))==null||Be.clear();const Q=await mt.vines.toArray(),ue=new Map(Q.map(Ge=>[Ge.id,Ge])),pe=new Map;for(const Ge of Q)pe.set(Ge.id,await bl(Ge.id));const Ee=await mt.history.where("pomo_type").equals(pr.Pomo).and(Ge=>!!Ge.vine_id).toArray();E(v)||Me(v,Tm(document.getElementById("vine_pie_chart"),null,{height:"auto",width:"auto"}),!0),Jh.series[0].data=MG((Ye=e.vine)==null?void 0:Ye.id,Ee,ue,pe),g(),(Ke=E(v))==null||Ke.resize()}var b=qG();_r("resize",Pu,()=>{var Q,ue;E(s)=="HISTOGRAM"?(Q=E(d))==null||Q.resize():E(s)=="PIE"&&((ue=E(v))==null||ue.resize())});var w=K(b),S=fe(K(w),2),D=K(S,!0);q(S);var M=fe(S,2),A=K(M),k=K(A),O=K(k),P=K(O,!0);q(O),O.value=O.__value="PIE";var R=fe(O);{var H=Q=>{var ue=BG(),pe=K(ue,!0);q(ue),ue.value=ue.__value="HISTOGRAM",rt(Ee=>Pe(pe,Ee),[()=>i()("histogram")]),de(Q,ue)};xt(R,Q=>{e.vine&&Q(H)})}q(k);var z=fe(k,2);{var W=Q=>{var ue=$G(),pe=K(ue),Ee=K(pe,!0);q(pe),pe.value=pe.__value="DAY";var Be=fe(pe),Ye=K(Be,!0);q(Be),Be.value=Be.__value="YEAR",q(ue),rt((Ke,Ge)=>{Pe(Ee,Ke),Pe(Ye,Ge)},[()=>i()("day_view"),()=>i()("year_view")]),Ad(ue,()=>E(o),Ke=>Me(o,Ke)),de(Q,ue)};xt(z,Q=>{E(s)=="HISTOGRAM"&&Q(W)})}q(A);var ee=fe(A,2);{var ne=Q=>{var ue=UG(),pe=K(ue);pe.__click=[VG,o,l,c];var Ee=K(pe);o8(Ee,{class:"size-[1.5em]"}),q(pe);var Be=fe(pe,2);{var Ye=et=>{var Ie=HG(),be=K(Ie);q(Ie),rt((xe,Se)=>Pe(be,`${xe??""} - ${Se??""}`),[()=>E(f).toLocaleString({day:"2-digit",month:"short",year:"numeric"}),()=>E(h).toLocaleString({day:"2-digit",month:"short",year:"numeric"})]),de(et,Ie)},Ke=et=>{var Ie=_t(),be=st(Ie);{var xe=Se=>{var Re=GG(),ut=K(Re,!0);q(Re),rt(dt=>Pe(ut,dt),[()=>u.minus({years:E(c)}).year]),de(Se,Re)};xt(be,Se=>{E(o)=="YEAR"&&Se(xe)},!0)}de(et,Ie)};xt(Be,et=>{E(f)&&E(h)&&E(o)=="DAY"?et(Ye):et(Ke,!1)})}var Ge=fe(Be,2);Ge.__click=[WG,o,l,c];var ve=K(Ge);s8(ve,{class:"size-[1.5em]"}),q(Ge),q(ue),rt(()=>Ge.disabled=E(o)=="DAY"?E(l)<=0:E(o)=="YEAR"?E(c)<=0:!0),de(Q,ue)};xt(ee,Q=>{E(s)=="HISTOGRAM"&&Q(ne)})}var he=fe(ee,2);let X;var te=fe(he,2);let oe;q(M),q(w),q(b),yi(b,Q=>a(Q),()=>a()),rt((Q,ue,pe)=>{var Ee;Pe(D,(Ee=e.vine)==null?void 0:Ee.title),Pe(P,Q),X=Gc(he,1,"w-full h-[50vh]",null,X,ue),oe=Gc(te,1,"w-full h-[50vh]",null,oe,pe)},[()=>i()("pie_chart"),()=>({hidden:E(s)!="HISTOGRAM"}),()=>({hidden:E(s)!="PIE"})]),Ad(k,()=>E(s),Q=>Me(s,Q)),de(t,b),Sa(),n()}Vo(["click"]);function I4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(r),!0).forEach(function(n){el(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function el(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jG(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function KG(t,e){if(t==null)return{};var r=jG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZG(t,e){return JG(t)||eW(t,e)||H2(t,e)||rW()}function mi(t){return XG(t)||QG(t)||H2(t)||tW()}function XG(t){if(Array.isArray(t))return Qm(t)}function JG(t){if(Array.isArray(t))return t}function QG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,s;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(u){a=!0,s=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}function H2(t,e){if(t){if(typeof t=="string")return Qm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qm(t,e)}}function Qm(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rf(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=H2(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}var nW="finalize",iW="consider";function tl(t,e,r){t.dispatchEvent(new CustomEvent(nW,{detail:{items:e,info:r}}))}function $o(t,e,r){t.dispatchEvent(new CustomEvent(iW,{detail:{items:e,info:r}}))}var yp="draggedEntered",Nf="draggedLeft",_p="draggedOverIndex",G2="draggedLeftDocument",gv={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function aW(t,e,r){t.dispatchEvent(new CustomEvent(yp,{detail:{indexObj:e,draggedEl:r}}))}function oW(t,e,r){t.dispatchEvent(new CustomEvent(Nf,{detail:{draggedEl:e,type:gv.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function sW(t,e){t.dispatchEvent(new CustomEvent(Nf,{detail:{draggedEl:e,type:gv.OUTSIDE_OF_ANY}}))}function uW(t,e,r){t.dispatchEvent(new CustomEvent(_p,{detail:{indexObj:e,draggedEl:r}}))}function lW(t){window.dispatchEvent(new CustomEvent(G2,{detail:{draggedEl:t}}))}var Mn={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:yp,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:_p,DRAGGED_LEFT:Nf,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},$n={POINTER:"pointer",KEYBOARD:"keyboard"},bp="isDndShadowItem",wp="data-is-dnd-shadow-item-internal",cW="data-is-dnd-shadow-item-hint",fW="id:dnd-shadow-placeholder-0000",hW="dnd-action-dragged-el",Yr="id",ey=0;function m9(){ey++}function y9(){if(ey===0)throw new Error("Bug! trying to decrement when there are no dropzones");ey--}var W2=typeof window>"u";function ty(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=e?pW(t):t.getBoundingClientRect(),i=getComputedStyle(t),a=i.transform;if(a){var o,s,u,l;if(a.startsWith("matrix3d("))r=a.slice(9,-1).split(/, /),o=+r[0],s=+r[5],u=+r[12],l=+r[13];else if(a.startsWith("matrix("))r=a.slice(7,-1).split(/, /),o=+r[0],s=+r[3],u=+r[4],l=+r[5];else return n;var c=i.transformOrigin,f=n.x-u-(1-o)*parseFloat(c),h=n.y-l-(1-s)*parseFloat(c.slice(c.indexOf(" ")+1)),d=o?n.width/o:t.offsetWidth,v=s?n.height/s:t.offsetHeight;return{x:f,y:h,width:d,height:v,top:h,right:f+d,bottom:h+v,left:f}}else return n}function _9(t){var e=ty(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function b9(t){var e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function w9(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function dW(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function xp(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function lf(t){return w9(b9(t))}function E4(t,e){var r=lf(t),n=_9(e);return xp(r,n)}function k4(t,e){var r=lf(t),n=lf(e);return dW(r,n)}function vW(t){var e=b9(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function pW(t){for(var e=t.getBoundingClientRect(),r={top:e.top,bottom:e.bottom,left:e.left,right:e.right},n=t.parentElement;n&&n!==document.body;){var i=n.getBoundingClientRect(),a=window.getComputedStyle(n).overflowY,o=window.getComputedStyle(n).overflowX,s=a==="scroll"||a==="auto",u=o==="scroll"||o==="auto";s&&(r.top=Math.max(r.top,i.top),r.bottom=Math.min(r.bottom,i.bottom)),u&&(r.left=Math.max(r.left,i.left),r.right=Math.min(r.right,i.right)),n=n.parentElement}return r.top=Math.max(r.top,0),r.bottom=Math.min(r.bottom,window.innerHeight),r.left=Math.max(r.left,0),r.right=Math.min(r.right,window.innerWidth),{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}}var Uu;function U2(){Uu=new Map}U2();function gW(t){var e=Array.from(t.children).findIndex(function(r){return r.getAttribute(wp)});if(e>=0)return Uu.has(t)||Uu.set(t,new Map),Uu.get(t).set(e,_9(t.children[e])),e}function mW(t,e){if(!E4(t,e))return null;var r=e.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var n=gW(e),i=0;i<r.length;i++)if(E4(t,r[i])){var a=Uu.has(e)&&Uu.get(e).get(i);return a&&!xp(lf(t),a)?{index:n,isProximityBased:!1}:{index:i,isProximityBased:!1}}for(var o=Number.MAX_VALUE,s=void 0,u=0;u<r.length;u++){var l=k4(t,r[u]);l<o&&(o=l,s=u)}if(r.length>0){var c=r.length,f=r[c-1],h=f.cloneNode(!1);h.style.visibility="hidden",h.style.pointerEvents="none",e.appendChild(h);var d=k4(t,h);d<o&&(s=c),e.removeChild(h)}return{index:s,isProximityBased:!0}}function ac(t){return JSON.stringify(t,null,2)}function mv(t){if(!t)throw new Error("cannot get depth of a falsy node");return x9(t,0)}function x9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.parentElement?x9(t.parentElement,e+1):e-1}function yW(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!{}.hasOwnProperty.call(e,r)||e[r]!==t[r])return!1;return!0}function _W(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var bW=200,O4=10,ry;function wW(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bW,n=arguments.length>3?arguments[3]:void 0,i,a,o=!1,s,u=Array.from(e).sort(function(c,f){return mv(f)-mv(c)});function l(){var c=lf(t),f=n.multiScrollIfNeeded();if(!f&&s&&Math.abs(s.x-c.x)<O4&&Math.abs(s.y-c.y)<O4){ry=window.setTimeout(l,r);return}if(vW(t)){lW(t);return}s=c;var h=!1,d=Rf(u),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;f&&U2();var m=mW(t,g);if(m!==null){var y=m.index;h=!0,g!==i?(i&&oW(i,t,g),aW(g,m,t),i=g):y!==a&&(uW(g,m,t),a=y);break}}}catch(b){d.e(b)}finally{d.f()}!h&&o&&i?(sW(i,t),i=void 0,a=void 0,o=!1):o=!0,ry=window.setTimeout(l,r)}l()}function xW(){clearTimeout(ry),U2()}var oc=30;function SW(){var t;function e(){t={directionObj:void 0,stepPx:0}}e();function r(a){var o=t,s=o.directionObj,u=o.stepPx;s&&(a.scrollBy(s.x*u,s.y*u),window.requestAnimationFrame(function(){return r(a)}))}function n(a){return oc-a}function i(a,o){if(!o)return!1;var s=TW(a,o),u=!!t.directionObj;if(s===null)return u&&e(),!1;var l=!1,c=!1;return o.scrollHeight>o.clientHeight&&(s.bottom<oc?(l=!0,t.directionObj={x:0,y:1},t.stepPx=n(s.bottom)):s.top<oc&&(l=!0,t.directionObj={x:0,y:-1},t.stepPx=n(s.top)),!u&&l)||o.scrollWidth>o.clientWidth&&(s.right<oc?(c=!0,t.directionObj={x:1,y:0},t.stepPx=n(s.right)):s.left<oc&&(c=!0,t.directionObj={x:-1,y:0},t.stepPx=n(s.left)),!u&&c)?(r(o),!0):(e(),!1)}return{scrollIfNeeded:i,resetScrolling:e}}function TW(t,e){var r=e===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:e.getBoundingClientRect();return xp(t,r)?{top:t.y-r.top,bottom:r.bottom-t.y,left:t.x-r.left,right:r.right-t.x}:null}function MW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=CW(t),n=Array.from(r).sort(function(u,l){return mv(l)-mv(u)}),i=SW(),a=i.scrollIfNeeded,o=i.resetScrolling;function s(){var u=e();if(!u||!n)return!1;for(var l=n.filter(function(h){return xp(u,h.getBoundingClientRect())||h===document.scrollingElement}),c=0;c<l.length;c++){var f=a(u,l[c]);if(f)return!0}return!1}return{multiScrollIfNeeded:r.size>0?s:function(){return!1},destroy:function(){return o()}}}function DW(t){if(!t)return[];for(var e=[],r=t;r;){var n=window.getComputedStyle(r),i=n.overflow;i.split(" ").some(function(a){return a.includes("auto")||a.includes("scroll")})&&e.push(r),r=r.parentElement}return e}function CW(t){var e=new Set,r=Rf(t),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;DW(i).forEach(function(a){return e.add(a)})}}catch(a){r.e(a)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&e.add(document.scrollingElement),e}function AW(t){var e=t.cloneNode(!0),r=[],n=t.tagName==="SELECT",i=n?[t]:mi(t.querySelectorAll("select")),a=Rf(i),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;r.push(s.value)}}catch(w){a.e(w)}finally{a.f()}if(i.length>0)for(var u=n?[e]:mi(e.querySelectorAll("select")),l=0;l<u.length;l++){var c=u[l],f=r[l],h=c.querySelector('option[value="'.concat(f,'"'));h&&h.setAttribute("selected",!0)}var d=t.tagName==="CANVAS",v=d?[t]:mi(t.querySelectorAll("canvas"));if(v.length>0)for(var g=d?[e]:mi(e.querySelectorAll("canvas")),m=0;m<g.length;m++){var y=v[m],b=g[m];b.width=y.width,b.height=y.height,y.width>0&&y.height>0&&b.getContext("2d").drawImage(y,0,0)}return e}var cf=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),IW=el({},cf.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function S9(t){if(!cf[t])throw new Error("Can't get non existing feature flag ".concat(t,"! Supported flags: ").concat(Object.keys(cf)));return IW[t]}var EW=.2;function ys(t){return"".concat(t," ").concat(EW,"s ease")}function kW(t,e){var r=t.getBoundingClientRect(),n=AW(t);T9(t,n),n.id=hW,n.style.position="fixed";var i=r.top,a=r.left;if(n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px"),e){var o=w9(r);i-=o.y-e.y,a-=o.x-e.x,window.setTimeout(function(){n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(ys("top"),", ").concat(ys("left"),", ").concat(ys("background-color"),", ").concat(ys("opacity"),", ").concat(ys("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(ys("width"),", ").concat(ys("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function OW(t){t.style.cursor="grab"}function PW(t,e,r,n){T9(e,t);var i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=i.width-a.width,s=i.height-a.height;if(o||s){var u={left:(r-a.left)/a.width,top:(n-a.top)/a.height};S9(cf.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(t.style.height="".concat(i.height,"px"),t.style.width="".concat(i.width,"px")),t.style.left="".concat(parseFloat(t.style.left)-u.left*o,"px"),t.style.top="".concat(parseFloat(t.style.top)-u.top*s,"px")}}function T9(t,e){var r=window.getComputedStyle(t);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||S9(cf.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return e.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function LW(t,e){t.draggable=!1,t.ondragstart=function(){return!1},e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function M9(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function RW(t){t.style.visibility="hidden",t.setAttribute(wp,"true")}function NW(t){t.style.visibility="",t.removeAttribute(wp)}function Td(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};t.forEach(function(n){var i=e(n);Object.keys(i).forEach(function(a){n.style[a]=i[a]}),r(n).forEach(function(a){return n.classList.add(a)})})}function yv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};t.forEach(function(n){var i=e(n);Object.keys(i).forEach(function(a){n.style[a]=""}),r(n).forEach(function(a){return n.classList.contains(a)&&n.classList.remove(a)})})}function FW(t){var e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");var r=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=r}}var zW="--any--",BW=100,$W=20,Qh=3,VW=80,P4={outline:"rgba(255, 255, 102, 0.7) solid 2px"},L4="data-is-dnd-original-dragged-item",Pn,qr,zn,Sp,hr,Tp,Io,Jr,ra,ln,yo=!1,q2=!1,Y2,Ff=!1,Md=[],$c,na,yc=!1,Bi=new Map,Dr=new Map,fg=new WeakMap;function HW(t,e){Bi.has(e)||Bi.set(e,new Set),Bi.get(e).has(t)||(Bi.get(e).add(t),m9())}function R4(t,e){Bi.get(e).delete(t),y9(),Bi.get(e).size===0&&Bi.delete(e)}function GW(){var t=Bi.get(Sp),e=Rf(t),r;try{for(e.s();!(r=e.n()).done;){var n=r.value;n.addEventListener(yp,D9),n.addEventListener(Nf,C9),n.addEventListener(_p,A9)}}catch(o){e.e(o)}finally{e.f()}window.addEventListener(G2,rl);var i=Math.max.apply(Math,mi(Array.from(t.keys()).map(function(o){return Dr.get(o).dropAnimationDurationMs}))),a=i===0?$W:Math.max(i,BW);$c=MW(t,function(){return ln}),wW(qr,t,a*1.07,$c)}function WW(){var t=Bi.get(Sp),e=Rf(t),r;try{for(e.s();!(r=e.n()).done;){var n=r.value;n.removeEventListener(yp,D9),n.removeEventListener(Nf,C9),n.removeEventListener(_p,A9)}}catch(i){e.e(i)}finally{e.f()}window.removeEventListener(G2,rl),$c&&($c.destroy(),$c=void 0),xW()}function Mp(t){return t.findIndex(function(e){return!!e[bp]})}function UW(t){var e;return pv(pv({},t),{},(e={},el(e,bp,!0),el(e,Yr,fW),e))}function D9(t){var e=Dr.get(t.currentTarget),r=e.items,n=e.dropFromOthersDisabled;if(!(n&&t.currentTarget!==hr)){if(Ff=!1,r=r.filter(function(s){return s[Yr]!==Io[Yr]}),hr!==t.currentTarget){var i=Dr.get(hr).items,a=i.filter(function(s){return!s[bp]});$o(hr,a,{trigger:Mn.DRAGGED_ENTERED_ANOTHER,id:zn[Yr],source:$n.POINTER})}var o=t.detail.indexObj.index;Jr=t.currentTarget,r.splice(o,0,Io),$o(t.currentTarget,r,{trigger:Mn.DRAGGED_ENTERED,id:zn[Yr],source:$n.POINTER})}}function C9(t){if(yo){var e=Dr.get(t.currentTarget),r=e.items,n=e.dropFromOthersDisabled;if(!(n&&t.currentTarget!==hr&&t.currentTarget!==Jr)){var i=mi(r),a=Mp(i);a!==-1&&i.splice(a,1);var o=Jr;Jr=void 0;var s=t.detail,u=s.type,l=s.theOtherDz;if(u===gv.OUTSIDE_OF_ANY||u===gv.LEFT_FOR_ANOTHER&&l!==hr&&Dr.get(l).dropFromOthersDisabled){Ff=!0,Jr=hr;var c=o===hr?i:mi(Dr.get(hr).items);c.splice(Tp,0,Io),$o(hr,c,{trigger:Mn.DRAGGED_LEFT_ALL,id:zn[Yr],source:$n.POINTER})}$o(t.currentTarget,i,{trigger:Mn.DRAGGED_LEFT,id:zn[Yr],source:$n.POINTER})}}}function A9(t){var e=Dr.get(t.currentTarget),r=e.items,n=e.dropFromOthersDisabled;if(!(n&&t.currentTarget!==hr)){var i=mi(r);Ff=!1;var a=t.detail.indexObj.index,o=Mp(i);o!==-1&&i.splice(o,1),i.splice(a,0,Io),$o(t.currentTarget,i,{trigger:Mn.DRAGGED_OVER_INDEX,id:zn[Yr],source:$n.POINTER})}}function _v(t){t.preventDefault();var e=t.touches?t.touches[0]:t;ln={x:e.clientX,y:e.clientY},qr.style.transform="translate3d(".concat(ln.x-ra.x,"px, ").concat(ln.y-ra.y,"px, 0)")}function rl(){q2=!0,window.removeEventListener("mousemove",_v),window.removeEventListener("touchmove",_v),window.removeEventListener("mouseup",rl),window.removeEventListener("touchend",rl),WW(),OW(qr),Jr||(Jr=hr);var t=Dr.get(Jr),e=t.items,r=t.type;yv(Bi.get(r),function(a){return Dr.get(a).dropTargetStyle},function(a){return Dr.get(a).dropTargetClasses});var n=Mp(e);n===-1&&Jr===hr&&(n=Tp),e=e.map(function(a){return a[bp]?zn:a});function i(){Y2(),tl(Jr,e,{trigger:Ff?Mn.DROPPED_OUTSIDE_OF_ANY:Mn.DROPPED_INTO_ZONE,id:zn[Yr],source:$n.POINTER}),Jr!==hr&&tl(hr,Dr.get(hr).items,{trigger:Mn.DROPPED_INTO_ANOTHER,id:zn[Yr],source:$n.POINTER});var a=Array.from(Jr.children).find(function(o){return o.getAttribute(wp)});a&&NW(a),jW()}Dr.get(Jr).dropAnimationDisabled?i():qW(n,i)}function qW(t,e){var r=t>-1?ty(Jr.children[t],!1):ty(Jr,!1),n={x:r.left-parseFloat(qr.style.left),y:r.top-parseFloat(qr.style.top)},i=Dr.get(Jr),a=i.dropAnimationDurationMs,o="transform ".concat(a,"ms ease");qr.style.transition=qr.style.transition?qr.style.transition+","+o:o,qr.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(e,a)}function YW(t,e){Md.push({dz:t,destroy:e}),window.requestAnimationFrame(function(){M9(t),document.body.appendChild(t)})}function jW(){qr&&qr.remove&&qr.remove(),Pn&&Pn.remove&&Pn.remove(),qr=void 0,Pn=void 0,zn=void 0,Sp=void 0,hr=void 0,Tp=void 0,Io=void 0,Jr=void 0,ra=void 0,ln=void 0,yo=!1,q2=!1,Y2=void 0,Ff=!1,na&&clearTimeout(na),na=void 0,yc=!1,Md.length&&(Md.forEach(function(t){var e=t.dz,r=t.destroy;r(),e.remove()}),Md=[])}function KW(t,e){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:P4,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},i=new Map;function a(){window.addEventListener("mousemove",u,{passive:!1}),window.addEventListener("touchmove",u,{passive:!1,capture:!1}),window.addEventListener("mouseup",s,{passive:!1}),window.addEventListener("touchend",s,{passive:!1})}function o(){window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",s),window.removeEventListener("touchend",s),na&&(clearTimeout(na),na=void 0,yc=!1)}function s(h){if(o(),Pn=void 0,ra=void 0,ln=void 0,h.type==="touchend"){var d=new Event("click",{bubbles:!0,cancelable:!0});h.target.dispatchEvent(d)}}function u(h){var d=!!h.touches,v=d?h.touches[0]:h;if(d&&n.delayTouchStartMs>0&&!yc){ln={x:v.clientX,y:v.clientY},(Math.abs(ln.x-ra.x)>=Qh||Math.abs(ln.y-ra.y)>=Qh)&&(na&&(clearTimeout(na),na=void 0),s(h));return}h.preventDefault(),ln={x:v.clientX,y:v.clientY},(Math.abs(ln.x-ra.x)>=Qh||Math.abs(ln.y-ra.y)>=Qh)&&(o(),c())}function l(h){if(!(h.target!==h.currentTarget&&(h.target.value!==void 0||h.target.isContentEditable))&&!h.button&&!yo){var d=!!h.touches,v=d&&n.delayTouchStartMs>0;v||h.preventDefault(),h.stopPropagation();var g=d?h.touches[0]:h;ra={x:g.clientX,y:g.clientY},ln=pv({},ra),Pn=h.currentTarget,v&&(yc=!1,na=window.setTimeout(function(){Pn&&(yc=!0,o(),c())},n.delayTouchStartMs)),a()}}function c(){yo=!0;var h=i.get(Pn);Tp=h,hr=Pn.parentElement;var d=hr.closest("dialog")||hr.closest("[popover]")||hr.getRootNode(),v=d.body||d,g=n.items,m=n.type,y=n.centreDraggedOnCursor,b=mi(g);zn=b[h],Sp=m,Io=UW(zn),qr=kW(Pn,y&&ln),v.appendChild(qr);function w(){Pn.parentElement?window.requestAnimationFrame(w):(Pn.setAttribute(L4,!0),v.appendChild(Pn),GW(),M9(Pn),Io[Yr]=zn[Yr],qr.focus())}window.requestAnimationFrame(w),Td(Array.from(Bi.get(n.type)).filter(function(S){return S===hr||!Dr.get(S).dropFromOthersDisabled}),function(S){return Dr.get(S).dropTargetStyle},function(S){return Dr.get(S).dropTargetClasses}),b.splice(h,1,Io),Y2=FW(hr),$o(hr,b,{trigger:Mn.DRAG_STARTED,id:zn[Yr],source:$n.POINTER}),window.addEventListener("mousemove",_v,{passive:!1}),window.addEventListener("touchmove",_v,{passive:!1,capture:!1}),window.addEventListener("mouseup",rl,{passive:!1}),window.addEventListener("touchend",rl,{passive:!1})}function f(h){var d=h.items,v=d===void 0?void 0:d,g=h.flipDurationMs,m=g===void 0?0:g,y=h.type,b=y===void 0?zW:y,w=h.dragDisabled,S=w===void 0?!1:w,D=h.morphDisabled,M=D===void 0?!1:D,A=h.dropFromOthersDisabled,k=A===void 0?!1:A,O=h.dropTargetStyle,P=O===void 0?P4:O,R=h.dropTargetClasses,H=R===void 0?[]:R,z=h.transformDraggedElement,W=z===void 0?function(){}:z,ee=h.centreDraggedOnCursor,ne=ee===void 0?!1:ee,he=h.dropAnimationDisabled,X=he===void 0?!1:he,te=h.delayTouchStart,oe=te===void 0?!1:te;n.dropAnimationDurationMs=m;var Q=0;oe===!0?Q=VW:typeof oe=="number"&&isFinite(oe)&&oe>=0&&(Q=oe),n.delayTouchStartMs=Q,n.type&&b!==n.type&&R4(t,n.type),n.type=b,n.items=mi(v),n.dragDisabled=S,n.morphDisabled=M,n.transformDraggedElement=W,n.centreDraggedOnCursor=ne,n.dropAnimationDisabled=X,r&&yo&&!q2&&(!yW(P,n.dropTargetStyle)||!_W(H,n.dropTargetClasses))&&(yv([t],function(){return n.dropTargetStyle},function(){return H}),Td([t],function(){return P},function(){return H})),n.dropTargetStyle=P,n.dropTargetClasses=mi(H);function ue(Ye,Ke){return Dr.get(Ye)?Dr.get(Ye)[Ke]:n[Ke]}r&&yo&&n.dropFromOthersDisabled!==k&&(k?yv([t],function(Ye){return ue(Ye,"dropTargetStyle")},function(Ye){return ue(Ye,"dropTargetClasses")}):Td([t],function(Ye){return ue(Ye,"dropTargetStyle")},function(Ye){return ue(Ye,"dropTargetClasses")})),n.dropFromOthersDisabled=k,Dr.set(t,n),HW(t,b);for(var pe=yo?Mp(n.items):-1,Ee=0;Ee<t.children.length;Ee++){var Be=t.children[Ee];if(LW(Be,S),Ee===pe){M||PW(qr,Be,ln.x,ln.y),n.transformDraggedElement(qr,zn,Ee),RW(Be);continue}Be.removeEventListener("mousedown",fg.get(Be)),Be.removeEventListener("touchstart",fg.get(Be)),S||(Be.addEventListener("mousedown",l),Be.addEventListener("touchstart",l),fg.set(Be,l)),i.set(Be,Ee),r||(r=!0)}}return f(e),{update:function(d){f(d)},destroy:function(){function d(){R4(t,Dr.get(t).type),Dr.delete(t)}yo&&!t.closest("[".concat(L4,"]"))?YW(t,d):d()}}}var ed,ny={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},I9=(ed={},el(ed,ny.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),el(ed,ny.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),ed),ZW="dnd-action-aria-alert",kr;function iy(){kr||(kr=document.createElement("div"),function(){kr.id=ZW,kr.style.position="fixed",kr.style.bottom="0",kr.style.left="0",kr.style.zIndex="-5",kr.style.opacity="0",kr.style.height="0",kr.style.width="0",kr.setAttribute("role","alert")}(),document.body.prepend(kr),Object.entries(I9).forEach(function(t){var e=ZG(t,2),r=e[0],n=e[1];return document.body.prepend(QW(r,n))}))}function XW(){return W2?null:(document.readyState==="complete"?iy():window.addEventListener("DOMContentLoaded",iy),pv({},ny))}function JW(){W2||!kr||(Object.keys(I9).forEach(function(t){var e;return(e=document.getElementById(t))===null||e===void 0?void 0:e.remove()}),kr.remove(),kr=void 0)}function QW(t,e){var r=document.createElement("div");return r.id=t,r.innerHTML="<p>".concat(e,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function qu(t){if(!W2){kr||iy(),kr.innerHTML="";var e=document.createTextNode(t);kr.appendChild(e),kr.style.display="none",kr.style.display="inline"}}var eU="--any--",N4={outline:"rgba(255, 255, 102, 0.7) solid 2px"},fi=!1,ay,dn,Ps="",xs,sa,So="",bv=new WeakSet,F4=new WeakMap,z4=new WeakMap,oy=new Map,Zr=new Map,Ri=new Map,wv;function tU(t,e){Ri.size===0&&(wv=XW(),window.addEventListener("keydown",E9),window.addEventListener("click",k9)),Ri.has(e)||Ri.set(e,new Set),Ri.get(e).has(t)||(Ri.get(e).add(t),m9())}function B4(t,e){dn===t&&ff(),Ri.get(e).delete(t),y9(),Ri.get(e).size===0&&Ri.delete(e),Ri.size===0&&(window.removeEventListener("keydown",E9),window.removeEventListener("click",k9),wv=void 0,JW())}function E9(t){if(fi)switch(t.key){case"Escape":{ff();break}}}function k9(){fi&&(bv.has(document.activeElement)||ff())}function rU(t){if(fi){var e=t.currentTarget;if(e!==dn){Ps=e.getAttribute("aria-label")||"";var r=Zr.get(dn),n=r.items,i=n.find(function(f){return f[Yr]===sa}),a=n.indexOf(i),o=n.splice(a,1)[0],s=Zr.get(e),u=s.items,l=s.autoAriaDisabled;e.getBoundingClientRect().top<dn.getBoundingClientRect().top||e.getBoundingClientRect().left<dn.getBoundingClientRect().left?(u.push(o),l||qu("Moved item ".concat(So," to the end of the list ").concat(Ps))):(u.unshift(o),l||qu("Moved item ".concat(So," to the beginning of the list ").concat(Ps)));var c=dn;tl(c,n,{trigger:Mn.DROPPED_INTO_ANOTHER,id:sa,source:$n.KEYBOARD}),tl(e,u,{trigger:Mn.DROPPED_INTO_ZONE,id:sa,source:$n.KEYBOARD}),dn=e}}}function O9(){oy.forEach(function(t,e){var r=t.update;return r(Zr.get(e))})}function ff(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Zr.get(dn).autoAriaDisabled||qu("Stopped dragging item ".concat(So)),bv.has(document.activeElement)&&document.activeElement.blur(),t&&$o(dn,Zr.get(dn).items,{trigger:Mn.DRAG_STOPPED,id:sa,source:$n.KEYBOARD}),yv(Ri.get(ay),function(e){return Zr.get(e).dropTargetStyle},function(e){return Zr.get(e).dropTargetClasses}),xs=null,sa=null,So="",ay=null,dn=null,Ps="",fi=!1,O9()}function nU(t,e){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:N4,dropTargetClasses:[],autoAriaDisabled:!1};function n(c,f,h){c.length<=1||c.splice(h,1,c.splice(f,1,c[h])[0])}function i(c){switch(c.key){case"Enter":case" ":{if((c.target.disabled!==void 0||c.target.href||c.target.isContentEditable)&&!bv.has(c.target))return;c.preventDefault(),c.stopPropagation(),fi?ff():a(c);break}case"ArrowDown":case"ArrowRight":{if(!fi)return;c.preventDefault(),c.stopPropagation();var f=Zr.get(t),h=f.items,d=Array.from(t.children),v=d.indexOf(c.currentTarget);v<d.length-1&&(r.autoAriaDisabled||qu("Moved item ".concat(So," to position ").concat(v+2," in the list ").concat(Ps)),n(h,v,v+1),tl(t,h,{trigger:Mn.DROPPED_INTO_ZONE,id:sa,source:$n.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!fi)return;c.preventDefault(),c.stopPropagation();var g=Zr.get(t),m=g.items,y=Array.from(t.children),b=y.indexOf(c.currentTarget);b>0&&(r.autoAriaDisabled||qu("Moved item ".concat(So," to position ").concat(b," in the list ").concat(Ps)),n(m,b,b-1),tl(t,m,{trigger:Mn.DROPPED_INTO_ZONE,id:sa,source:$n.KEYBOARD}));break}}}function a(c){s(c.currentTarget),dn=t,ay=r.type,fi=!0;var f=Array.from(Ri.get(r.type)).filter(function(d){return d===dn||!Zr.get(d).dropFromOthersDisabled});if(Td(f,function(d){return Zr.get(d).dropTargetStyle},function(d){return Zr.get(d).dropTargetClasses}),!r.autoAriaDisabled){var h="Started dragging item ".concat(So,". Use the arrow keys to move it within its list ").concat(Ps);f.length>1&&(h+=", or tab to another list in order to move the item into it"),qu(h)}$o(t,Zr.get(t).items,{trigger:Mn.DRAG_STARTED,id:sa,source:$n.KEYBOARD}),O9()}function o(c){fi&&c.currentTarget!==xs&&(c.stopPropagation(),ff(!1),a(c))}function s(c){var f=Zr.get(t),h=f.items,d=Array.from(t.children),v=d.indexOf(c);xs=c,xs.tabIndex=r.zoneItemTabIndex,sa=h[v][Yr],So=d[v].getAttribute("aria-label")||""}function u(c){var f=c.items,h=f===void 0?[]:f,d=c.type,v=d===void 0?eU:d,g=c.dragDisabled,m=g===void 0?!1:g,y=c.zoneTabIndex,b=y===void 0?0:y,w=c.zoneItemTabIndex,S=w===void 0?0:w,D=c.dropFromOthersDisabled,M=D===void 0?!1:D,A=c.dropTargetStyle,k=A===void 0?N4:A,O=c.dropTargetClasses,P=O===void 0?[]:O,R=c.autoAriaDisabled,H=R===void 0?!1:R;r.items=mi(h),r.dragDisabled=m,r.dropFromOthersDisabled=M,r.zoneTabIndex=b,r.zoneItemTabIndex=S,r.dropTargetStyle=k,r.dropTargetClasses=P,r.autoAriaDisabled=H,r.type&&v!==r.type&&B4(t,r.type),r.type=v,tU(t,v),H||(t.setAttribute("aria-disabled",m),t.setAttribute("role","list"),t.setAttribute("aria-describedby",m?wv.DND_ZONE_DRAG_DISABLED:wv.DND_ZONE_ACTIVE)),Zr.set(t,r),fi?t.tabIndex=t===dn||xs.contains(t)||r.dropFromOthersDisabled||dn&&r.type!==Zr.get(dn).type?-1:0:t.tabIndex=r.zoneTabIndex,t.addEventListener("focus",rU);for(var z=function(ne){var he=t.children[ne];bv.add(he),he.tabIndex=fi?-1:r.zoneItemTabIndex,H||he.setAttribute("role","listitem"),he.removeEventListener("keydown",F4.get(he)),he.removeEventListener("click",z4.get(he)),m||(he.addEventListener("keydown",i),F4.set(he,i),he.addEventListener("click",o),z4.set(he,o)),fi&&r.items[ne][Yr]===sa&&(xs=he,xs.tabIndex=r.zoneItemTabIndex,he.focus())},W=0;W<t.children.length;W++)z(W)}u(e);var l={update:function(f){u(f)},destroy:function(){B4(t,r.type),Zr.delete(t),oy.delete(t)}};return oy.set(t,l),l}var iU=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function Wr(t,e){if(aU(t))return{update:function(){},destroy:function(){}};$4(e);var r=KW(t,e),n=nU(t,e);return{update:function(a){$4(a),r.update(a),n.update(a)},destroy:function(){r.destroy(),n.destroy()}}}function aU(t){return!!t.closest("[".concat(cW,'="true"]'))}function $4(t){var e=t.items;t.flipDurationMs,t.type,t.dragDisabled,t.morphDisabled,t.dropFromOthersDisabled;var r=t.zoneTabIndex,n=t.zoneItemTabIndex;t.dropTargetStyle;var i=t.dropTargetClasses;t.transformDraggedElement,t.autoAriaDisabled,t.centreDraggedOnCursor;var a=t.delayTouchStart;t.dropAnimationDisabled;var o=KG(t,iU);if(Object.keys(o).length>0&&console.warn("dndzone will ignore unknown options",o),!e)throw new Error("no 'items' key provided to dndzone");var s=e.find(function(c){return!{}.hasOwnProperty.call(c,Yr)});if(s)throw new Error("missing '".concat(Yr,"' property for item ").concat(ac(s)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Iu(i),", ").concat(ac(i)));if(r&&!V4(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Iu(r),", ").concat(ac(r)));if(n&&!V4(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Iu(n),", ").concat(ac(n)));if(a!==void 0&&a!==!1){var u=a===!0,l=typeof a=="number"&&isFinite(a)&&a>=0;if(!u&&!l)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(Iu(a),", ").concat(ac(a)))}}function V4(t){return!isNaN(t)&&function(e){return(e|0)===e}(parseFloat(t))}const oU=(t,e)=>{const r={},n=[];if(t.forEach(a=>{a.id!=="NO_vine"&&(r[a.id]={...a,children:[]})}),t.forEach(a=>{a.id!=="NO_VINE"&&(a.parent_id&&r[a.parent_id]?r[a.parent_id].children.push(r[a.id]):n.push(r[a.id]))}),!e)return n;function i(a,o){for(const s of a){if(s.id===o)return s.children||[];if(s.children&&s.children.length>0){const u=i(s.children,o);if(u.length>0)return u}}return[]}return i(n,e)};function sU(t,e){const r=[];let n=e;for(;n;){const i=t.find(a=>a.id===n);if(!i)break;r.push(i),n=i.parent_id}return r.reverse()}class Jn extends Error{constructor(e){var r,n,i,a;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,Jn.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof Jn||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(r=this.response)==null?void 0:r.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(a=(i=(n=this.originalError)==null?void 0:n.cause)==null?void 0:i.message)!=null&&a.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const td=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function uU(t,e){const r={};if(typeof t!="string")return r;const n=Object.assign({},{}).decode||lU;let i=0;for(;i<t.length;){const a=t.indexOf("=",i);if(a===-1)break;let o=t.indexOf(";",i);if(o===-1)o=t.length;else if(o<a){i=t.lastIndexOf(";",a-1)+1;continue}const s=t.slice(i,a).trim();if(r[s]===void 0){let u=t.slice(a+1,o).trim();u.charCodeAt(0)===34&&(u=u.slice(1,-1));try{r[s]=n(u)}catch{r[s]=u}}i=o+1}return r}function H4(t,e,r){const n=Object.assign({},r||{}),i=n.encode||cU;if(!td.test(t))throw new TypeError("argument name is invalid");const a=i(e);if(a&&!td.test(a))throw new TypeError("argument val is invalid");let o=t+"="+a;if(n.maxAge!=null){const s=n.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(s)}if(n.domain){if(!td.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain="+n.domain}if(n.path){if(!td.test(n.path))throw new TypeError("option path is invalid");o+="; Path="+n.path}if(n.expires){if(!function(u){return Object.prototype.toString.call(u)==="[object Date]"||u instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function lU(t){return t.indexOf("%")!==-1?decodeURIComponent(t):t}function cU(t){return encodeURIComponent(t)}const fU=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let P9;function Yu(t){if(t)try{const e=decodeURIComponent(P9(t.split(".")[1]).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function L9(t,e=0){let r=Yu(t);return!(Object.keys(r).length>0&&(!r.exp||r.exp-e>Date.now()/1e3))}P9=typeof atob!="function"||fU?t=>{let e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,i=0,a=0,o="";n=e.charAt(a++);~n&&(r=i%4?64*r+n:n,i++%4)?o+=String.fromCharCode(255&r>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o}:atob;const G4="pb_auth";class j2{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!L9(this.token)}get isSuperuser(){var r,n;let e=Yu(this.token);return e.type=="auth"&&(((r=this.record)==null?void 0:r.collectionName)=="_superusers"||!((n=this.record)!=null&&n.collectionName)&&e.collectionId=="pbc_3142635823")}get isAdmin(){return console.warn("Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),this.isSuperuser}get isAuthRecord(){return console.warn("Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),Yu(this.token).type=="auth"&&!this.isSuperuser}save(e,r){this.baseToken=e||"",this.baseModel=r||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,r=G4){const n=uU(e||"")[r]||"";let i={};try{i=JSON.parse(n),(typeof i===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.record||i.model||null)}exportToCookie(e,r=G4){var u,l;const n={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},i=Yu(this.token);n.expires=i!=null&&i.exp?new Date(1e3*i.exp):new Date("1970-01-01"),e=Object.assign({},n,e);const a={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let o=H4(r,JSON.stringify(a),e);const s=typeof Blob<"u"?new Blob([o]).size:o.length;if(a.record&&s>4096){a.record={id:(u=a.record)==null?void 0:u.id,email:(l=a.record)==null?void 0:l.email};const c=["collectionId","collectionName","verified"];for(const f in this.record)c.includes(f)&&(a.record[f]=this.record[f]);o=H4(r,JSON.stringify(a),e)}return o}onChange(e,r=!1){return this._onChangeCallbacks.push(e),r&&e(this.token,this.record),()=>{for(let n=this._onChangeCallbacks.length-1;n>=0;n--)if(this._onChangeCallbacks[n]==e)return delete this._onChangeCallbacks[n],void this._onChangeCallbacks.splice(n,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class hU extends j2{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,r){this._storageSet(this.storageKey,{token:e,record:r}),super.save(e,r)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const r=window.localStorage.getItem(e)||"";try{return JSON.parse(r)}catch{return r}}return this.storageFallback[e]}_storageSet(e,r){if(typeof window<"u"&&(window!=null&&window.localStorage)){let n=r;typeof r!="string"&&(n=JSON.stringify(r)),window.localStorage.setItem(e,n)}else this.storageFallback[e]=r}_storageRemove(e){var r;typeof window<"u"&&(window!=null&&window.localStorage)&&((r=window.localStorage)==null||r.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const r=this._storageGet(this.storageKey)||{};super.save(r.token||"",r.record||r.model||null)})}}class Ka{constructor(e){this.client=e}}class dU extends Ka{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,r){return r=Object.assign({method:"PATCH",body:e},r),this.client.send("/api/settings",r)}async testS3(e="storage",r){return r=Object.assign({method:"POST",body:{filesystem:e}},r),this.client.send("/api/settings/test/s3",r).then(()=>!0)}async testEmail(e,r,n,i){return i=Object.assign({method:"POST",body:{email:r,template:n,collection:e}},i),this.client.send("/api/settings/test/email",i).then(()=>!0)}async generateAppleClientSecret(e,r,n,i,a,o){return o=Object.assign({method:"POST",body:{clientId:e,teamId:r,keyId:n,privateKey:i,duration:a}},o),this.client.send("/api/settings/apple/generate-client-secret",o)}}const vU=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function K2(t){if(t){t.query=t.query||{};for(let e in t)vU.includes(e)||(t.query[e]=t[e],delete t[e])}}function R9(t){const e=[];for(const r in t){const n=encodeURIComponent(r),i=Array.isArray(t[r])?t[r]:[t[r]];for(let a of i)a=pU(a),a!==null&&e.push(n+"="+a)}return e.join("&")}function pU(t){return t==null?null:t instanceof Date?encodeURIComponent(t.toISOString().replace("T"," ")):encodeURIComponent(typeof t=="object"?JSON.stringify(t):t)}class N9 extends Ka{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,r,n){var o;if(!e)throw new Error("topic must be set.");let i=e;if(n){K2(n=Object.assign({},n));const s="options="+encodeURIComponent(JSON.stringify({query:n.query,headers:n.headers}));i+=(i.includes("?")?"&":"?")+s}const a=function(s){const u=s;let l;try{l=JSON.parse(u==null?void 0:u.data)}catch{}r(l||{})};return this.subscriptions[i]||(this.subscriptions[i]=[]),this.subscriptions[i].push(a),this.isConnected?this.subscriptions[i].length===1?await this.submitSubscriptions():(o=this.eventSource)==null||o.addEventListener(i,a):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,a)}async unsubscribe(e){var n;let r=!1;if(e){const i=this.getSubscriptionsByTopic(e);for(let a in i)if(this.hasSubscriptionListeners(a)){for(let o of this.subscriptions[a])(n=this.eventSource)==null||n.removeEventListener(a,o);delete this.subscriptions[a],r||(r=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?r&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var n;let r=!1;for(let i in this.subscriptions)if((i+"?").startsWith(e)){r=!0;for(let a of this.subscriptions[i])(n=this.eventSource)==null||n.removeEventListener(i,a);delete this.subscriptions[i]}r&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,r){var a;let n=!1;const i=this.getSubscriptionsByTopic(e);for(let o in i){if(!Array.isArray(this.subscriptions[o])||!this.subscriptions[o].length)continue;let s=!1;for(let u=this.subscriptions[o].length-1;u>=0;u--)this.subscriptions[o][u]===r&&(s=!0,delete this.subscriptions[o][u],this.subscriptions[o].splice(u,1),(a=this.eventSource)==null||a.removeEventListener(o,r));s&&(this.subscriptions[o].length||delete this.subscriptions[o],n||this.hasSubscriptionListeners(o)||(n=!0))}this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var r,n;if(this.subscriptions=this.subscriptions||{},e)return!!((r=this.subscriptions[e])!=null&&r.length);for(let i in this.subscriptions)if((n=this.subscriptions[i])!=null&&n.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const r={};e=e.includes("?")?e:e+"?";for(let n in this.subscriptions)(n+"?").startsWith(e)&&(r[n]=this.subscriptions[n]);return r}getNonEmptySubscriptionKeys(){const e=[];for(let r in this.subscriptions)this.subscriptions[r].length&&e.push(r);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let r of this.subscriptions[e])this.eventSource.addEventListener(e,r)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let r of this.subscriptions[e])this.eventSource.removeEventListener(e,r)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,r)=>{this.pendingConnects.push({resolve:e,reject:r}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const r=e;this.clientId=r==null?void 0:r.lastEventId,this.submitSubscriptions().then(async()=>{let n=3;for(;this.hasUnsentSubscriptions()&&n>0;)n--,await this.submitSubscriptions()}).then(()=>{for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const n=this.getSubscriptionsByTopic("PB_CONNECT");for(let i in n)for(let a of n[i])a(e)}).catch(n=>{this.clientId="",this.connectErrorHandler(n)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const r of e)if(!this.lastSentSubscriptions.includes(r))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let n of this.pendingConnects)n.reject(new Jn(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const r=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},r)}disconnect(e=!1){var r;if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(r=this.eventSource)==null||r.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let n of this.pendingConnects)n.resolve();this.pendingConnects=[]}}}class F9 extends Ka{decode(e){return e}async getFullList(e,r){if(typeof e=="number")return this._getFullList(e,r);let n=500;return(r=Object.assign({},e,r)).batch&&(n=r.batch,delete r.batch),this._getFullList(n,r)}async getList(e=1,r=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:r},n.query),this.client.send(this.baseCrudPath,n).then(i=>{var a;return i.items=((a=i.items)==null?void 0:a.map(o=>this.decode(o)))||[],i})}async getFirstListItem(e,r){return(r=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},r)).query=Object.assign({filter:e,skipTotal:1},r.query),this.getList(1,1,r).then(n=>{var i;if(!((i=n==null?void 0:n.items)!=null&&i.length))throw new Jn({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return n.items[0]})}async getOne(e,r){if(!e)throw new Jn({url:this.client.buildURL(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return r=Object.assign({method:"GET"},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),r).then(n=>this.decode(n))}async create(e,r){return r=Object.assign({method:"POST",body:e},r),this.client.send(this.baseCrudPath,r).then(n=>this.decode(n))}async update(e,r,n){return n=Object.assign({method:"PATCH",body:r},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),n).then(i=>this.decode(i))}async delete(e,r){return r=Object.assign({method:"DELETE"},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),r).then(()=>!0)}_getFullList(e=500,r){(r=r||{}).query=Object.assign({skipTotal:1},r.query);let n=[],i=async a=>this.getList(a,e||500,r).then(o=>{const s=o.items;return n=n.concat(s),s.length==o.perPage?i(a+1):n});return i(1)}}function ho(t,e,r,n){const i=n!==void 0;return i||r!==void 0?i?(console.warn(t),e.body=Object.assign({},e.body,r),e.query=Object.assign({},e.query,n),e):Object.assign(e,r):e}function hg(t){var e;(e=t._resetAutoRefresh)==null||e.call(t)}class gU extends F9{constructor(e,r){super(e),this.collectionIdOrName=r}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return this.collectionIdOrName=="_superusers"||this.collectionIdOrName=="_pbc_2773867675"}async subscribe(e,r,n){if(!e)throw new Error("Missing topic.");if(!r)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,r,n)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,r){if(typeof e=="number")return super.getFullList(e,r);const n=Object.assign({},e,r);return super.getFullList(n)}async getList(e=1,r=30,n){return super.getList(e,r,n)}async getFirstListItem(e,r){return super.getFirstListItem(e,r)}async getOne(e,r){return super.getOne(e,r)}async create(e,r){return super.create(e,r)}async update(e,r,n){return super.update(e,r,n).then(i=>{var a,o,s;if(((a=this.client.authStore.record)==null?void 0:a.id)===(i==null?void 0:i.id)&&(((o=this.client.authStore.record)==null?void 0:o.collectionId)===this.collectionIdOrName||((s=this.client.authStore.record)==null?void 0:s.collectionName)===this.collectionIdOrName)){let u=Object.assign({},this.client.authStore.record.expand),l=Object.assign({},this.client.authStore.record,i);u&&(l.expand=Object.assign(u,i.expand)),this.client.authStore.save(this.client.authStore.token,l)}return i})}async delete(e,r){return super.delete(e,r).then(n=>{var i,a,o;return!n||((i=this.client.authStore.record)==null?void 0:i.id)!==e||((a=this.client.authStore.record)==null?void 0:a.collectionId)!==this.collectionIdOrName&&((o=this.client.authStore.record)==null?void 0:o.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),n})}authResponse(e){const r=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,r),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:r})}async listAuthMethods(e){return e=Object.assign({method:"GET",fields:"mfa,otp,password,oauth2"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e)}async authWithPassword(e,r,n){let i;n=Object.assign({method:"POST",body:{identity:e,password:r}},n),this.isSuperusers&&(i=n.autoRefreshThreshold,delete n.autoRefreshThreshold,n.autoRefresh||hg(this.client));let a=await this.client.send(this.baseCollectionPath+"/auth-with-password",n);return a=this.authResponse(a),i&&this.isSuperusers&&function(s,u,l,c){hg(s);const f=s.beforeSend,h=s.authStore.record,d=s.authStore.onChange((v,g)=>{(!v||(g==null?void 0:g.id)!=(h==null?void 0:h.id)||(g!=null&&g.collectionId||h!=null&&h.collectionId)&&(g==null?void 0:g.collectionId)!=(h==null?void 0:h.collectionId))&&hg(s)});s._resetAutoRefresh=function(){d(),s.beforeSend=f,delete s._resetAutoRefresh},s.beforeSend=async(v,g)=>{var w;const m=s.authStore.token;if((w=g.query)!=null&&w.autoRefresh)return f?f(v,g):{url:v,sendOptions:g};let y=s.authStore.isValid;if(y&&L9(s.authStore.token,u))try{await l()}catch{y=!1}y||await c();const b=g.headers||{};for(let S in b)if(S.toLowerCase()=="authorization"&&m==b[S]&&s.authStore.token){b[S]=s.authStore.token;break}return g.headers=b,f?f(v,g):{url:v,sendOptions:g}}}(this.client,i,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,r,Object.assign({autoRefresh:!0},n))),a}async authWithOAuth2Code(e,r,n,i,a,o,s){let u={method:"POST",body:{provider:e,code:r,codeVerifier:n,redirectURL:i,createData:a}};return u=ho("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).",u,o,s),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",u).then(l=>this.authResponse(l))}authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const r=(e==null?void 0:e[0])||{};let n=null;r.urlCallback||(n=W4(void 0));const i=new N9(this.client);function a(){n==null||n.close(),i.unsubscribe()}const o={},s=r.requestKey;return s&&(o.requestKey=s),this.listAuthMethods(o).then(u=>{var h;const l=u.oauth2.providers.find(d=>d.name===r.provider);if(!l)throw new Jn(new Error(`Missing or invalid provider "${r.provider}".`));const c=this.client.buildURL("/api/oauth2-redirect"),f=s?(h=this.client.cancelControllers)==null?void 0:h[s]:void 0;return f&&(f.signal.onabort=()=>{a()}),new Promise(async(d,v)=>{var g;try{await i.subscribe("@oauth2",async w=>{var D;const S=i.clientId;try{if(!w.state||S!==w.state)throw new Error("State parameters don't match.");if(w.error||!w.code)throw new Error("OAuth2 redirect error or missing code: "+w.error);const M=Object.assign({},r);delete M.provider,delete M.scopes,delete M.createData,delete M.urlCallback,(D=f==null?void 0:f.signal)!=null&&D.onabort&&(f.signal.onabort=null);const A=await this.authWithOAuth2Code(l.name,w.code,l.codeVerifier,c,r.createData,M);d(A)}catch(M){v(new Jn(M))}a()});const m={state:i.clientId};(g=r.scopes)!=null&&g.length&&(m.scope=r.scopes.join(" "));const y=this._replaceQueryParams(l.authURL+c,m);await(r.urlCallback||function(w){n?n.location.href=w:n=W4(w)})(y)}catch(m){a(),v(new Jn(m))}})}).catch(u=>{throw a(),u})}async authRefresh(e,r){let n={method:"POST"};return n=ho("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,e,r),this.client.send(this.baseCollectionPath+"/auth-refresh",n).then(i=>this.authResponse(i))}async requestPasswordReset(e,r,n){let i={method:"POST",body:{email:e}};return i=ho("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,r,n),this.client.send(this.baseCollectionPath+"/request-password-reset",i).then(()=>!0)}async confirmPasswordReset(e,r,n,i,a){let o={method:"POST",body:{token:e,password:r,passwordConfirm:n}};return o=ho("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",o,i,a),this.client.send(this.baseCollectionPath+"/confirm-password-reset",o).then(()=>!0)}async requestVerification(e,r,n){let i={method:"POST",body:{email:e}};return i=ho("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",i,r,n),this.client.send(this.baseCollectionPath+"/request-verification",i).then(()=>!0)}async confirmVerification(e,r,n){let i={method:"POST",body:{token:e}};return i=ho("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",i,r,n),this.client.send(this.baseCollectionPath+"/confirm-verification",i).then(()=>{const a=Yu(e),o=this.client.authStore.record;return o&&!o.verified&&o.id===a.id&&o.collectionId===a.collectionId&&(o.verified=!0,this.client.authStore.save(this.client.authStore.token,o)),!0})}async requestEmailChange(e,r,n){let i={method:"POST",body:{newEmail:e}};return i=ho("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",i,r,n),this.client.send(this.baseCollectionPath+"/request-email-change",i).then(()=>!0)}async confirmEmailChange(e,r,n,i){let a={method:"POST",body:{token:e,password:r}};return a=ho("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",a,n,i),this.client.send(this.baseCollectionPath+"/confirm-email-change",a).then(()=>{const o=Yu(e),s=this.client.authStore.record;return s&&s.id===o.id&&s.collectionId===o.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(e,r){return this.client.collection("_externalAuths").getFullList(Object.assign({},r,{filter:this.client.filter("recordRef = {:id}",{id:e})}))}async unlinkExternalAuth(e,r,n){const i=await this.client.collection("_externalAuths").getFirstListItem(this.client.filter("recordRef = {:recordId} && provider = {:provider}",{recordId:e,provider:r}));return this.client.collection("_externalAuths").delete(i.id,n).then(()=>!0)}async requestOTP(e,r){return r=Object.assign({method:"POST",body:{email:e}},r),this.client.send(this.baseCollectionPath+"/request-otp",r)}async authWithOTP(e,r,n){return n=Object.assign({method:"POST",body:{otpId:e,password:r}},n),this.client.send(this.baseCollectionPath+"/auth-with-otp",n).then(i=>this.authResponse(i))}async impersonate(e,r,n){(n=Object.assign({method:"POST",body:{duration:r}},n)).headers=n.headers||{},n.headers.Authorization||(n.headers.Authorization=this.client.authStore.token);const i=new z9(this.client.baseURL,new j2,this.client.lang),a=await i.send(this.baseCollectionPath+"/impersonate/"+encodeURIComponent(e),n);return i.authStore.save(a==null?void 0:a.token,this.decode((a==null?void 0:a.record)||{})),i}_replaceQueryParams(e,r={}){let n=e,i="";e.indexOf("?")>=0&&(n=e.substring(0,e.indexOf("?")),i=e.substring(e.indexOf("?")+1));const a={},o=i.split("&");for(const s of o){if(s=="")continue;const u=s.split("=");a[decodeURIComponent(u[0].replace(/\+/g," "))]=decodeURIComponent((u[1]||"").replace(/\+/g," "))}for(let s in r)r.hasOwnProperty(s)&&(r[s]==null?delete a[s]:a[s]=r[s]);i="";for(let s in a)a.hasOwnProperty(s)&&(i!=""&&(i+="&"),i+=encodeURIComponent(s.replace(/%20/g,"+"))+"="+encodeURIComponent(a[s].replace(/%20/g,"+")));return i!=""?n+"?"+i:n}}function W4(t){if(typeof window>"u"||!(window!=null&&window.open))throw new Jn(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,r=768,n=window.innerWidth,i=window.innerHeight;e=e>n?n:e,r=r>i?i:r;let a=n/2-e/2,o=i/2-r/2;return window.open(t,"popup_window","width="+e+",height="+r+",top="+o+",left="+a+",resizable,menubar=no")}class mU extends F9{get baseCrudPath(){return"/api/collections"}async import(e,r=!1,n){return n=Object.assign({method:"PUT",body:{collections:e,deleteMissing:r}},n),this.client.send(this.baseCrudPath+"/import",n).then(()=>!0)}async getScaffolds(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/meta/scaffolds",e)}async truncate(e,r){return r=Object.assign({method:"DELETE"},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/truncate",r).then(()=>!0)}}class yU extends Ka{async getList(e=1,r=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:r},n.query),this.client.send("/api/logs",n)}async getOne(e,r){if(!e)throw new Jn({url:this.client.buildURL("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return r=Object.assign({method:"GET"},r),this.client.send("/api/logs/"+encodeURIComponent(e),r)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class _U extends Ka{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class bU extends Ka{getUrl(e,r,n={}){return console.warn("Please replace pb.files.getUrl() with pb.files.getURL()"),this.getURL(e,r,n)}getURL(e,r,n={}){if(!r||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(r));let a=this.client.buildURL(i.join("/"));if(Object.keys(n).length){n.download===!1&&delete n.download;const o=new URLSearchParams(n);a+=(a.includes("?")?"&":"?")+o}return a}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(r=>(r==null?void 0:r.token)||"")}}class wU extends Ka{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,r){return r=Object.assign({method:"POST",body:{name:e}},r),this.client.send("/api/backups",r).then(()=>!0)}async upload(e,r){return r=Object.assign({method:"POST",body:e},r),this.client.send("/api/backups/upload",r).then(()=>!0)}async delete(e,r){return r=Object.assign({method:"DELETE"},r),this.client.send(`/api/backups/${encodeURIComponent(e)}`,r).then(()=>!0)}async restore(e,r){return r=Object.assign({method:"POST"},r),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,r).then(()=>!0)}getDownloadUrl(e,r){return console.warn("Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()"),this.getDownloadURL(e,r)}getDownloadURL(e,r){return this.client.buildURL(`/api/backups/${encodeURIComponent(r)}?token=${encodeURIComponent(e)}`)}}class xU extends Ka{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/crons",e)}async run(e,r){return r=Object.assign({method:"POST"},r),this.client.send(`/api/crons/${encodeURIComponent(e)}`,r).then(()=>!0)}}function sy(t){return typeof Blob<"u"&&t instanceof Blob||typeof File<"u"&&t instanceof File||t!==null&&typeof t=="object"&&t.uri&&(typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal)}function uy(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)}function U4(t){for(const e in t){const r=Array.isArray(t[e])?t[e]:[t[e]];for(const n of r)if(sy(n))return!0}return!1}const SU=/^[\-\.\d]+$/;function q4(t){if(typeof t!="string")return t;if(t=="true")return!0;if(t=="false")return!1;if((t[0]==="-"||t[0]>="0"&&t[0]<="9")&&SU.test(t)){let e=+t;if(""+e===t)return e}return t}class TU extends Ka{constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new MU(this.requests,e)),this.subs[e]}async send(e){const r=new FormData,n=[];for(let i=0;i<this.requests.length;i++){const a=this.requests[i];if(n.push({method:a.method,url:a.url,headers:a.headers,body:a.json}),a.files)for(let o in a.files){const s=a.files[o]||[];for(let u of s)r.append("requests."+i+"."+o,u)}}return r.append("@jsonPayload",JSON.stringify({requests:n})),e=Object.assign({method:"POST",body:r},e),this.client.send("/api/batch",e)}}class MU{constructor(e,r){this.requests=[],this.requests=e,this.collectionIdOrName=r}upsert(e,r){r=Object.assign({body:e||{}},r);const n={method:"PUT",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(n,r),this.requests.push(n)}create(e,r){r=Object.assign({body:e||{}},r);const n={method:"POST",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(n,r),this.requests.push(n)}update(e,r,n){n=Object.assign({body:r||{}},n);const i={method:"PATCH",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(i,n),this.requests.push(i)}delete(e,r){r=Object.assign({},r);const n={method:"DELETE",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(n,r),this.requests.push(n)}prepareRequest(e,r){if(K2(r),e.headers=r.headers,e.json={},e.files={},r.query!==void 0){const i=R9(r.query);i&&(e.url+=(e.url.includes("?")?"&":"?")+i)}let n=r.body;uy(n)&&(n=function(a){let o={};return a.forEach((s,u)=>{if(u==="@jsonPayload"&&typeof s=="string")try{let l=JSON.parse(s);Object.assign(o,l)}catch(l){console.warn("@jsonPayload error:",l)}else o[u]!==void 0?(Array.isArray(o[u])||(o[u]=[o[u]]),o[u].push(q4(s))):o[u]=q4(s)}),o}(n));for(const i in n){const a=n[i];if(sy(a))e.files[i]=e.files[i]||[],e.files[i].push(a);else if(Array.isArray(a)){const o=[],s=[];for(const u of a)sy(u)?o.push(u):s.push(u);if(o.length>0&&o.length==a.length){e.files[i]=e.files[i]||[];for(let u of o)e.files[i].push(u)}else if(e.json[i]=s,o.length>0){let u=i;i.startsWith("+")||i.endsWith("+")||(u+="+"),e.files[u]=e.files[u]||[];for(let l of o)e.files[u].push(l)}}else e.json[i]=a}}}class z9{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e="/",r,n="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=n,r?this.authStore=r:typeof window<"u"&&window.Deno?this.authStore=new j2:this.authStore=new hU,this.collections=new mU(this),this.files=new bU(this),this.logs=new yU(this),this.settings=new dU(this),this.realtime=new N9(this),this.health=new _U(this),this.backups=new wU(this),this.crons=new xU(this)}get admins(){return this.collection("_superusers")}createBatch(){return new TU(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new gU(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,r){if(!r)return e;for(let n in r){let i=r[n];switch(typeof i){case"boolean":case"number":i=""+i;break;case"string":i="'"+i.replace(/'/g,"\\'")+"'";break;default:i=i===null?"null":i instanceof Date?"'"+i.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(i).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+n+"}",i)}return e}getFileUrl(e,r,n={}){return console.warn("Please replace pb.getFileUrl() with pb.files.getURL()"),this.files.getURL(e,r,n)}buildUrl(e){return console.warn("Please replace pb.buildUrl() with pb.buildURL()"),this.buildURL(e)}buildURL(e){var n;let r=this.baseURL;return typeof window>"u"||!window.location||r.startsWith("https://")||r.startsWith("http://")||(r=(n=window.location.origin)!=null&&n.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseURL.startsWith("/")||(r+=window.location.pathname||"/",r+=r.endsWith("/")?"":"/"),r+=this.baseURL),e&&(r+=r.endsWith("/")?"":"/",r+=e.startsWith("/")?e.substring(1):e),r}async send(e,r){r=this.initSendOptions(e,r);let n=this.buildURL(e);if(this.beforeSend){const i=Object.assign({},await this.beforeSend(n,r));i.url!==void 0||i.options!==void 0?(n=i.url||n,r=i.options||r):Object.keys(i).length&&(r=i,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(r.query!==void 0){const i=R9(r.query);i&&(n+=(n.includes("?")?"&":"?")+i),delete r.query}return this.getHeader(r.headers,"Content-Type")=="application/json"&&r.body&&typeof r.body!="string"&&(r.body=JSON.stringify(r.body)),(r.fetch||fetch)(n,r).then(async i=>{let a={};try{a=await i.json()}catch{}if(this.afterSend&&(a=await this.afterSend(i,a,r)),i.status>=400)throw new Jn({url:i.url,status:i.status,data:a});return a}).catch(i=>{throw new Jn(i)})}initSendOptions(e,r){if((r=Object.assign({method:"GET"},r)).body=function(i){if(typeof FormData>"u"||i===void 0||typeof i!="object"||i===null||uy(i)||!U4(i))return i;const a=new FormData;for(const o in i){const s=i[o];if(typeof s!="object"||U4({data:s})){const u=Array.isArray(s)?s:[s];for(let l of u)a.append(o,l)}else{let u={};u[o]=s,a.append("@jsonPayload",JSON.stringify(u))}}return a}(r.body),K2(r),r.query=Object.assign({},r.params,r.query),r.requestKey===void 0&&(r.$autoCancel===!1||r.query.$autoCancel===!1?r.requestKey=null:(r.$cancelKey||r.query.$cancelKey)&&(r.requestKey=r.$cancelKey||r.query.$cancelKey)),delete r.$autoCancel,delete r.query.$autoCancel,delete r.$cancelKey,delete r.query.$cancelKey,this.getHeader(r.headers,"Content-Type")!==null||uy(r.body)||(r.headers=Object.assign({},r.headers,{"Content-Type":"application/json"})),this.getHeader(r.headers,"Accept-Language")===null&&(r.headers=Object.assign({},r.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(r.headers,"Authorization")===null&&(r.headers=Object.assign({},r.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&r.requestKey!==null){const n=r.requestKey||(r.method||"GET")+e;delete r.requestKey,this.cancelRequest(n);const i=new AbortController;this.cancelControllers[n]=i,r.signal=i.signal}return r}getHeader(e,r){e=e||{},r=r.toLowerCase();for(let n in e)if(n.toLowerCase()==r)return e[n];return null}}const xv=new z9(window.location.origin+tD);KM(null,function(t,e){xv.authStore.onChange((r,n)=>{e(i=>((i!=null&&i.isValid&&!(n!=null&&n.isValid)||!(i!=null&&i.isValid)&&(n!=null&&n.isValid))&&rD(),n))},!0)});var DU=Je('<input type="text" class="input"/>');function CU(t,e){xa(e,!0);let r=Lt(e,"courses_result",15),n=Lt(e,"loading_results",15),i=Lt(e,"page_count",15),a=Lt(e,"item_count",15),o=ft("");async function s(){n(!0),r(await xv.collection("courses").getList(e.page,5,{filter:xv.filter("(title ~ {:search} || course_code ~ {:search} || instructor ~ {:search}) && institution = {:institution}",{search:E(o),institution:e.institution})}).catch(()=>"ERROR")),r()!="ERROR"&&(i(r().totalPages),a(r().totalItems)),n(!1)}ha(()=>{e.page&&E(o)&&s()});var u=DU();jn(u),u.__change=s,rt(l=>{u.disabled=!e.institution,pn(u,"placeholder",l)},[()=>Qr(fr)("search_course")]),p6(u,()=>E(o),l=>Me(o,l)),de(t,u),Sa()}Vo(["change"]);var AU=Je("<option> </option>"),IU=Je('<select class="select"></select>'),EU=Je('<select class="select select-error"><option disabled selected> </option></select>'),kU=Je('<select class="select"><option disabled selected> </option></select>');function OU(t,e){xa(e,!0);const[r,n]=Ns(),i=()=>Fs(fr,"$_",r);let a=Lt(e,"selected_institution",15);const o=xv.collection("institutions").getFullList();var s=_t(),u=st(s);u6(u,()=>o,l=>{var c=kU(),f=K(c),h=K(f,!0);q(f);var d={};q(c),rt((v,g)=>{Pe(h,v),d!==(d=g)&&(f.value=(f.__value=g)??"")},[()=>i()("loading_institutions"),()=>i()("loading_institutions")]),de(l,c)},(l,c)=>{var f=IU();Ls(f,21,()=>E(c),vy,(h,d)=>{var v=AU(),g=K(v);q(v);var m={};rt(()=>{Pe(g,`${E(d).name??""} (${E(d).country??""})`),m!==(m=E(d).id)&&(v.value=(v.__value=E(d).id)??"")}),de(h,v)}),q(f),Ad(f,a),de(l,f)},l=>{var c=EU(),f=K(c),h=K(f,!0);q(f);var d={};q(c),rt((v,g)=>{Pe(h,v),d!==(d=g)&&(f.value=(f.__value=g)??"")},[()=>i()("error_institutions_fetch"),()=>i()("error_institutions_fetch")]),de(l,c)}),de(t,s),Sa(),n()}function PU(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M12 3v12"}],["path",{d:"m8 11 4 4 4-4"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4"}]];mr(t,gr({name:"import"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}var LU=async(t,e,r)=>await e(E(r)),RU=Je('<button class="btn btn-square btn-ghost"><!></button>'),NU=Je('<button class="btn btn-square btn-success"><!></button>'),FU=Je('<li class="list-row"><div><!></div> <div><div> </div> <div class="text-xs uppercase font-semibold opacity-60"> </div></div> <!></li>'),zU=(t,e)=>a6(e,-1),BU=(t,e)=>a6(e),$U=Je('<div class="join mb-[5%]"><button class="join-item btn">Â«</button> <button class="join-item btn"> </button> <button class="join-item btn">Â»</button></div>'),VU=Je('<ul class="list w-full"><li class="p-4 pb-2 text-xs opacity-60 tracking-wide"> </li> <!></ul> <!>',1),HU=Je('<div class="flex flex-col gap-2 my-auto items-center"><!> <span class="text-xl text-base-content"> </span></div>'),GU=Je('<dialog class="modal"><div class="modal-box h-[70dvh]"><div class="flex flex-row justify-between items-center w-full"><h3 class="text-lg font-bold self-baseline">Import Course</h3> <form method="dialog"><button class="btn btn-sm btn-circle btn-ghost">â</button></form></div> <div class="flex flex-col items-center gap-2 w-full h-[90%]"><div class="flex flex-row gap-2"><fieldset class="fieldset"><legend class="fieldset-legend"> </legend> <!></fieldset> <fieldset class="fieldset"><legend class="fieldset-legend"> </legend> <!></fieldset></div> <div class="bg-base-100 rounded-box shadow-md flex flex-col w-[90%] h-full gap-2 items-center overflow-auto"><!></div></div></div></dialog>');function WU(t,e){xa(e,!0);const[r,n]=Ns(),i=()=>Fs(fr,"$_",r);let a=Lt(e,"import_course_modal",15),o=ft(void 0),s=ft(!1),u=ft(1),l=ft(1),c=ft(0),f=ft(void 0);async function h(z){const W=await mt.vines.where("parent_id").equals(e.parent_id??"").sortBy("position").then(ee=>ee.length);await mt.vines.add({id:z.id,position:W,type:uf.Course,title:z.title,status:ma.InActive,parent_id:e.parent_id??"",created_at:new Date,updated_at:new Date,archived:0,public:1,course_title:z.title,course_code:z.course_code,course_weight:z.weight,course_instructor:z.instructor})}var d=GU(),v=K(d),g=fe(K(v),2),m=K(g),y=K(m),b=K(y),w=K(b,!0);q(b);var S=fe(b,2);OU(S,{get selected_institution(){return E(f)},set selected_institution(z){Me(f,z,!0)}}),q(y);var D=fe(y,2),M=K(D),A=K(M,!0);q(M);var k=fe(M,2);CU(k,{get institution(){return E(f)},get courses_result(){return E(o)},set courses_result(z){Me(o,z,!0)},get loading_results(){return E(s)},set loading_results(z){Me(s,z,!0)},get page(){return E(u)},set page(z){Me(u,z,!0)},get item_count(){return E(c)},set item_count(z){Me(c,z,!0)},get page_count(){return E(l)},set page_count(z){Me(l,z,!0)}}),q(D),q(m);var O=fe(m,2),P=K(O);{var R=z=>{var W=VU(),ee=st(W),ne=K(ee),he=K(ne);q(ne);var X=fe(ne,2);Ls(X,17,()=>{var Q;return(Q=E(o))==null?void 0:Q.items},vy,(Q,ue)=>{var pe=FU(),Ee=K(pe),Be=K(Ee);Xm(Be,{class:"size-[1.2em]"}),q(Ee);var Ye=fe(Ee,2),Ke=K(Ye),Ge=K(Ke,!0);q(Ke);var ve=fe(Ke,2),et=K(ve);q(ve),q(Ye);var Ie=fe(Ye,2);{var be=Se=>{var Re=RU();Re.__click=[LU,h,ue];var ut=K(Re);PU(ut,{class:"size-[1.2em]"}),q(Re),de(Se,Re)},xe=Se=>{var Re=NU(),ut=K(Re);v9(ut,{class:"size-[1.2em]"}),q(Re),de(Se,Re)};xt(Ie,Se=>{var Re;((Re=e.vines)==null?void 0:Re.findIndex(ut=>ut.id==E(ue).id))==-1?Se(be):Se(xe,!1)})}q(pe),rt(()=>{Pe(Ge,E(ue).title),Pe(et,`${E(ue).course_code??""}
                    ${E(ue).instructor??""}`)}),de(Q,pe)},Q=>{Va();var ue=As("No results");de(Q,ue)}),q(ee);var te=fe(ee,2);{var oe=Q=>{var ue=$U(),pe=K(ue);pe.__click=[zU,u];var Ee=fe(pe,2),Be=K(Ee);q(Ee);var Ye=fe(Ee,2);Ye.__click=[BU,u],q(ue),rt(Ke=>{pe.disabled=E(u)==1,Pe(Be,`${Ke??""} ${E(u)??""}`),Ye.disabled=E(u)==E(l)},[()=>i()("page")]),de(Q,ue)};xt(te,Q=>{E(l)>1&&Q(oe)})}rt(()=>Pe(he,`Courses ${E(c)>0?`(${E(c)} results)`:""}`)),de(z,W)},H=z=>{var W=_t(),ee=st(W);{var ne=X=>{var te=As();rt(oe=>Pe(te,oe),[()=>i()("error_course_fetch")]),de(X,te)},he=X=>{var te=HU(),oe=K(te);Xm(oe,{class:"size-[5em] stroke-base-content"});var Q=fe(oe,2),ue=K(Q,!0);q(Q),q(te),rt(pe=>Pe(ue,pe),[()=>i()("type_for_results")]),de(X,te)};xt(ee,X=>{E(o)=="ERROR"?X(ne):X(he,!1)},!0)}de(z,W)};xt(P,z=>{E(o)&&E(o)!="ERROR"?z(R):z(H,!1)})}q(O),q(g),q(v),q(d),yi(d,z=>a(z),()=>a()),rt((z,W)=>{Pe(w,z),Pe(A,W)},[()=>i()("institution"),()=>i()("search")]),de(t,d),Sa(),n()}Vo(["click"]);var UU=async(t,e)=>{var r;await xu(e().id,{status:(r=t.target)!=null&&r.checked?ma.Active:ma.InActive})},qU=Je('<input type="checkbox" class="checkbox"/>'),YU=Je('<input type="text" class="input input-bordered input-sm flex-1 ml-2"/>'),jU=(t,e,r,n)=>{E(e)&&Me(e,void 0),Me(e,r().id,!0),Me(n,1)},KU=Je('<button class=" link text-base-content"> </button>'),ZU=Je("<p> </p>"),XU=Je('<div class="flex flex-row"><span class="badge badge-soft badge-primary"> </span></div>'),JU=(t,e,r)=>e(r()),QU=Je('<button class="btn btn-square btn-sm md:btn-md btn-ghost join-item"><!></button>'),eq=(t,e,r,n,i)=>{Me(e,r().title,!0),Me(n,r().type,!0),Me(i,r().id,!0)},tq=Je('<button class="btn btn-square btn-sm md:btn-md btn-ghost join-item"><!></button>'),rq=async(t,e,r,n,i,a)=>{const o=await c9(void 0,e().type,void 0,e().id);E(r)&&Me(r,void 0),Me(r,e().id,!0),Me(n,E(i)??1,!0),Me(a,o,!0)},nq=(t,e,r,n)=>{var i;Me(e,r(),!0),(i=E(n))==null||i.showModal()},iq=async(t,e)=>await SG(e().id),aq=Je('<div class="flex flex-row items-center gap-2"><!></div> <div class="flex flex-col w-full items-center gap-2"><!> <!></div> <div class="join bg-base-300 rounded-box"><!> <button class="btn btn-square btn-sm md:btn-md btn-ghost join-item"><!></button> <button class="btn btn-square btn-sm md:btn-md btn-ghost join-item"><!></button> <button class="btn btn-square btn-sm md:btn-md btn-ghost join-item"><!></button></div>',1),oq=async(t,e,r)=>await e(E(r)),sq=(t,e,r)=>{var n;(n=E(e))==null||n.showModal(),E(r).open=!1},uq=async(t,e,r,n)=>{var i;E(e)?Me(r,await l9(E(e)??""),!0):Me(r,void 0),(i=E(n))==null||i.showModal()},lq=(t,e,r)=>{Me(e,void 0),Me(r,1)},cq=(t,e,r,n)=>{Me(e,E(r).id,!0),Me(n,1)},fq=Je('<li><button class="btn btn-link text-base-content flex items-center"> </button></li>'),hq=Je('<div class="breadcrumbs text-sm self-start"><ul><li><button class="btn btn-link text-base-content"><!> </button></li> <!></ul></div>'),dq=Je('<li class="list-row flex items-center justify-between w-full"><!></li>'),vq=Je('<li class="list-row flex items-center justify-between w-full"><!></li>'),pq=Je('<div class="h-full flex flex-col justify-around items-center gap-2 my-[5dvh]"><!> <p class="text-lg font-bold"> </p></div>'),gq=(t,e)=>Me(e,E(e)-1),mq=(t,e)=>Me(e,E(e)+1),yq=Je('<div class="join my-5"><button class="join-item btn">Â«</button> <button class="join-item btn"> </button> <button class="join-item btn">Â»</button></div>'),_q=Je('<dialog class="modal"><div class="modal-box max-h-[90dvh]"><div class="flex flex-row justify-between items-center w-full"><h3 class="text-lg font-bold self-baseline">Vines</h3> <form method="dialog"><button class="btn btn-sm btn-circle btn-ghost">â</button></form></div> <div class="my-5 flex flex-row justify-center join w-full"><details class="dropdown"><summary class="btn btn-soft join-item"><!> </summary> <ul class="menu dropdown-content bg-base-100 rounded-box z-1 w-52 p-2 shadow-sm"><li><a href="."><!> </a></li> <li><a href="."><!> </a></li></ul></details> <button class="btn btn-soft join-item"><!> </button></div> <div class="rounded-box bg-base-200 shadow-md w-full flex flex-col items-center"><!> <ul class="list w-full"></ul> <!></div></div></dialog>'),bq=Je("<!> <!> <!>",1);function wq(t,e){xa(e,!0);const[r,n]=Ns(),i=()=>Fs(fr,"$_",r),a=(X,te=o6)=>{var oe=aq(),Q=st(oe),ue=K(Q);{var pe=se=>{PG(se,{class:"size-[1.5em]"})},Ee=se=>{var Te=qU();jn(Te),Te.__change=[UU,te],rt(()=>nd(Te,te().status==ma.Active)),de(se,Te)};xt(ue,se=>{te().children&&te().children.length>0?se(pe):se(Ee,!1)})}q(Q);var Be=fe(Q,2),Ye=K(Be);{var Ke=se=>{var Te=YU();jn(Te),yi(Te,We=>Me(m,We),()=>E(m)),p6(Te,()=>E(y),We=>Me(y,We)),de(se,Te)},Ge=se=>{var Te=_t(),We=st(Te);{var Ze=Ve=>{var tt=KU();tt.__click=[jU,l,te,f];var Dt=K(tt,!0);q(tt),rt(()=>Pe(Dt,te().title)),de(Ve,tt)},$e=Ve=>{var tt=ZU(),Dt=K(tt,!0);q(tt),rt(()=>Pe(Dt,te().title)),de(Ve,tt)};xt(We,Ve=>{te().children&&te().children.length>0?Ve(Ze):Ve($e,!1)},!0)}de(se,Te)};xt(Ye,se=>{E(g)==te().id?se(Ke):se(Ge,!1)})}var ve=fe(Ye,2);{var et=se=>{var Te=XU(),We=K(Te),Ze=K(We,!0);q(We),q(Te),rt(()=>Pe(Ze,te().course_code)),de(se,Te)};xt(ve,se=>{te().type==uf.Course&&se(et)})}q(Be);var Ie=fe(Be,2),be=K(Ie);{var xe=se=>{var Te=QU();Te.__click=[JU,R,te];var We=K(Te);v9(We,{class:"size-[1.2em]"}),q(Te),de(se,Te)},Se=se=>{var Te=tq();Te.__click=[eq,y,te,b,g];var We=K(Te);NG(We,{class:"size-[1.2em]"}),q(Te),de(se,Te)};xt(be,se=>{E(g)==te().id?se(xe):se(Se,!1)})}var Re=fe(be,2);Re.__click=[rq,te,l,f,v,g];var ut=K(Re);RG(ut,{class:"size-[1.2em]"}),q(Re);var dt=fe(Re,2);dt.__click=[nq,D,te,w];var Kt=K(dt);Jm(Kt,{class:"size-[1.2em]"}),q(dt);var le=fe(dt,2);le.__click=[iq,te];var Ne=K(le);FG(Ne,{class:"size-[1.2em]"}),q(le),q(Ie),de(X,oe)};let o=Lt(e,"vineselector_modal",15);const s=ZM("session");let u=Ct(()=>{var X;return(X=e.vines)==null?void 0:X.find(te=>{var oe;return((oe=s())==null?void 0:oe.vine_id)==te.id})}),l=ft(void 0),c=Ct(()=>{var X;return E(l)?E(l):(X=E(u))==null?void 0:X.parent_id}),f=ft(1),h=ft(Ou([])),d=ft(Ou([])),v=Ct(()=>{if(!E(h))return;const X=E(h).length;return X>5?Math.ceil(X/5):1}),g=ft(null),m=ft(null),y=ft(""),b=ft("TASK");ha(()=>{E(m)&&E(g)&&E(m).focus()}),ha(()=>{e.vines&&Me(h,oU(e.vines,E(c)).toSorted((X,te)=>X.position-te.position),!0)}),ha(()=>{if(E(h).length>5){const te=(E(f)-1)*5,oe=te+5;Me(d,E(h).slice(te,oe),!0)}else Me(d,E(h),!0)});let w=ft(void 0),S=ft(void 0),D=ft(void 0);function M(X){X.detail.info.id,X.detail.items.length==E(d).length&&Me(d,X.detail.items,!0)}async function A(X){const te=X.detail.info.id;if(X.detail.info.trigger=="droppedIntoAnother")return;const oe=(E(f)-1)*5+X.detail.items.findIndex(Q=>Q.id==te);xu(te,{position:oe})}async function k(X){const te=X.detail.info.id,oe=(E(f)-1)*5-1;xu(te,{position:oe})}async function O(X){const te=X.detail.info.id;let oe=E(f)*5;xu(te,{position:oe+1})}async function P(X,te){console.log(X);const oe=X.detail.info.id;xu(oe,{parent_id:te})}async function R(X){await xu(X.id,{title:E(y)==""?"Nieuwe taak":E(y)}),Me(g,null),Me(y,"")}async function H(X){E(z).open=!1;const te=await c9(void 0,uf.Task,void 0,X??"");Me(f,E(v)??1,!0),Me(g,te,!0)}let z=ft(void 0);var W=bq(),ee=st(W);YG(ee,{get vine(){return E(D)},set vine(X){Me(D,X,!0)},get vine_stats_modal(){return E(w)},set vine_stats_modal(X){Me(w,X,!0)}});var ne=fe(ee,2);WU(ne,{get vines(){return e.vines},get parent_id(){return E(c)},get import_course_modal(){return E(S)},set import_course_modal(X){Me(S,X,!0)}});var he=fe(ne,2);u6(he,()=>E(c),null,(X,te)=>{var oe=_q(),Q=K(oe),ue=fe(K(Q),2),pe=K(ue),Ee=K(pe),Be=K(Ee);OG(Be,{class:"size-[1.2em]"});var Ye=fe(Be);q(Ee);var Ke=fe(Ee,2),Ge=K(Ke),ve=K(Ge);ve.__click=[oq,H,te];var et=K(ve);p9(et,{class:"size-[1.2em]"});var Ie=fe(et);q(ve),q(Ge);var be=fe(Ge,2),xe=K(be);xe.__click=[sq,S,z];var Se=K(xe);Xm(Se,{class:"size-[1.2em]"});var Re=fe(Se);q(xe),q(be),q(Ke),q(pe),yi(pe,$e=>Me(z,$e),()=>E(z));var ut=fe(pe,2);ut.__click=[uq,c,D,w];var dt=K(ut);Jm(dt,{class:"size-[1.2em]"});var Kt=fe(dt,1,!0);q(ut),q(ue);var le=fe(ue,2),Ne=K(le);{var se=$e=>{var Ve=hq();const tt=Ct(()=>sU(e.vines??[],E(c)));var Dt=K(Ve),Zt=K(Dt),dr=K(Zt);dr.__click=[lq,c,f];var ir=K(dr);LG(ir,{class:"size-[1em]"});var Pt=fe(ir,1,!0);q(dr),q(Zt),_s(Zt,(Nr,$r)=>Wr==null?void 0:Wr(Nr,$r),()=>({items:[],dropTargetClasses:["border-4","border-primary","animate-pulse"],dropTargetStyle:{},centreDraggedOnCursor:!0}));var mn=fe(Zt,2);Ls(mn,17,()=>E(tt),Nr=>Nr.id,(Nr,$r)=>{var Ue=fq(),An=K(Ue);An.__click=[cq,l,$r,f];var Gn=K(An,!0);q(An),q(Ue),_s(Ue,(ei,Ae)=>Wr==null?void 0:Wr(ei,Ae),()=>({items:[],type:E(f).toString(),dropTargetClasses:["border-4","border-primary","animate-pulse"],dropTargetStyle:{},centreDraggedOnCursor:!0})),rt(()=>Pe(Gn,E($r).title)),_r("finalize",Ue,ei=>P(ei,E($r).id)),de(Nr,Ue)}),q(Dt),q(Ve),rt(Nr=>Pe(Pt,Nr),[()=>i()("vines")]),_r("finalize",Zt,Nr=>P(Nr,"")),de($e,Ve)};xt(Ne,$e=>{E(c)&&$e(se)})}var Te=fe(Ne,2);pn(Te,"aria-label","Vine List"),Ls(Te,21,()=>E(d),$e=>$e.id,($e,Ve)=>{var tt=_t(),Dt=st(tt);{var Zt=ir=>{var Pt=dq(),mn=K(Pt);a(mn,()=>E(Ve)),q(Pt),_s(Pt,(Nr,$r)=>Wr==null?void 0:Wr(Nr,$r),()=>({items:E(Ve).children,dropTargetClasses:["border-4","border-primary","animate-pulse"],dropTargetStyle:{},centreDraggedOnCursor:!0})),rt(()=>pn(Pt,"aria-label",E(Ve).title)),_r("finalize",Pt,Nr=>P(Nr,E(Ve).id)),de(ir,Pt)},dr=ir=>{var Pt=vq(),mn=K(Pt);a(mn,()=>E(Ve)),q(Pt),rt(()=>pn(Pt,"aria-label",E(Ve).title)),de(ir,Pt)};xt(Dt,ir=>{var Pt;E(Ve).children&&((Pt=E(Ve).children)==null?void 0:Pt.length)>0?ir(Zt):ir(dr,!1)})}de($e,tt)},$e=>{var Ve=pq(),tt=K(Ve);g9(tt,{styles:["size-[5em]"]});var Dt=fe(tt,2),Zt=K(Dt,!0);q(Dt),q(Ve),rt(dr=>Pe(Zt,dr),[()=>i()("no_vines_found")]),de($e,Ve)}),q(Te),_s(Te,($e,Ve)=>Wr==null?void 0:Wr($e,Ve),()=>({items:E(d),dropTargetStyle:{},centreDraggedOnCursor:!0,dragDisabled:E(d).length==0}));var We=fe(Te,2);{var Ze=$e=>{var Ve=yq(),tt=K(Ve);tt.__click=[gq,f],_s(tt,(ir,Pt)=>Wr==null?void 0:Wr(ir,Pt),()=>({items:[],dragDisabled:E(f)<=1,dropFromOthersDisabled:E(f)<=1,centreDraggedOnCursor:!0,dropTargetClasses:["border-4","border-primary","animate-pulse"],dropTargetStyle:{}}));var Dt=fe(tt,2),Zt=K(Dt);q(Dt);var dr=fe(Dt,2);dr.__click=[mq,f],_s(dr,(ir,Pt)=>Wr==null?void 0:Wr(ir,Pt),()=>({items:[],dragDisabled:E(f)==E(v),dropFromOthersDisabled:E(f)==E(v),dropTargetClasses:["border-4","border-primary","animate-pulse"],centreDraggedOnCursor:!0,dropTargetStyle:{}})),q(Ve),rt(ir=>{tt.disabled=E(f)<=1,Pe(Zt,`${ir??""} ${E(f)??""}`),dr.disabled=E(f)==E(v)},[()=>i()("page")]),_r("finalize",tt,k),_r("finalize",dr,O),de($e,Ve)};xt(We,$e=>{E(v)&&E(v)>1&&$e(Ze)})}q(le),q(Q),q(oe),yi(oe,$e=>o($e),()=>o()),rt(($e,Ve,tt,Dt)=>{Pe(Ye,` ${$e??""}`),Pe(Ie,` ${Ve??""}`),Pe(Re,` ${tt??""}`),Pe(Kt,Dt)},[()=>i()("add"),()=>i()("add_task"),()=>i()("add_course"),()=>i()("statistics")]),_r("consider",Te,M),_r("finalize",Te,A),de(X,oe)}),de(t,W),Sa(),n()}Vo(["change","click"]);function xq(t){switch(t){case"ctrl":return 8;case"shift":return 4;case"alt":return 2;case"meta":return 1}}function dg(t,e){let{enabled:r=!0,trigger:n,type:i="keydown"}=e;function a(s){var c;const u=Array.isArray(n)?n:[n],l=[s.metaKey,s.altKey,s.shiftKey,s.ctrlKey].reduce((f,h,d)=>h?f|1<<d:f,0);for(const f of u){const h={preventDefault:!1,enabled:!0,...f},{modifier:d,key:v,callback:g,preventDefault:m,enabled:y}=h;if(y){if(s.key!==v)continue;if(d===null||d===!1){if(l!==0)continue}else if(d!==void 0&&((c=d==null?void 0:d[0])==null?void 0:c.length)>0){const w=Array.isArray(d)?d:[d];let S=!1;for(const D of w)if((Array.isArray(D)?D:[D]).reduce((A,k)=>A|xq(k),0)===l){S=!0;break}if(!S)continue}m&&s.preventDefault();const b={node:t,trigger:h,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:b})),g==null||g(b)}}}let o;return r&&(o=m_(t,i,a)),{update:s=>{const{enabled:u=!0,type:l="keydown"}=s;r&&(!u||i!==l)?o==null||o():!r&&u&&(o=m_(t,l,a)),r=u,i=l,n=s.trigger},destroy:()=>{o==null||o()}}}function Sq(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1"}]];mr(t,gr({name:"pause"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function Y4(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["polygon",{points:"6 3 20 12 6 21 6 3"}]];mr(t,gr({name:"play"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function Tq(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]];mr(t,gr({name:"settings"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function j4(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["polygon",{points:"5 4 15 12 5 20 5 4"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19"}]];mr(t,gr({name:"skip-forward"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}function Mq(t,e){const r=nr(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.526.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]];mr(t,gr({name:"square"},()=>r,{get iconNode(){return n},children:(i,a)=>{var o=_t(),s=st(o);lr(s,e,"default",{},null),de(i,o)},$$slots:{default:!0}}))}var Dq=async(t,e,r,n,i,a)=>{E(e)&&Sn(E(e).elapsed_time)!=0&&await E(e).skip(),Me(e,new Ed(r(),r()==pr.Pomo?E(n):r()==pr.ShortBreak?E(i):E(a)),!0)},Cq=Je("<button><!></button>"),Aq=(t,e)=>{var r;return(r=E(e))==null?void 0:r.showModal()},Iq=(t,e)=>{var r;return(r=E(e))==null?void 0:r.showModal()},Eq=(t,e)=>{var r;return(r=E(e))==null?void 0:r.showModal()},kq=Je('<div class="join"><button class="btn btn-soft md:btn-md join-item w-20 m md:w-36"><!> <span class="hidden md:block"> </span></button> <button class="btn btn-soft md:btn-md join-item w-20 md:w-36"><!> <span class="hidden md:block"> </span></button> <button class="btn btn-soft join-item w-20 md:w-36"><!> <span class="hidden md:block"> </span></button></div>'),Oq=Je('<span class="btn btn-primary btn-sm"><!> </span>'),Pq=Je('<span class="btn btn-primary btn-sm"><!>Geen taak</span>'),Lq=Je('<span aria-live="polite"> </span> : <span aria-live="polite"> </span>',1),Rq=async(t,e)=>{var r;return await((r=E(e))==null?void 0:r.pause())},Nq=async(t,e)=>{var r;return await((r=E(e))==null?void 0:r.skip())},Fq=Je('<button class="btn btn-primary btn-wide btn-sm md:btn-md"><!> </button> <button class="btn btn-secondary btn-sm md:btn-md"><!> </button>',1),zq=async(t,e)=>{var r;return await((r=E(e))==null?void 0:r.start())},Bq=async(t,e)=>{var r;return await((r=E(e))==null?void 0:r.skip())},$q=Je('<button class="btn btn-primary btn-wide btn-sm md:btn-md"><!> </button> <button class="btn btn-secondary btn-sm md:btn-md"><!> </button>',1),Vq=async(t,e)=>{var r;return await((r=E(e))==null?void 0:r.start())},Hq=Je('<button class="btn btn-primary btn-wide btn-sm md:btn-md"><!> </button>'),Gq=Je('<!> <!> <!> <header class="h-[15dvh] flex flex-col gap-2 md:gap-0 md:flex-row justify-around items-center mt-[5dvh] md:mt-0 ml-auto mr-auto"><div class="flex flex-row gap-2 items-center"><!><span class="text-2xl md:text-3xl xl:text-4xl text-primary font-bold">Kairos</span></div> <!></header> <main class="flex flex-col justify-around items-center h-[80dvh] md:h-[85dvh]"><section class="flex flex-col gap-5 items-center"><div class="flex flex-row justify-center gap-2"><!> <!> <!></div> <!></section> <section><span class="countdown font-mono text-6xl md:text-7xl xl:text-8xl rounded w-full"><!></span></section> <section class="flex flex-row gap-2 justify-center"><!></section></main>',1);function uY(t,e){xa(e,!0);const[r,n]=Ns(),i=()=>Fs(fr,"$_",r),a=(xe,Se=o6)=>{var Re=Cq();Re.__click=[Dq,w,Se,f,h,d];var ut=K(Re);{var dt=le=>{var Ne=As();rt(se=>Pe(Ne,se),[()=>i()("pomodoro")]),de(le,Ne)},Kt=le=>{var Ne=_t(),se=st(Ne);{var Te=Ze=>{var $e=As();rt(Ve=>Pe($e,Ve),[()=>i()("break")]),de(Ze,$e)},We=Ze=>{var $e=As();rt(Ve=>Pe($e,Ve),[()=>i()("long_break")]),de(Ze,$e)};xt(se,Ze=>{Se()==pr.ShortBreak?Ze(Te):Ze(We,!1)},!0)}de(le,Ne)};xt(ut,le=>{Se()==pr.Pomo?le(dt):le(Kt,!1)})}q(Re),rt(()=>{var le,Ne,se,Te;Re.disabled=((le=E(w))==null?void 0:le.status)==At.Active,Gc(Re,1,py(["btn btn-sm md:btn-md",{"btn-primary disabled:bg-primary":((Ne=E(w))==null?void 0:Ne.pomo_type)==Se()},{"btn-neutral":((se=E(w))==null?void 0:se.pomo_type)!=Se()},{"disabled:!bg-primary disabled:text-neutral":((Te=E(w))==null?void 0:Te.pomo_type)==Se()}]))}),de(xe,Re)},o=Or(async()=>rr(St.pomo_time),()=>[]),s=Or(async()=>rr(St.short_break_time),()=>[]),u=Or(async()=>rr(St.long_break_time),()=>[]),l=Or(async()=>rr(St.theme_active),()=>[]),c=Or(async()=>rr(St.theme_inactive),()=>[]),f=Ct(()=>o.current),h=Ct(()=>s.current),d=Ct(()=>u.current),v=Ct(()=>l.current),g=Ct(()=>c.current),m=Or(async()=>mt.vines.where("archived").equals(0).toArray(),()=>[]),y=Ct(()=>m.current),b=Ct(()=>{var xe;return(xe=E(y))==null?void 0:xe.find(Se=>Se.status==ma.Active)});let w=ft(void 0);XM("session",()=>E(w)),ly(async()=>{console.debug("App mounted, restoring state...");const xe=await DD();console.debug("State restored."),xe?(console.debug("Restored session from history:",xe.uuid),Me(w,xe,!0),E(w).status==At.Active&&(console.debug("Session was previously active, correcting time_end."),E(w).status=At.Interrupted,E(w).time_end=Date.now()+(E(w).time_aim-E(w).time_real)*1e3)):(console.debug("No previous session found, starting a new one."),Me(w,new Ed(pr.Pomo,await rr(St.pomo_time)),!0))});let S=ft(void 0),D=ft(void 0),M=ft(void 0),A=ft(void 0);ha(()=>{var xe;E(v)&&E(g)&&(((xe=E(w))==null?void 0:xe.status)==At.Active?(console.debug("Switch theme to active:",E(v)),document.documentElement.setAttribute("data-theme",E(v))):(console.debug("Switch theme to inactive:",E(g)),document.documentElement.setAttribute("data-theme",E(g))))}),ha(()=>{var xe;E(w)&&E(w).vine_id!=E(b)&&E(w).switch_vine(((xe=E(b))==null?void 0:xe.id)??void 0)});var k=Gq();mM(xe=>{JM.title="Kairos"}),_s(Pu,(xe,Se)=>dg==null?void 0:dg(xe,Se),()=>({trigger:{key:" ",modifier:!1,callback:()=>{var xe,Se,Re,ut;return(xe=E(S))!=null&&xe.open||(Se=E(D))!=null&&Se.open||(Re=E(M))!=null&&Re.open?null:(ut=E(A))==null?void 0:ut.click()}}}));var O=st(k);kG(O,{get stats_modal(){return E(D)},set stats_modal(xe){Me(D,xe,!0)}});var P=fe(O,2);wq(P,{get vines(){return E(y)},get vineselector_modal(){return E(M)},set vineselector_modal(xe){Me(M,xe,!0)}});var R=fe(P,2);TC(R,{get settings_modal(){return E(S)},set settings_modal(xe){Me(S,xe,!0)},get session(){return E(w)},set session(xe){Me(w,xe,!0)}});var H=fe(R,2),z=K(H),W=K(z);dD(W),Va(),q(z);var ee=fe(z,2);{var ne=xe=>{var Se=kq(),Re=K(Se);Re.__click=[Aq,M];var ut=K(Re);g9(ut,{styles:["size-[1.2em]"]});var dt=fe(ut,2),Kt=K(dt,!0);q(dt),q(Re);var le=fe(Re,2);le.__click=[Iq,D];var Ne=K(le);Jm(Ne,{class:"size-[1.2em]"});var se=fe(Ne,2),Te=K(se,!0);q(se),q(le);var We=fe(le,2);We.__click=[Eq,S];var Ze=K(We);Tq(Ze,{class:"size-[1.2em]"});var $e=fe(Ze,2),Ve=K($e,!0);q($e),q(We),q(Se),rt((tt,Dt,Zt)=>{Pe(Kt,tt),Pe(Te,Dt),Pe(Ve,Zt)},[()=>i()("vines"),()=>i()("statistics"),()=>i()("settings")]),de(xe,Se)};xt(ee,xe=>{var Se;((Se=E(w))==null?void 0:Se.status)!=At.Active&&xe(ne)})}q(H);var he=fe(H,2),X=K(he),te=K(X),oe=K(te);a(oe,()=>pr.Pomo);var Q=fe(oe,2);a(Q,()=>pr.ShortBreak);var ue=fe(Q,2);a(ue,()=>pr.LongBreak),q(te);var pe=fe(te,2);{var Ee=xe=>{var Se=Oq(),Re=K(Se);p9(Re,{class:"size-[1.2em]"});var ut=fe(Re,1,!0);q(Se),rt(()=>Pe(ut,E(b).title)),de(xe,Se)},Be=xe=>{var Se=Pq(),Re=K(Se);Mq(Re,{class:"size-[1.2em]"}),Va(),q(Se),de(xe,Se)};xt(pe,xe=>{E(b)?xe(Ee):xe(Be,!1)})}q(X);var Ye=fe(X,2),Ke=K(Ye),Ge=K(Ke);{var ve=xe=>{var Se=Lq(),Re=st(Se),ut=K(Re,!0);q(Re);var dt=fe(Re,2),Kt=K(dt,!0);q(dt),rt(()=>{gg(Re,`--value:${E(w).minutes};`),pn(Re,"aria-label",`${E(w).minutes}`),Pe(ut,E(w).minutes),gg(dt,`--value:${E(w).seconds};`),pn(dt,"aria-label",`${E(w).seconds}`),Pe(Kt,E(w).seconds)}),de(xe,Se)};xt(Ge,xe=>{E(w)&&xe(ve)})}q(Ke),q(Ye);var et=fe(Ye,2),Ie=K(et);{var be=xe=>{var Se=_t(),Re=st(Se);{var ut=Kt=>{var le=Fq(),Ne=st(le);Ne.__click=[Rq,w];var se=K(Ne);Sq(se,{class:"size-[1.2em]"});var Te=fe(se);q(Ne),yi(Ne,Ve=>Me(A,Ve),()=>E(A));var We=fe(Ne,2);We.__click=[Nq,w];var Ze=K(We);j4(Ze,{class:"size-[1.2em]"});var $e=fe(Ze,1,!0);q(We),rt((Ve,tt)=>{Pe(Te,` ${Ve??""}`),Pe($e,tt)},[()=>i()("pause"),()=>i()("skip")]),de(Kt,le)},dt=Kt=>{var le=_t(),Ne=st(le);{var se=We=>{var Ze=$q(),$e=st(Ze);$e.__click=[zq,w];var Ve=K($e);Y4(Ve,{class:"size-[1.2em]"});var tt=fe(Ve);q($e),yi($e,ir=>Me(A,ir),()=>E(A));var Dt=fe($e,2);Dt.__click=[Bq,w];var Zt=K(Dt);j4(Zt,{class:"size-[1.2em]"});var dr=fe(Zt);q(Dt),rt((ir,Pt)=>{Pe(tt,` ${ir??""}`),Pe(dr,` ${Pt??""}`)},[()=>i()("resume"),()=>i()("skip")]),de(We,Ze)},Te=We=>{var Ze=Hq();Ze.__click=[Vq,w];var $e=K(Ze);Y4($e,{class:"size-[1.2em]"});var Ve=fe($e,1,!0);q(Ze),yi(Ze,tt=>Me(A,tt),()=>E(A)),rt(tt=>Pe(Ve,tt),[()=>i()("start")]),de(We,Ze)};xt(Ne,We=>{E(w).status==At.Paused?We(se):We(Te,!1)},!0)}de(Kt,le)};xt(Re,Kt=>{E(w).status==At.Active?Kt(ut):Kt(dt,!1)})}de(xe,Se)};xt(Ie,xe=>{E(w)&&xe(be)})}q(et),q(he),de(t,k),Sa(),n()}Vo(["click"]);export{Id as D,uY as _};
