<script lang="ts">
	import VinesUi from './vines-ui.svelte';

	interface Props {
		isOpen: boolean;
		close: () => {};
	}
	const {
		// provided by <Modals />
		isOpen,
		close,
	}: Props = $props();

	let dialog_el: HTMLDialogElement | null = $state(null);

	$effect(() => {
		if (dialog_el && isOpen && !dialog_el.open) {
			dialog_el.showModal();
		} else if (dialog_el && !isOpen && dialog_el.open) {
			dialog_el.requestClose();
		}
	});
</script>

<dialog
	bind:this={dialog_el}
	class="modal"
	onclose={(e) => {
		e.preventDefault();
		close();
	}}
>
	<div class="modal-box max-h-[90dvh]">
		<div class="flex flex-row justify-between items-center w-full">
			<h3 class="text-lg font-bold self-baseline">Vines</h3>
			<form method="dialog">
				<button class="btn btn-sm btn-circle btn-ghost">âœ•</button>
			</form>
		</div>
		<VinesUi />
	</div>
</dialog>
